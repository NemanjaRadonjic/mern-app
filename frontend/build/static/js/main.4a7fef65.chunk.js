(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{55:function(e,n,t){e.exports=t(88)},88:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(18),i=t(4),c=t.n(i),u=t(6),s=t(3),l=t(5),m=t(11),d=t(8),p=t(45),f=function(e){return{type:"LOGIN",payload:e}},b=function(){return{type:"LOGOUT"}},h=function(e){return{type:"SET_PREVIEW_CANVAS",payload:e}},g=t(10),v=Object(p.create)({baseURL:"http://localhost:4000",withCredentials:!0});v.interceptors.response.use((function(e){return e}),function(){var e=Object(u.a)(c.a.mark((function e(n){var t,r,a,o,i,u,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(403!==(null===(t=n.response)||void 0===t?void 0:t.status)){e.next=18;break}if(!(null===(r=n.response)||void 0===r?void 0:r.data.expiredAt)&&"jwt malformed"!==(null===(a=n.response)||void 0===a?void 0:a.data.message)){e.next=16;break}return i=n.config,u=JSON.parse(window.localStorage.getItem("user")),e.next=6,v.post("/auth/refresh_token",{userData:u});case 6:if(!(s=e.sent)){e.next=16;break}if(!(l=s.data.accessToken)){e.next=16;break}return v.defaults.headers.authorization="Bearer "+l,i.headers.authorization="Bearer "+l,window.localStorage.setItem("accessToken",JSON.stringify(l)),e.next=15,v(i);case 15:return e.abrupt("return",e.sent);case 16:return""===(null===(o=n.response)||void 0===o?void 0:o.data.accessToken)&&(window.localStorage.removeItem("user"),window.localStorage.removeItem("accessToken"),Ra.dispatch({type:"LOGOUT"}),g.b.error("Session expired.")),e.abrupt("return",Promise.reject(n));case 18:return e.abrupt("return",Promise.reject(n));case 19:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());var x=v,w=t(92),O=function(e,n){if("background"===n){var t=null===e||void 0===e?void 0:e.split("\\")[1];return"http://localhost:4000/uploads/".concat(e?t:"")}return"http://localhost:4000/".concat(e||"uploads/AvatarDefault.jpg")},k=O,j=t(93),E=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=Object(r.useState)(e),t=Object(l.a)(n,2),a=t[0],o=t[1];return{loaderActive:a,setLoaderActive:o}},y=t(2),C=t(1);function P(){var e=Object(y.a)(["\n  border-radius: 50%;\n  width: ",";\n  height: ",";\n  margin: 60px auto;\n  font-size: ",";\n  position: ",";\n  top: ",";\n  right: 0.8rem;\n  text-indent: -9999em;\n  border-top: 1.1em solid rgba(255, 255, 255, 0.2);\n  border-right: 1.1em solid rgba(255, 255, 255, 0.2);\n  border-bottom: 1.1em solid rgba(255, 255, 255, 0.2);\n  border-left: 1.1em solid rgb(",");\n  -webkit-transform: translateZ(0);\n  -ms-transform: translateZ(0);\n  transform: translateZ(0);\n  -webkit-animation: "," 1s infinite linear;\n  animation: "," 1s infinite linear;\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);\n\n  &:after {\n    border-radius: 50%;\n    width: ",";\n    height: ",";\n    box-shadow: inset 10px 10px 1px 10px rgba(0, 0, 0, 1);\n  }\n"]);return P=function(){return e},e}function S(){var e=Object(y.a)(["\n  0% {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n"]);return S=function(){return e},e}function N(){var e=Object(y.a)(["\n  margin: 1rem auto;\n  width: 9.5rem;\n  font-size: 1rem;\n  background: transparent;\n  display: block;\n  padding: 0 1rem;\n  color: rgb(",");\n  border: none;\n  border: 1px solid\n    ",";\n  box-shadow: inset 0 2rem 2rem\n    ",";\n  cursor: pointer;\n\n  transition: box-shadow 0.3s ease-in-out, border 0.5s ease-in-out;\n\n  &:hover {\n    box-shadow: inset 0 -2rem 10rem ",";\n  }\n  &.force-center {\n    position: absolute;\n    bottom: 0;\n    left: 50%;\n    transform: translateX(-50%);\n  }\n"]);return N=function(){return e},e}function _(){var e=Object(y.a)(["\n  margin-top: 5rem;\n  color: gray;\n  font-size: 1.2rem;\n  text-align: center;\n"]);return _=function(){return e},e}function A(){var e=Object(y.a)(["\n  cursor: pointer;\n  margin: 3rem auto 1rem auto;\n  text-align: center;\n  text-decoration: underline;\n  &:hover {\n    color: rgb(",");\n  }\n\n  @media (max-height: 900px) {\n    margin: 1rem auto;\n  }\n"]);return A=function(){return e},e}function z(){var e=Object(y.a)(["\n  width: 100%;\n  height: 1.5rem;\n  margin: 0 auto 0.5rem auto;\n  color: rgb(",");\n  text-align: center;\n"]);return z=function(){return e},e}function I(){var e=Object(y.a)(["\n  width: 60%;\n  margin: 0.5rem auto;\n  font-size: 1.1rem;\n  padding: 0.5rem 1rem;\n  border: none;\n  border-bottom: 2px solid\n    rgb(",");\n  background-color: transparent;\n  box-shadow: inset 0 0px 0px rgb(0, 0, 0, 0.2);\n  transition: box-shadow 0.2s ease-in-out, border 0.2s ease-in-out;\n\n  &:hover {\n    box-shadow: inset 0 3px 10px rgb(0, 0, 0, 0.1);\n  }\n\n  &:focus {\n    box-shadow: inset 0 3px 10px rgb(0, 0, 0, 0.1);\n  }\n\n  @media (max-height: 900px) {\n    margin: 0 auto;\n  }\n"]);return I=function(){return e},e}function L(){var e=Object(y.a)(["\n  font-size: 2rem;\n  text-align: center;\n  margin-bottom: 3rem;\n  color: rgb(",");\n\n  @media (max-height: 900px) {\n    margin-bottom: 1rem;\n  }\n"]);return L=function(){return e},e}function T(){var e=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 70%;\n  @media (max-height: 900px) {\n  }\n"]);return T=function(){return e},e}function M(){var e=Object(y.a)(["\n  height: ",";\n  width: 100%;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  position: relative;\n\n  @media (max-width: 600px) {\n    height: ",";\n  }\n"]);return M=function(){return e},e}var D=C.d.div(M(),(function(e){return e.smaller?"50vh":"100vh"}),(function(e){return e.smaller?"45vh":"calc(100vh - 11rem)"})),Y=C.d.form(T()),R=C.d.div(L(),(function(e){return e.theme.primary})),U=C.d.input(I(),(function(e){return e.error?e.theme.error:e.theme.primary})),F=C.d.div(z(),(function(e){return e.theme.error})),B=C.d.div(A(),(function(e){return e.theme.primary})),H=C.d.div(_()),J=C.d.button(N(),(function(e){return e.theme.text}),(function(e){return e.disabled?"rgba(".concat(e.theme.primary,", 0.5)"):"rgb(".concat(e.theme.primary,")")}),(function(e){return e.disabled?"rgba(".concat(e.theme.primary,", 0.5)"):"rgb(".concat(e.theme.primary,")")}),(function(e){return e.disabled?"rgba(".concat(e.theme.primary,", 0.7)"):"rgb(".concat(e.theme.primary,")")})),G=Object(C.e)(S()),Z=C.d.div(P(),(function(e){return e.mini?"1rem":"5rem"}),(function(e){return e.mini?"1rem":"5rem"}),(function(e){return e.mini?"4px":"10px"}),(function(e){return e.mini?"absolute":"relative"}),(function(e){return e.mini?"-3.1rem":"-2.1rem"}),(function(e){return e.theme.primary}),G,G,(function(e){return e.mini?"2rem":"10rem"}),(function(e){return e.mini?"2rem":"10rem"})),q=Object(r.createContext)({});function V(){var e=Object(y.a)(["\n  border: 5px solid\n    rgb(\n      ","\n    );\n  background: rgb(",");\n  margin: 0.5rem auto;\n  height: 4.5rem;\n  width: 80%;\n  border-radius: 15px;\n  cursor: pointer;\n  box-shadow: 0 3px 10px rgb(0, 0, 0, 0.2);\n  transition: box-shadow 0.2s ease-in-out, border-radius 0.2s ease-in-out,\n    border 0.2s ease-in-out;\n\n  &:hover {\n    box-shadow: 0 3px 10px rgb(0, 0, 0, 0.1);\n    border-radius: 4px;\n  }\n\n  @media (max-height: 814px) {\n    height: 3.2rem;\n  }\n"]);return V=function(){return e},e}function X(){var e=Object(y.a)(["\n  color: rgb(",");\n  margin: 1rem 0;\n  cursor: pointer;\n  text-align: center;\n  padding: 0.5rem 0;\n  box-shadow: inset 2px 0 1px rgb(",");\n  transition: box-shadow 0.2s ease-in-out, color 0.3s ease-in-out;\n\n  &:hover {\n    box-shadow: inset 12rem 0 0 rgb(",");\n  }\n"]);return X=function(){return e},e}function W(){var e=Object(y.a)(["\n  font-weight: 500;\n  text-align: center;\n  margin-bottom: 1rem;\n"]);return W=function(){return e},e}function $(){var e=Object(y.a)(["\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  padding-top: 4rem;\n  width: 7rem;\n  box-shadow: 0 3px 10px rgb(0, 0, 0, 0.2);\n  transition: box-shadow 0.2s ease-in-out;\n  background: rgb(",");\n\n  &:hover {\n    box-shadow: 0 3px 10px rgb(0, 0, 0, 0.1);\n  }\n"]);return $=function(){return e},e}var K=C.d.div($(),(function(e){return e.theme.background})),Q=C.d.div(W()),ee=C.d.div(X(),(function(e){return e.color}),(function(e){return e.theme.text}),(function(e){return e.theme.text})),ne=C.d.div(V(),(function(e){return e.active?e.theme.text:e.theme.background}),(function(e){return e.color})),te={dark:{background:"51,51,51",text:"201, 201, 201",lightText:"224, 224, 224",error:"227, 20, 20"},light:{background:"255,240,240",text:"51,51,51",lightText:"87, 87, 87",error:"255, 41, 41"}},re={red:"255, 67, 64",orange:"224, 135, 0",blue:"25, 121, 255",green:"14, 201, 64",greenBlue:"12, 201, 164",pink:"211, 30, 214",pinkRed:"214, 30, 116",purple:"131, 30, 214"},ae=function(){var e=Object(r.useContext)(q),n=e.themeInfo,t=e.setMode,o=e.setAccent,i=function(e){o(re[e]),window.localStorage.setItem("theme",JSON.stringify(Object(s.a)(Object(s.a)({},n),{},{accent:e})))},c=function(e){return n.accent===e};return a.a.createElement(K,{id:"themeDropdown"},a.a.createElement(ee,{color:re[n.accent],onClick:function(){var e="light"===n.mode?"dark":"light";t(Object(s.a)({},te[e])),window.localStorage.setItem("theme",JSON.stringify(Object(s.a)(Object(s.a)({},n),{},{mode:e})))}},"dark"===n.mode?"Light":"Dark"," Mode"),a.a.createElement(Q,null,"Accent:"),a.a.createElement(ne,{active:c("red"),color:re.red,onClick:function(){return i("red")}}),a.a.createElement(ne,{active:c("purple"),color:re.purple,onClick:function(){return i("purple")}}),a.a.createElement(ne,{active:c("pink"),color:re.pink,onClick:function(){return i("pink")}}),a.a.createElement(ne,{active:c("pinkRed"),color:re.pinkRed,onClick:function(){return i("pinkRed")}}),a.a.createElement(ne,{active:c("blue"),color:re.blue,onClick:function(){return i("blue")}}),a.a.createElement(ne,{active:c("greenBlue"),color:re.greenBlue,onClick:function(){return i("greenBlue")}}),a.a.createElement(ne,{active:c("green"),color:re.green,onClick:function(){return i("green")}}),a.a.createElement(ne,{active:c("orange"),color:re.orange,onClick:function(){return i("orange")}}))};function oe(){var e=Object(y.a)(["\n  position: absolute;\n  color: rgb(",");\n  height: 3rem;\n  font-size: 2rem;\n  margin: 2rem 2.5rem;\n  cursor: pointer;\n  z-index: 1000;\n\n  @media (max-width: 1000px) {\n    margin: 1rem 2.5rem;\n  }\n"]);return oe=function(){return e},e}function ie(){var e=Object(y.a)(["\n  position: absolute;\n  top: 0.95rem;\n  right: 1rem;\n  color: gray;\n"]);return ie=function(){return e},e}function ce(){var e=Object(y.a)(["\n  border-left: 1px solid rgb(",");\n  display: flex;\n  padding: 1rem 1rem;\n  width: calc(100% - 2rem);\n  background: rgba(\n    ",",\n    ","\n  );\n  transition: background 0.3s ease-in-out, color 0.2s ease-in-out,\n    border 0.2s ease-in-out;\n\n  &:hover {\n    border-left: 3px solid rgb(",");\n    background: rgba(\n      ",",\n      ","\n    );\n    color: rgb(",");\n  }\n"]);return ce=function(){return e},e}function ue(){var e=Object(y.a)(["\n  width: 100%;\n  background-image: linear-gradient(\n      to right,\n      rgba(",", 0.7),\n      rgba(",", 0.4)\n    ),\n    url(",");\n  background-size: cover;\n  overflow: hidden;\n"]);return ue=function(){return e},e}function se(){var e=Object(y.a)(["\n  width: calc(100% - 3rem - 1px);\n  position: relative;\n  font-size: 1.1rem;\n  padding: 0.5rem 2rem 0.5rem 1rem;\n  border: none;\n  border-left: 1px solid rgb(",");\n  background-color: transparent;\n  box-shadow: 0 3px 10px rgb(0, 0, 0, 0.2);\n  transition: box-shadow 0.2s ease-in-out, border 0.3s ease-in-out;\n\n  @media (max-width: 1000px) {\n    box-shadow: 0 3px 10px rgb(0, 0, 0, 0.1);\n  }\n\n  &:hover {\n    box-shadow: 0 3px 10px rgb(0, 0, 0, 0.1);\n  }\n\n  &:focus {\n    box-shadow: 0 3px 10px rgb(0, 0, 0, 0.1);\n  }\n"]);return se=function(){return e},e}function le(){var e=Object(y.a)(["\n  display: flex;\n  align-items: center;\n  margin-left: 1rem;\n"]);return le=function(){return e},e}function me(){var e=Object(y.a)(["\n  border-radius: 50%;\n  height: 2.8rem;\n  width: 2.8rem;\n  box-shadow: 0 3px 10px rgb(0, 0, 0, 0.2);\n"]);return me=function(){return e},e}function de(){var e=Object(y.a)(["\n  background: rgb(",");\n  box-shadow: 0 3px 10px rgb(0, 0, 0, 0.2);\n  transition: box-shadow 0.2s ease-in-out;\n\n  &:hover {\n    box-shadow: 0 3px 10px rgb(0, 0, 0, 0.1);\n  }\n\n  &:focus {\n    box-shadow: 0 3px 10px rgb(0, 0, 0, 0.1);\n  }\n"]);return de=function(){return e},e}function pe(){var e=Object(y.a)(["\n  width: 100%;\n  position: relative;\n  float: right;\n"]);return pe=function(){return e},e}function fe(){var e=Object(y.a)(["\n  width: 16rem;\n  position: absolute;\n  margin-top: 1.6rem;\n  right: 0;\n\n  @media (max-width: 1500px) {\n    width: 15rem;\n  }\n\n  @media (max-width: 1400px) {\n    width: 14rem;\n  }\n\n  @media (max-width: 1300px) {\n    width: 14rem;\n  }\n\n  @media (max-width: 1200px) {\n    width: 13rem;\n  }\n\n  @media (max-width: 1100px) {\n    width: 10rem;\n  }\n\n  @media (max-width: 1000px) {\n    width: 12rem;\n    left: 8rem;\n    margin-top: 0.5rem;\n  }\n\n  @media (max-width: 600px) {\n    left: 45%;\n  }\n"]);return fe=function(){return e},e}function be(){var e=Object(y.a)(["\n  height: 100%;\n  width: 30%;\n  position: fixed;\n  display: flex;\n  justify-content: space-between;\n\n  @media (max-width: 1700px) {\n    width: 28%;\n  }\n\n  @media (max-width: 1600px) {\n    width: 26%;\n  }\n\n  @media (max-width: 1500px) {\n    width: 27%;\n  }\n\n  @media (max-width: 1400px) {\n    width: 22%:\n  }\n\n  @media (max-width: 1300px) {\n    width: 28%;\n  }\n\n  @media (max-width: 1200px) {\n    width: 30%;\n  }\n\n  @media (max-width: 1100px) {\n    width: 28%;\n  }\n\n  @media (max-width: 1000px) {\n    width: 50%;\n    height: 4rem;\n    background: rgb(",");\n  }\n\n  @media (max-width: 600px) {\n    width: 100%;\n    height: 4rem;\n    background: rgb(",");\n  }\n"]);return be=function(){return e},e}var he=C.d.div(be(),(function(e){return e.theme.background}),(function(e){return e.theme.background})),ge=C.d.div(fe()),ve=C.d.div(pe()),xe=C.d.div(de(),(function(e){return e.theme.background})),we=C.d.img(me()),Oe=C.d.div(le()),ke=C.d.input(se(),(function(e){return e.theme.primary})),je=C.d.div(ue(),(function(e){return e.theme.background}),(function(e){return e.theme.background}),(function(e){return e.backgroundImageUrl})),Ee=C.d.div(ce(),(function(e){return e.theme.primary}),(function(e){return e.theme.background}),(function(e){return"light"===e.mode?"0.2":"0.8"}),(function(e){return e.theme.primary}),(function(e){return e.theme.background}),(function(e){return"light"===e.mode?"0":"0.6"}),(function(e){return e.theme.primary})),ye=C.d.i(ie()),Ce=C.d.i(oe(),(function(e){return e.theme.primary}));var Pe=function(){var e=Object(r.useState)(""),n=Object(l.a)(e,2),t=n[0],o=n[1],i=Object(r.useState)(null),s=Object(l.a)(i,2),m=s[0],p=s[1],f=Object(r.useState)(!1),b=Object(l.a)(f,2),h=b[0],g=b[1],v=Object(r.useState)(!1),O=Object(l.a)(v,2),y=O[0],C=O[1],P=E(!1),S=P.loaderActive,N=P.setLoaderActive,_=function(){var e=Object(u.a)(c.a.mark((function e(n){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),e.next=3,x.get("/users",{params:{input:n}});case 3:t=e.sent,p(t.data),C(!0),N(!1);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),A=Object(w.a)((function(e){_(e)}),400);Object(r.useEffect)((function(){return document.addEventListener("mousedown",z),document.addEventListener("mousedown",I),function(){document.removeEventListener("mousedown",z),document.removeEventListener("mousedown",I)}}),[]);var z=function(e){var n,t,r,a,o,i;"debounce-input"===e.target.className||"text-align__center"===(null===(n=e.target.parentElement)||void 0===n?void 0:n.className)||"text-align__center"===(null===(t=e.target.parentElement)||void 0===t||null===(r=t.parentElement)||void 0===r?void 0:r.className)||"text-align__center"===(null===(a=e.target.parentElement)||void 0===a||null===(o=a.parentElement)||void 0===o||null===(i=o.parentElement)||void 0===i?void 0:i.className)||"string"===typeof e.target.className&&e.target.className.includes("fa-search")||C(!1)},I=function(e){var n,t,r;"string"===typeof e.target.className&&e.target.className.includes("fas fa-palette")||"themeDropdown"===(null===(n=e.target)||void 0===n?void 0:n.id)||"themeDropdown"===(null===(t=e.target)||void 0===t||null===(r=t.parentElement)||void 0===r?void 0:r.id)||"string"===typeof e.target.className&&e.target.className.includes("fa-search")||g(!1)};return a.a.createElement(he,null,h&&a.a.createElement(ae,null),a.a.createElement(Ce,{className:"fas fa-palette",onClick:function(){g(!h)}}),a.a.createElement(ge,null,a.a.createElement(ve,null,a.a.createElement(ke,{onFocus:function(){return C(!0)},value:t,onChange:function(e){var n;n=e.target.value,N(!0),o(n),A(e.target.value)},spellCheck:"false",type:"text",placeholder:"Search...",maxLength:12}),S?a.a.createElement(Z,{mini:!0}):a.a.createElement(ye,{className:"fas fa-search"})),m&&y&&a.a.createElement(xe,null,m.map((function(e){return a.a.createElement(d.b,{onClick:function(){o(""),p(null)},key:Object(j.a)(),style:{height:"auto"},className:"text-align__center",to:"/user/".concat(e.username)},a.a.createElement(je,{backgroundImageUrl:k(e.background,"background")},a.a.createElement(Ee,null,a.a.createElement(we,{src:k(e.avatar)}),a.a.createElement(Oe,null,e.username))))})))))},Se=t(7);function Ne(){var e=Object(y.a)(["\n  background: rgb(",");\n  height: 2.7rem;\n  box-shadow: inset 2px 0 1px rgb(",");\n  transition: box-shadow 0.2s ease-in-out, color 0.3s ease-in-out;\n\n  &:hover {\n    box-shadow: inset 12rem 0 0 rgb(",");\n    color: rgb(",");\n  }\n"]);return Ne=function(){return e},e}function _e(){var e=Object(y.a)(["\n  background: rgb(",");\n  padding: 1rem 0.5rem;\n  width: calc(100% - 1rem);\n  color: gray;\n"]);return _e=function(){return e},e}function Ae(){var e=Object(y.a)(["\n  background: rgb(",");\n  height: 10px;\n  width: 20px;\n  position: absolute;\n  margin-top: -10px;\n  left: 50%;\n  transform: translateX(-50%);\n  clip-path: polygon(50% 0%, 0% 100%, 100% 100%);\n\n  @media (max-width: 600px) {\n    top: 29.6rem;\n    clip-path: polygon(50% 100%, 0% 0%, 100% 0);\n  }\n"]);return Ae=function(){return e},e}function ze(){var e=Object(y.a)(["\n  filter: drop-shadow(\n    0px -1px 0px rgba(",", 0.5)\n  );\n\n  @media (max-width: 600px) {\n    filter: drop-shadow(\n      0px 1px 0px rgba(",", 0.5)\n    );\n  }\n"]);return ze=function(){return e},e}function Ie(){var e=Object(y.a)(["\n  margin-top: -0.5rem;\n  margin-left: -1.1rem;\n  border-left: 1px solid rgb(",");\n  box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.2);\n  width: 12rem;\n\n  @media (max-width: 1000px) {\n    position: absolute;\n    right: 0.9rem;\n    top: 6rem;\n  }\n\n  @media (max-width: 600px) {\n    top: -28.5rem;\n    right: 50%;\n    transform: translateX(22%);\n  }\n"]);return Ie=function(){return e},e}var Le=C.d.div(Ie(),(function(e){return e.theme.primary})),Te=C.d.div(ze(),(function(e){return e.theme.primary}),(function(e){return e.theme.primary})),Me=C.d.div(Ae(),(function(e){return e.theme.background})),De=C.d.div(_e(),(function(e){return e.theme.background})),Ye=C.d.div(Ne(),(function(e){return e.theme.background}),(function(e){return e.theme.primary}),(function(e){return e.theme.primary}),(function(e){return e.theme.background})),Re=function(e){var n=e.username,t=e.toggleDropdown,o=e.toggleModal,i=e.handleLogout;return Object(r.useEffect)((function(){var e=function(e){"dropdown"===e.target.parentElement.id||"dropdown"===e.target.parentElement.parentElement.id||"open-dropdown"===e.target.id||t()};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[t]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Le,{id:"dropdown"},a.a.createElement(Te,null,a.a.createElement(Me,null)),a.a.createElement(Ye,null,a.a.createElement(d.b,{to:"/user/".concat(n),onClick:t},"Profile")),a.a.createElement(De,null,"Account Settings"),a.a.createElement(Ye,null,a.a.createElement(d.b,{onClick:t,to:"/user/".concat(n,"/settings/username")},"Change Your Username")),a.a.createElement(Ye,null,a.a.createElement(d.b,{onClick:t,to:"/user/".concat(n,"/settings/email")},"Change Your Email")),a.a.createElement(Ye,null,a.a.createElement(d.b,{onClick:t,to:"/user/".concat(n,"/settings/password")},"Change Your Password")),a.a.createElement(Ye,null,a.a.createElement(d.b,{onClick:function(){t(),o()},to:""},"Delete Account")),a.a.createElement(De,null,"Profile Settings"),a.a.createElement(Ye,null,a.a.createElement(d.b,{to:"/user/".concat(n,"/settings/background"),onClick:t},"Change Background")),a.a.createElement(Ye,null,a.a.createElement(d.b,{to:"/user/".concat(n,"/settings/avatar"),onClick:t},"Change Avatar")),a.a.createElement(Ye,{onClick:i},a.a.createElement(d.b,{to:"/home",onClick:t},"Log out"))))};function Ue(){var e=Object(y.a)(["\n  font-size: 1.2rem;\n  color: ",";\n  text-align: center;\n"]);return Ue=function(){return e},e}function Fe(){var e=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 20rem;\n"]);return Fe=function(){return e},e}function Be(){var e=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  position: fixed;\n  background: rgba(",", 0.8);\n  height: 100vh;\n  width: 100vw;\n  z-index: 100;\n"]);return Be=function(){return e},e}var He=C.d.div(Be(),(function(e){return e.theme.background})),Je=C.d.div(Fe()),Ge=C.d.p(Ue(),(function(e){return e.danger?"rgb(".concat(e.theme.primary,")"):"inherit"})),Ze=function(e){var n=e.toggleModal,t=e.handleLogout,r=Object(Se.c)((function(e){return e.user})),i=function(){var e=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.delete("users/".concat(r.username,"/delete"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(o.createPortal)(a.a.createElement(He,{onClick:n},a.a.createElement(Je,null,a.a.createElement(Ge,{danger:!0},"This action is irreversible!"),a.a.createElement(Ge,null,"Are you sure you want to delete your account?"),a.a.createElement(J,{style:{width:"auto"},onClick:function(){i(),t()}},"I want do delete my account"),a.a.createElement(J,null,"Cancel"))),document.getElementById("portal"))};function qe(){var e=Object(y.a)(["\n  height: 100%;\n  width: 100%;\n  transition: color 0.2s ease-in-out;\n  font-size: 1.1rem;\n\n  &:hover {\n    color: rgb(",");\n  }\n"]);return qe=function(){return e},e}function Ve(){var e=Object(y.a)(["\n  margin: auto;\n  font-size: inherit;\n  font-family: inherit;\n  background: none;\n  border: none;\n  cursor: pointer;\n  transition: color 0.1s ease-in-out;\n\n  &:hover,\n  &:focus,\n  &:active {\n    color: rgb(",");\n  }\n"]);return Ve=function(){return e},e}function Xe(){var e=Object(y.a)(["\n  height: 3rem;\n  width: 3rem;\n  border-radius: 50%;\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.4);\n  margin: auto 0;\n  cursor: pointer;\n\n  transition: color 0.1s ease-in-out;\n\n  &:hover {\n    color: rgb(",");\n  }\n  @media (max-width: 600px) {\n    order: 2;\n  }\n"]);return Xe=function(){return e},e}function We(){var e=Object(y.a)(["\n  font-size: 1.5rem;\n  margin: auto;\n  cursor: pointer;\n  color: rgb(",");\n  transition: color 0.1s ease-in-out;\n\n  &:hover {\n    color: rgb(",");\n  }\n  @media (max-width: 600px) {\n    order: 3;\n  }\n"]);return We=function(){return e},e}function $e(){var e=Object(y.a)(["\n  cursor: pointer;\n  transition: color 0.1s ease-in-out;\n\n  &:hover {\n    color: rgb(",");\n  }\n\n  @media (max-width: 600px) {\n    margin-left: 0.5rem;\n    order: 1;\n  }\n"]);return $e=function(){return e},e}function Ke(){var e=Object(y.a)(["\n  margin-top: 1rem;\n  height: 5rem;\n  width: 10rem;\n  float: left;\n  display: flex;\n  justify-content: space-around;\n\n  @media (max-width: 1000px) {\n    margin-top: -0.5rem;\n    margin-right: 2rem;\n    float: right;\n    flex-direction: row-reverse;\n  }\n\n  @media (max-width: 600px) {\n    float: none;\n    margin: 0;\n    align-items: center;\n  }\n"]);return Ke=function(){return e},e}function Qe(){var e=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  width: 30%;\n  position: fixed;\n  right: 0;\n\n  @media (max-width: 1700px) {\n    width: 28%;\n  }\n\n  @media (max-width: 1600px) {\n    width: 26%;\n  }\n\n  @media (max-width: 1500px) {\n    width: 27%;\n  }\n\n  @media (max-width: 1400px) {\n    width: 22%:\n  }\n\n  @media (max-width: 1300px) {\n    width: 28%;\n  }\n\n  @media (max-width: 1200px) {\n    width: 30%;\n  }\n\n  @media (max-width: 1100px) {\n    width: 28%;\n  }\n\n  @media (max-width: 1000px) {\n    width: 50%;\n    height: 4rem;\n    display: inline;\n    background: rgb(",");\n  }\n\n  @media (max-width: 600px) {\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    width: 100%;\n    height: 4rem;\n    bottom: 0;\n    background: rgb(",");\n    box-shadow: 0 -3px 10px rgb(0, 0, 0, 0.2);\n  }\n"]);return Qe=function(){return e},e}var en=C.d.div(Qe(),(function(e){return e.theme.background}),(function(e){return e.theme.background})),nn=C.d.div(Ke()),tn=C.d.p($e(),(function(e){return e.theme.primary})),rn=C.d.div(We(),(function(e){return e.theme.text}),(function(e){return e.theme.primary})),an=C.d.img(Xe(),(function(e){return e.theme.primary})),on=(C.d.a(Ve(),(function(e){return e.theme.primary})),C.d.div(qe(),(function(e){return e.theme.primary})));var cn=Object(Se.b)(null,{logout:b})((function(e){var n=e.logout,t=Object(Se.c)((function(e){return e.user})),o=Object(r.useState)(!1),i=Object(l.a)(o,2),c=i[0],u=i[1],s=Object(r.useState)(!1),m=Object(l.a)(s,2),p=m[0],f=m[1],b=function(){n(),window.localStorage.removeItem("user"),window.localStorage.removeItem("accessToken")},h=function(){u(!c)},g=function(){f(!p)};return a.a.createElement(a.a.Fragment,null,p&&a.a.createElement(Ze,{toggleModal:g,handleLogout:b}),a.a.createElement(en,null,a.a.createElement(nn,null,t?a.a.createElement(a.a.Fragment,null,a.a.createElement(an,{src:k(t.avatar,"avatar")}),a.a.createElement(rn,{className:"fas fa-cog",onClick:h,id:"open-dropdown"}),a.a.createElement(tn,null,a.a.createElement(d.b,{className:"text-align__center",to:"/user/".concat(t.username,"/posts")},t.username))):a.a.createElement(a.a.Fragment,null,a.a.createElement(on,null,a.a.createElement(d.b,{to:"/login"},"Login")),a.a.createElement(on,null,a.a.createElement(d.b,{to:"/register"},"Register")))),t&&c&&a.a.createElement(Re,{username:t.username,handleLogout:b,toggleDropdown:h,toggleModal:g})))})),un=t(12),sn=function(e){var n=Object(r.useState)(Object(s.a)({},e)),t=Object(l.a)(n,2),a=t[0],o=t[1],i=Object(r.useState)(Object(s.a)({},e)),c=Object(l.a)(i,2),u=c[0],m=c[1];return{inputs:a,onChange:function(e){o(Object(s.a)(Object(s.a)({},a),{},Object(un.a)({},e.target.name,e.target.value)))},setInputs:o,errors:u,setErrors:m,fields:e}},ln={username:function(e){var n="";return e.length<=4&&e.length>0?n="Username has to be more than 4 characters long.":/[^A-Za-z0-9]+/g.test(e.toLowerCase())?n="Please use only letters and numbers.":e.length>12&&(n="Username has to be less than 12 characters long."),n},email:function(e){var n="";return 0===e.length?n="":/^(([^<>()\]\\.,;:\s@"]+(\.[^<>()\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.toLowerCase())||(n="Please enter a valid email."),n},password:function(e){var n="";return e.length<8&&e.length>0?n="Password has to be more than 8 characters long.":e.length>30&&(n="Password has to be less than 30 characters long."),n},repeatPassword:function(e,n){return""},comparePasswords:function(e,n){var t="";return e!==n&&(t="Passwords do not match."),t},setDefaultErrors:function(e,n){var t=Object(s.a)({},n);return 0===e.username.length&&(t.username="Please enter your username."),0===e.email.length&&(t.email="Please enter your email."),0===e.password.length&&(t.password="Please enter your password."),0===e.repeatPassword.length&&(t.repeatPassword="Please repeat your password."),t}};var mn=function(e){var n=e.history,t=sn({username:"",email:"",password:"",repeatPassword:""}),r=t.inputs,o=t.onChange,i=t.errors,l=t.setErrors,m=function(){var e=Object(u.a)(c.a.mark((function e(n){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.post("/auth/register/validate",Object(s.a)(Object(s.a)({},r),{},{fieldName:n}));case 3:t=e.sent,l((function(e){var n=t.data,r=n.field,a=n.message;return Object(s.a)(Object(s.a)({},e),{},Object(un.a)({},r,a))})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),p=function(e){e.persist(),o(e),l((function(n){var t=e.target,r=t.name,a=t.value;return Object(s.a)(Object(s.a)({},n),{},Object(un.a)({},r,ln[r](a)))}))},f=function(e,n){e.persist(),l((function(t){var r=e.target.value;return Object(s.a)(Object(s.a)({},t),{},{repeatPassword:ln.comparePasswords(r,n)})}))},b=function(){var e=Object(u.a)(c.a.mark((function e(t){var a,o,u,m,d,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a={username:ln.username(r.username)||i.username,email:ln.email(r.email)||i.email,password:ln.password(r.password)||i.password,repeatPassword:ln.repeatPassword(r.repeatPassword,r.password)||i.repeatPassword},o=ln.setDefaultErrors(r,a),l(o),!new Array(Object.values(o))[0].every((function(e){return 0===e.length}))){e.next=15;break}return e.prev=6,e.next=9,x.post("/auth/register",r);case 9:n.push("/login"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),422===(null===(u=e.t0.response)||void 0===u?void 0:u.status)&&(m=e.t0.response.data,d=m.field,p=m.message,l(Object(s.a)(Object(s.a)({},i),{},Object(un.a)({},d,p))));case 15:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(n){return e.apply(this,arguments)}}();return a.a.createElement(D,null,a.a.createElement(Y,{autoComplete:"off",onSubmit:b},a.a.createElement(R,null,"Register"),a.a.createElement(U,{error:i.username.length>0,type:"text",placeholder:"Username",name:"username",value:r.username,onChange:p,onBlur:function(e){return m(e.target.name)}}),a.a.createElement(F,null,i.username),a.a.createElement(U,{error:i.email.length>0,type:"text",placeholder:"Email",name:"email",value:r.email,onChange:p,onBlur:function(e){return m(e.target.name)}}),a.a.createElement(F,null,i.email),a.a.createElement(U,{error:i.password.length>0,type:"password",placeholder:"Password",name:"password",value:r.password,onChange:function(e){p(e),f(e,r.repeatPassword)}}),a.a.createElement(F,null,i.password),a.a.createElement(U,{error:i.repeatPassword.length>0,type:"password",placeholder:"Repeat password",name:"repeatPassword",value:r.repeatPassword,onChange:function(e){p(e),f(e,r.password)}}),a.a.createElement(F,null,i.repeatPassword),a.a.createElement(B,null,a.a.createElement(d.b,{className:"text-align__center",to:"/login"},"Already have an account? Click here to Login!")),a.a.createElement(J,{className:"align-center"},"Register")))},dn=t(50),pn=t.n(dn);var fn=function(e){var n=e.history,t=sn({email:"",password:""}),r=t.inputs,o=t.onChange,i=t.errors,l=t.setErrors,m=t.fields,p=function(e){o(e),l(Object(s.a)({},m))},b=function(){var e=Object(u.a)(c.a.mark((function e(t){var a,o,u,m,d,p,b,h,g,v,w,O,k;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0!==r.email.length){e.next=5;break}l(Object(s.a)(Object(s.a)({},i),{},{email:"Please enter your email."})),e.next=26;break;case 5:if(0!==r.password.length){e.next=9;break}l(Object(s.a)(Object(s.a)({},i),{},{password:"Please enter your password."})),e.next=26;break;case 9:return a={},e.prev=10,e.next=13,x.post("/auth/login",r);case 13:o=e.sent,u=o.data,m=u.avatar,d=u.background,p=u.accessToken,b=pn()(p),h=b.email,g=b.id,v=b.username,a={email:h,id:g,username:v,avatar:m,background:d},window.localStorage.setItem("user",JSON.stringify(a)),window.localStorage.setItem("accessToken",JSON.stringify(p)),n.push("/home"),Ra.dispatch(f(a)),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(10),e.t0.response?(w=e.t0.response.data,O=w.field,k=w.message,l(Object(s.a)(Object(s.a)({},i),{},Object(un.a)({},O,k)))):console.log(e.t0);case 26:case"end":return e.stop()}}),e,null,[[10,23]])})));return function(n){return e.apply(this,arguments)}}();return a.a.createElement(D,null,a.a.createElement(Y,{autoComplete:"off",onSubmit:b},a.a.createElement(R,null,"Login"),a.a.createElement(U,{error:i.email.length>0,type:"text",placeholder:"Email",name:"email",value:r.email,onChange:p}),a.a.createElement(F,null,i.email),a.a.createElement(U,{error:i.password.length>0,type:"password",placeholder:"Password",name:"password",value:r.password,onChange:p}),a.a.createElement(F,null,i.password),a.a.createElement(B,null,a.a.createElement(d.b,{className:"text-align__center",to:"/register"},"Don't have an account? Click here to Register!")),a.a.createElement(J,{className:"align-center"},"Login")))},bn=t(13),hn=function(){var e=Object(r.useState)(10),n=Object(l.a)(e,2);return{amountOfPosts:n[0],setAmountOfPosts:n[1],postsPerFetch:10}},gn=t(28),vn=t.n(gn);function xn(){var e=Object(y.a)(["\n  margin-bottom: 2rem;\n  display: flex;\n  justify-content: space-around;\n  width: 15%;\n"]);return xn=function(){return e},e}function wn(){var e=Object(y.a)(["\n  font-size: 1.2rem;\n  margin-top: 2rem;\n  text-align: center;\n"]);return wn=function(){return e},e}function On(){var e=Object(y.a)(["\n  border: none;\n  border-radius: 4px;\n  padding: 0.5rem;\n  background: transparent;\n  cursor: pointer;\n  font-size: 1.2rem;\n  color: rgb(",");\n  transition: background 0.2s ease-in-out, color 0.2s ease-in-out;\n\n  &:hover {\n    background: rgba(",", 0.2);\n    color: rgb(",");\n  }\n"]);return On=function(){return e},e}function kn(){var e=Object(y.a)(["\n  background: rgba(",", 0.8);\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n"]);return kn=function(){return e},e}function jn(){var e=Object(y.a)(["\n  font-size: 1.15rem;\n  padding: 0.5rem;\n  border-radius: 4px;\n  color: rgb(",");\n  transition: background 0.2s ease-in-out, color 0.2s ease-in-out;\n\n  &:hover {\n    background: rgba(",", 0.2);\n    color: rgb(",");\n  }\n"]);return jn=function(){return e},e}function En(){var e=Object(y.a)(["\n  position: absolute;\n  border-radius: 4px;\n  top: 0.5rem;\n  right: 0.5rem;\n  padding: 0.3rem 0.5rem;\n  width: 4rem;\n  display: flex;\n  justify-content: space-around;\n"]);return En=function(){return e},e}function yn(){var e=Object(y.a)(["\n  border: none;\n  background: transparent;\n  cursor: pointer;\n  font-size: 1.2rem;\n  color: inherit;\n\n  transition: color 0.2s ease-in-out;\n"]);return yn=function(){return e},e}function Cn(){var e=Object(y.a)(["\n  margin: auto;\n  width: 1.5rem;\n  color: inherit;\n  transition: color 0.2s ease-in-out;\n"]);return Cn=function(){return e},e}function Pn(){var e=Object(y.a)(["\n  display: flex;\n  &:hover {\n    color: rgb(",");\n  }\n"]);return Pn=function(){return e},e}function Sn(){var e=Object(y.a)(["\n  position: absolute;\n  bottom: 1rem;\n  right: 0.5rem;\n\n  display: flex;\n  justify-content: space-between;\n\n  float: right;\n"]);return Sn=function(){return e},e}function Nn(){var e=Object(y.a)(["\n  font-size: 0.9rem;\n  color: rgb(",");\n  position: absolute;\n  right: 3rem;\n  top: 25%;\n\n  transition: color 0.3s ease-in-out;\n"]);return Nn=function(){return e},e}function _n(){var e=Object(y.a)(["\n  display: flex;\n  margin-left: 1rem;\n  align-items: center;\n"]);return _n=function(){return e},e}function An(){var e=Object(y.a)(["\n  width: 100%;\n  letter-spacing: 0.5px;\n  font-size: 1.05rem;\n  margin-bottom: 3rem;\n"]);return An=function(){return e},e}function zn(){var e=Object(y.a)(["\n  font-size: 1.1rem;\n  font-weight: 500;\n  margin: ",";\n\n  transition: color 0.3s ease-in-out;\n\n  &:hover {\n    color: rgb(",");\n  }\n"]);return zn=function(){return e},e}function In(){var e=Object(y.a)(["\n  display: flex;\n"]);return In=function(){return e},e}function Ln(){var e=Object(y.a)(["\n  width: 2rem;\n  margin-left: 1rem;\n"]);return Ln=function(){return e},e}function Tn(){var e=Object(y.a)(["\n  width: 100%;\n  min-height: ",";\n  padding: 1.5rem 1.5rem ","\n    1.5rem;\n  display: flex;\n  background: rgba(\n    ",",\n    ","\n  );\n  transition: background 0.4s ease-in-out;\n\n  ","\n"]);return Tn=function(){return e},e}function Mn(){var e=Object(y.a)(["\n  position: absolute;\n  bottom: -1.6rem;\n  right: 0;\n  color: rgb(\n    ","\n  );\n\n  transition: color 0.5s ease-in-out;\n"]);return Mn=function(){return e},e}function Dn(){var e=Object(y.a)(["\n  width: 9.5rem;\n  font-size: 1rem;\n  background: transparent;\n  display: block;\n  position: absolute;\n  bottom: -140%;\n  padding: 0 1rem;\n  color: rgb(",");\n  border: none;\n  border: 1px solid\n    ",";\n  box-shadow: inset 0 2rem 2rem\n    ",";\n  cursor: pointer;\n\n  transition: box-shadow 0.3s ease-in-out, border 0.5s ease-in-out;\n\n  &:hover {\n    box-shadow: inset 0 -2rem 10rem ",";\n  }\n\n  &.align-center {\n    margin: 0 auto;\n  }\n"]);return Dn=function(){return e},e}function Yn(){var e=Object(y.a)(["\n  position: absolute;\n  width: 100%;\n  padding: 0.5rem;\n  margin-left: -0.5rem;\n  margin-top: -0.5rem;\n  resize: none;\n  font-size: ",";\n  line-height: 1.2rem;\n  word-spacing: 1px;\n  letter-spacing: 0.5px;\n  border: none;\n  transition: box-shadow 0.2s ease-in-out;\n  background: rgba(0, 0, 0, 0.1);\n  border-radius: 8px;\n"]);return Yn=function(){return e},e}function Rn(){var e=Object(y.a)(["\n  margin: 1rem;\n  padding: 0.5rem;\n  position: relative;\n"]);return Rn=function(){return e},e}function Un(){var e=Object(y.a)(["\n  margin: 1rem;\n  font-size: 1.1rem;\n  line-height: 1.2rem;\n  word-spacing: 1px;\n  padding: 0.5rem;\n  white-space: pre-line;\n"]);return Un=function(){return e},e}function Fn(){var e=Object(y.a)(["\n  background-image: linear-gradient(\n      to right,\n      rgba(",", 0.7),\n      rgba(",", 0.4)\n    ),\n    url(",");\n  background-repeat: no-repeat;\n  background-size: cover;\n  display: flex;\n  max-width: 100%;\n  min-height: 7rem;\n  border-bottom: 1px solid rgb(",");\n  cursor: pointer;\n  position: relative;\n\n  transition: border 0.3s ease-in-out;\n"]);return Fn=function(){return e},e}var Bn=C.d.div(Fn(),(function(e){return e.theme.background}),(function(e){return e.theme.background}),(function(e){return e.background}),(function(e){return e.theme.primary})),Hn=(C.d.div(Un()),C.d.div(Rn())),Jn=C.d.textarea(Yn(),(function(e){return e.comment?"1.05rem":"1.1rem"})),Gn=C.d.button(Dn(),(function(e){return e.theme.text}),(function(e){return e.disabled?"rgba(".concat(e.theme.primary,", 0.5)"):"rgb(".concat(e.theme.primary,")")}),(function(e){return e.disabled?"rgba(".concat(e.theme.primary,", 0.5)"):"rgb(".concat(e.theme.primary,")")}),(function(e){return e.disabled?"rgba(".concat(e.theme.primary,", 0.7)"):"rgb(".concat(e.theme.primary,")")})),Zn=C.d.div(Mn(),(function(e){return e.filled?e.theme.primary:e.theme.lightText})),qn=C.d.div(Tn(),(function(e){return e.post?"7rem":"5rem"}),(function(e){return e.paddingBottom?".7rem":"0"}),(function(e){return e.theme.background}),(function(e){return"light"===e.mode?"0.2":"0.8"}),(function(e){return!e.noHover&&"&:hover {\n    background: rgba(\n      ".concat(e.theme.background,",\n      ").concat("light"===e.mode?"0":"0.6","\n    );\n  } ")})),Vn=C.d.div(Ln()),Xn=C.d.div(In()),Wn=C.d.div(zn(),(function(e){return e.post?"1rem":"0 1rem"}),(function(e){return e.theme.primary})),$n=C.d.div(An()),Kn=C.d.div(_n()),Qn=C.d.div(Nn(),(function(e){return e.theme.text})),et=C.d.div(Sn()),nt=C.d.div(Pn(),(function(e){return e.theme.primary})),tt=C.d.div(Cn()),rt=C.d.button(yn()),at=C.d.div(En()),ot=C.d.i(jn(),(function(e){return e.theme.text}),(function(e){return e.theme.text}),(function(e){return e.theme.primary})),it=C.d.div(kn(),(function(e){return e.theme.background})),ct=C.d.div(On(),(function(e){return e.theme.text}),(function(e){return e.theme.text}),(function(e){return e.theme.primary})),ut=C.d.div(wn()),st=C.d.div(xn()),lt=function(e){var n,t=e.content,o=e.handleEdit,i=e.postHeight,c=i/19,u=Object(r.useState)(t),s=Object(l.a)(u,2),m=s[0],d=s[1];return Object(r.useEffect)((function(){n.focus()}),[n]),a.a.createElement(Hn,{style:{height:"".concat(i,"px")}},a.a.createElement(Jn,{spellCheck:"false",maxLength:400,rows:c,onClick:function(e){return e.stopPropagation()},ref:function(e){return n=e},value:m,onChange:function(e){d(e.target.value)}}),a.a.createElement(Zn,{filled:m.length>=400},m.length+"/400"),a.a.createElement(Gn,{disabled:!m.length>0||!/[A-Za-z0-9]/g.test(m),gray:!m.length>0,onClick:function(e){e.stopPropagation(),e.preventDefault(),o(m)}},"Submit"))};function mt(){var e=Object(y.a)(["\n  transition: color 0.3s ease-in-out;\n"]);return mt=function(){return e},e}function dt(){var e=Object(y.a)(["\n  margin: 1rem;\n  font-size: 1.1rem;\n  line-height: 1.2rem;\n  word-spacing: 1px;\n  padding: 0.5rem;\n  white-space: pre-line;\n"]);return dt=function(){return e},e}var pt=C.d.div(dt()),ft=C.d.p(mt());function bt(){var e=Object(y.a)(["\n  margin: auto;\n  padding: 0.5rem 0;\n  text-decoration: underline;\n  &:hover {\n    color: rgb(",");\n  }\n"]);return bt=function(){return e},e}function ht(){var e=Object(y.a)(["\n  margin: auto;\n  padding: 0.5rem 0;\n  color: rgb(",");\n  font-size: 1.1rem;\n"]);return ht=function(){return e},e}function gt(){var e=Object(y.a)(["\n  position: absolute;\n  bottom: 2.5rem;\n  right: 1.5rem;\n  color: rgb(\n    ","\n  );\n\n  transition: color 0.5s ease-in-out;\n"]);return gt=function(){return e},e}function vt(){var e=Object(y.a)(["\n  width: 9.5rem;\n  font-size: 1rem;\n  background: transparent;\n  display: block;\n  padding: 0 1rem;\n  color: rgb(",");\n  border: none;\n  border: 1px solid\n    ",";\n  box-shadow: inset 0 2rem 2rem\n    ",";\n  cursor: pointer;\n\n  transition: box-shadow 0.3s ease-in-out, border 0.3s ease-in-out;\n\n  &:hover {\n    box-shadow: inset 0 -2rem 10rem ",";\n  }\n\n  &.align-center {\n    margin: 0 auto;\n  }\n"]);return vt=function(){return e},e}function xt(){var e=Object(y.a)(["\n  margin: auto;\n  font-size: 1rem;\n  color: red;\n"]);return xt=function(){return e},e}function wt(){var e=Object(y.a)(["\n  width: 90%;\n  padding: 0.5rem;\n  margin-left: 1.5rem;\n  margin-top: 0.5rem;\n  margin-bottom: 1rem;\n  resize: none;\n  font-size: 1.05rem;\n  line-height: 1.2rem;\n  word-spacing: 1px;\n  letter-spacing: 0.5px;\n  border: none;\n  transition: box-shadow 0.2s ease-in-out;\n  background: rgba(0, 0, 0, 0.1);\n  border-radius: 8px;\n"]);return wt=function(){return e},e}function Ot(){var e=Object(y.a)(["\n  height: 3rem;\n  width: 3rem;\n  border-radius: 50%;\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.4);\n"]);return Ot=function(){return e},e}function kt(){var e=Object(y.a)(["\n  padding-top: 1.5rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n"]);return kt=function(){return e},e}function jt(){var e=Object(y.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return jt=function(){return e},e}function Et(){var e=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  border-bottom: 1px solid rgb(",");\n  padding: 1.5rem 1rem 1.5rem 1rem;\n  position: relative;\n"]);return Et=function(){return e},e}var yt=C.d.form(Et(),(function(e){return e.theme.primary})),Ct=C.d.div(jt()),Pt=C.d.div(kt()),St=C.d.img(Ot()),Nt=C.d.textarea(wt()),_t=C.d.div(xt()),At=(C.d.button(vt(),(function(e){return e.theme.text}),(function(e){return e.disabled?"rgba(".concat(e.theme.primary,", 0.5)"):"rgb(".concat(e.theme.primary,")")}),(function(e){return e.disabled?"rgba(".concat(e.theme.primary,", 0.5)"):"rgb(".concat(e.theme.primary,")")}),(function(e){return e.disabled?"rgba(".concat(e.theme.primary,", 0.7)"):"rgb(".concat(e.theme.primary,")")})),C.d.div(gt(),(function(e){return e.filled?e.theme.primary:e.theme.text}))),zt=C.d.div(ht(),(function(e){return e.theme.lightText})),It=(C.d.div(bt(),(function(e){return e.theme.primary})),Object(m.g)((function(e){var n,t=e.post,o=e.history,i=e.location,m=e.posts,d=e.setPosts,p=e.comments,f=e.toggleNewCommentModal,b=e.newCommentModal,h=Object(r.useContext)(q).themeInfo.mode,v=Object(r.useRef)(),w=i.post,O=Object(Se.c)((function(e){return e.user})),j=t.author.username===(null===O||void 0===O?void 0:O.username)||!1;t.createdAt=vn()(t.createdAt,"MM/DD/YYYY, h:mm:ss A");var E=Object(r.useState)(),y=Object(l.a)(E,2),C=y[0],P=y[1],S=Object(r.useState)(!1),N=Object(l.a)(S,2),_=N[0],A=N[1],z=Object(r.useState)(!1),I=Object(l.a)(z,2),L=I[0],T=I[1],M=Object(r.useState)({likes:w?w.votes.likes:t.votes.likes,dislikes:w?w.votes.dislikes:t.votes.dislikes,liked:w?w.votes.liked:t.votes.likes.includes(null===O||void 0===O?void 0:O.id),disliked:w?w.votes.disliked:t.votes.dislikes.includes(null===O||void 0===O?void 0:O.id)}),D=Object(l.a)(M,2),Y=D[0],R=D[1],U="http://localhost:4000/uploads/".concat(null===(n=t.author.background)||void 0===n?void 0:n.split("\\")[1]);Object(r.useEffect)((function(){P(v.current.offsetHeight)}),[]);var F=function(){var e=Object(u.a)(c.a.mark((function e(n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=8;break}return e.next=3,x.patch("/posts/".concat(t._id,"/edit"),{newContent:n});case 3:r=e.sent,a=r.data,t.content=a.newContent,A(!1),Object(g.b)("Post has been updated.");case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),B=function(){var e=Object(u.a)(c.a.mark((function e(n){var r,a,o,i,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.stopPropagation(),!O){e.next=17;break}return e.prev=2,e.next=5,x.post("/posts/".concat(t._id,"/like"),{userId:O.id});case 5:r=e.sent,a=r.data,o=a.liked,i=a.disliked,u=Object(s.a)(Object(s.a)({},Y),{},{liked:o,disliked:i}),Y.liked?u.likes=u.likes.filter((function(e){return e!==O.id})):Y.disliked?(u.dislikes=u.dislikes.filter((function(e){return e!==O.id})),u.likes.push(O.id)):u.likes.push(O.id),R(Object(s.a)({},u)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:e.next=18;break;case 17:g.b.error("You have to login to vote.");case 18:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(n){return e.apply(this,arguments)}}(),H=function(){var e=Object(u.a)(c.a.mark((function e(n){var r,a,o,i,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.stopPropagation(),!O){e.next=17;break}return e.prev=2,e.next=5,x.post("/posts/".concat(t._id,"/dislike"),{userId:O.id});case 5:r=e.sent,a=r.data,o=a.liked,i=a.disliked,u=Object(s.a)(Object(s.a)({},Y),{},{liked:o,disliked:i}),Y.disliked?u.dislikes=u.dislikes.filter((function(e){return e!==O.id})):Y.liked?(u.likes=u.likes.filter((function(e){return e!==O.id})),u.dislikes.push(O.id)):u.dislikes.push(O.id),R(Object(s.a)({},u)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:e.next=18;break;case 17:g.b.error("You have to login to vote.");case 18:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(n){return e.apply(this,arguments)}}(),J=function(e){e.stopPropagation(),T(!L)},G=function(){var e=Object(u.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.stopPropagation(),e.prev=1,e.next=4,x.delete("/posts/".concat(t._id,"/remove"));case 4:d(m.filter((function(e){return e._id!==t._id}))),g.b.error("The post is removed"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:o.push("/home");case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}(),Z=function(e){o.push({pathname:"/posts/".concat(t._id),post:Object(s.a)(Object(s.a)({},t),{},{votes:Y}),isCommentActive:e})};return a.a.createElement(Bn,{onClick:function(){Z(!1)},background:U},a.a.createElement(qn,{mode:h,post:!0},a.a.createElement($n,null,a.a.createElement(Kn,null,a.a.createElement(St,{src:k(t.author.avatar,"avatar"),onClick:function(e){e.stopPropagation(),o.push("/user/".concat(t.author.username))}}),a.a.createElement(Xn,null,a.a.createElement(Wn,{post:!0,onClick:function(e){e.stopPropagation(),o.push("/user/".concat(t.author.username))}},t.author.username)),a.a.createElement(Qn,null,t.createdAt.fromNow())),_?a.a.createElement(lt,{postHeight:C,content:t.content,id:t._id,handleEdit:F}):a.a.createElement(pt,null,a.a.createElement(ft,{ref:v},t.content)),a.a.createElement(et,null,a.a.createElement(nt,null,a.a.createElement(rt,{className:"fa".concat(b?"s":"r"," fa-comment"),onClick:function(e){e.stopPropagation(),Z(!0),f&&f(b)}}),a.a.createElement(tt,null,void 0===(null===p||void 0===p?void 0:p.length)?t.comments:p.length)),a.a.createElement(nt,null,a.a.createElement(rt,{onClick:B,className:"fa".concat(Y.liked?"s":"r"," fa-thumbs-up")}),a.a.createElement(tt,null,Y.likes.length)),a.a.createElement(nt,null,a.a.createElement(rt,{onClick:H,className:"fa".concat(Y.disliked?"s":"r"," fa-thumbs-down")}),a.a.createElement(tt,null,Y.dislikes.length))))),j&&a.a.createElement(at,null,a.a.createElement(ot,{onClick:function(e){e.stopPropagation(),A(!_)},className:"fas fa-edit"}),a.a.createElement(ot,{onClick:J,className:"fas fa-trash-alt"})),L&&a.a.createElement(it,null,a.a.createElement(ut,null,"Are you sure you want to delete this post ?"),a.a.createElement(st,null,a.a.createElement(ct,{onClick:J},"No"),a.a.createElement(ct,{onClick:G},"Yes"))))}))),Lt=function(e){var n=e.posts,t=e.setPosts,r=Object(Se.c)((function(e){return e.user})),o=sn({post:""}),i=o.inputs,l=o.onChange,m=o.setInputs,d=o.errors,p=o.fields,f=function(){var e=Object(u.a)(c.a.mark((function e(a){var o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),o={content:i.post,id:r.id},e.prev=2,e.next=5,x.post("/posts/create",o);case 5:u=e.sent,t([u.data].concat(Object(bn.a)(n))),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:m(Object(s.a)({},p));case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n){return e.apply(this,arguments)}}();return a.a.createElement(yt,null,r?a.a.createElement(a.a.Fragment,null,a.a.createElement(Ct,null,a.a.createElement(St,{src:k(r.avatar,"avatar")}),a.a.createElement(Nt,{notValid:!/[A-Za-z0-9]/g.test(i.post),spellCheck:"false",name:"post",maxLength:400,rows:"2",onChange:l,value:i.post,placeholder:"Post something..."}),a.a.createElement(At,{filled:i.post.length>=400},i.post.length+"/400")),a.a.createElement(Pt,null,a.a.createElement(_t,null,d.post),a.a.createElement(J,{disabled:!/[A-Za-z0-9]/g.test(i.post),className:"force-center",type:"submit",onClick:f},"Post"))):a.a.createElement(a.a.Fragment,null,a.a.createElement(Ct,null,a.a.createElement(zt,null,"You have to be logged in to post something"))))};function Tt(){var e=Object(y.a)([""]);return Tt=function(){return e},e}function Mt(){var e=Object(y.a)(["\n  width: 100%;\n"]);return Mt=function(){return e},e}var Dt=C.d.div(Mt()),Yt=C.d.div(Tt()),Rt=t(24);var Ut=function(){var e=Object(Se.c)((function(e){return e.user})),n=Object(r.useState)(null),t=Object(l.a)(n,2),o=t[0],i=t[1],s=E(),m=s.loaderActive,d=s.setLoaderActive,p=hn(),f=p.amountOfPosts,b=p.setAmountOfPosts,h=p.postsPerFetch,g=function(){var e=Object(u.a)(c.a.mark((function e(n){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(n?f:f+h),e.next=3,x.get("/posts",{params:{amount:f,postsPerFetch:h}});case 3:0===(t=e.sent).data.length&&d(!1),o?n?t&&i(Object(bn.a)(t.data.reverse())):t&&i([].concat(Object(bn.a)(o),Object(bn.a)(t.data.reverse()))):t&&i(Object(bn.a)(t.data.reverse()));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){g(!0)}),[e]),a.a.createElement(Dt,null,a.a.createElement(Lt,{posts:o,setPosts:i}),a.a.createElement(Yt,null,a.a.createElement(Rt.a,{style:{overflow:"hidden"},dataLength:(null===o||void 0===o?void 0:o.length)||0,next:g,hasMore:m,loader:a.a.createElement(Z,null)},o&&o.length>0&&o.map((function(n){return a.a.createElement(It,{key:n._id,post:n,user:e,posts:o,setPosts:i})})),o&&0===o.length&&a.a.createElement(H,null,"No one made any posts yet :("))))},Ft=function(e){var n,t=e.content,o=e.handleEdit,i=e.commentHeight,c=i/19,u=Object(r.useState)(t),s=Object(l.a)(u,2),m=s[0],d=s[1];return Object(r.useEffect)((function(){n.focus()}),[n]),a.a.createElement(Hn,{style:{height:"".concat(i,"px")}},a.a.createElement(Jn,{spellCheck:"false",maxLength:400,rows:c,onClick:function(e){return e.stopPropagation()},ref:function(e){return n=e},value:m,onChange:function(e){d(e.target.value)}}),a.a.createElement(Zn,{filled:m.length>=400},m.length+"/400"),a.a.createElement(Gn,{disabled:!m.length>0||!/[A-Za-z0-9]/g.test(m),gray:!m.length>0,onClick:function(e){e.stopPropagation(),e.preventDefault(),o(m)}},"Submit"))};function Bt(){var e=Object(y.a)(["\n  margin: 1rem 2rem 0 ",";\n  overflow: hidden;\n  font-size: 1.05rem;\n  margin: 1rem;\n  line-height: 1.2rem;\n  word-spacing: 1px;\n  padding: 0.5rem;\n  white-space: pre-line;\n"]);return Bt=function(){return e},e}var Ht=C.d.div(Bt(),(function(e){return e.post?"2rem":"2.5rem"})),Jt=function(e){var n,t,o=e.comment,i=e.history,m=e.comments,d=e.setComments,p=Object(r.useContext)(q).themeInfo.mode,f=Object(Se.c)((function(e){return e.user})),b=(null===(n=o.author)||void 0===n?void 0:n.username)===(null===f||void 0===f?void 0:f.username),h=vn()(o.createdAt,"MM/DD/YYYY, h:mm:ss A"),v=Object(r.useState)(!1),w=Object(l.a)(v,2),O=w[0],j=w[1],E=Object(r.useState)(!1),y=Object(l.a)(E,2),C=y[0],P=y[1],S=Object(r.useRef)(),N=Object(r.useState)(),_=Object(l.a)(N,2),A=_[0],z=_[1],I=Object(r.useState)({likes:o.votes.likes.length,dislikes:o.votes.dislikes.length,liked:o.votes.likes.includes(null===f||void 0===f?void 0:f.id),disliked:o.votes.dislikes.includes(null===f||void 0===f?void 0:f.id)}),L=Object(l.a)(I,2),T=L[0],M=L[1],D="http://localhost:4000/uploads/".concat(null===(t=o.author.background)||void 0===t?void 0:t.split("\\")[1]);Object(r.useEffect)((function(){z(S.current.offsetHeight)}),[]);var Y=function(){var e=Object(u.a)(c.a.mark((function e(){var n,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=16;break}return e.prev=1,e.next=4,x.post("comments/".concat(o._id,"/like"),{userId:f.id});case 4:n=e.sent,t=Object(s.a)(Object(s.a)({},T),n.data),T.liked?t.likes--:T.disliked?(t.dislikes--,t.likes++):t.likes++,M(t),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),g.b.error("Something went wrong...");case 14:e.next=17;break;case 16:g.b.error("You have to login to vote.");case 17:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(u.a)(c.a.mark((function e(){var n,t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=15;break}return e.prev=1,e.next=4,x.post("comments/".concat(o._id,"/dislike"),{userId:f.id});case 4:n=e.sent,t=Object(s.a)(Object(s.a)({},T),n.data),T.disliked?t.dislikes--:T.liked?(t.likes--,t.dislikes++):t.dislikes++,M(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),g.b.error("Something went wrong...");case 13:e.next=16;break;case 15:g.b.error("You have to login to vote.");case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),U=function(e){e.stopPropagation(),P(!C)},F=function(){var e=Object(u.a)(c.a.mark((function e(n){var t,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>0)){e.next=8;break}return e.next=3,x.patch("/comments/".concat(o._id,"/edit"),{newContent:n});case 3:t=e.sent,r=t.data,o.content=r.newContent,j(!1),Object(g.b)("Comment has been updated.");case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),B=function(){var e=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.delete("/comments/".concat(o._id,"/remove"));case 3:d(m.filter((function(e){return e._id!==o._id}))),g.b.error("The comment is removed"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(Bn,{background:D},a.a.createElement(qn,{mode:p},a.a.createElement(Vn,null,a.a.createElement(St,{src:k(o.author.avatar,"avatar"),onClick:function(e){e.stopPropagation(),i.push("/user/".concat(o.author.username))}})),a.a.createElement($n,null,a.a.createElement(Kn,null,a.a.createElement(Wn,{onClick:function(e){e.stopPropagation(),i.push("/user/".concat(o.author.username))}},o.author.username),a.a.createElement(Qn,null,h.fromNow())),O?a.a.createElement(Ft,{commentHeight:A,content:o.content,id:o._id,handleEdit:F}):a.a.createElement(Ht,null,a.a.createElement("p",{ref:S},o.content)),a.a.createElement(et,null,a.a.createElement(nt,null,a.a.createElement(rt,{name:"like",onClick:Y,className:"fa".concat(T.liked?"s":"r"," fa-thumbs-up")}),a.a.createElement(tt,null,T.likes)),a.a.createElement(nt,null,a.a.createElement(rt,{name:"dislike",onClick:R,className:"fa".concat(T.disliked?"s":"r"," fa-thumbs-down")}),a.a.createElement(tt,null,T.dislikes))))),b&&a.a.createElement(at,null,a.a.createElement(ot,{onClick:function(e){e.stopPropagation(),j(!O)},className:"fas fa-edit"}),a.a.createElement(ot,{onClick:U,className:"fas fa-trash-alt"}))," ",C&&a.a.createElement(it,null,a.a.createElement(ut,null,"Are you sure you want to delete this comment ?"),a.a.createElement(st,null,a.a.createElement(ct,{onClick:U},"No"),a.a.createElement(ct,{onClick:B},"Yes"))))};function Gt(){var e=Object(y.a)(["\n  width: 100%;\n"]);return Gt=function(){return e},e}function Zt(){var e=Object(y.a)([""]);return Zt=function(){return e},e}function qt(){var e=Object(y.a)(["\n  width: 100%;\n"]);return qt=function(){return e},e}var Vt=C.d.div(qt()),Xt=(C.d.div(Zt()),C.d.div(Gt()));function Wt(){var e=Object(y.a)(["\n  position: absolute;\n  bottom: 2rem;\n  right: 2rem;\n  color: rgb(\n    ","\n  );\n\n  transition: color 0.5s ease-in-out;\n"]);return Wt=function(){return e},e}function $t(){var e=Object(y.a)(["\n  width: 100%;\n  letter-spacing: 0.5px;\n  font-size: 1.05rem;\n  margin-bottom: 0.26rem;\n"]);return $t=function(){return e},e}function Kt(){var e=Object(y.a)(["\n  height: 3rem;\n  width: 3rem;\n  border-radius: 50%;\n"]);return Kt=function(){return e},e}function Qt(){var e=Object(y.a)(["\n  width: 90%;\n  padding: 0.5rem;\n  margin-left: 1.5rem;\n  margin-top: 0.5rem;\n  margin-bottom: 2rem;\n  resize: none;\n  font-size: 1.05rem;\n  line-height: 1.2rem;\n  word-spacing: 1px;\n  letter-spacing: 0.5px;\n  border: none;\n  transition: box-shadow 0.2s ease-in-out;\n  background: rgba(0, 0, 0, 0.1);\n  border-radius: 8px;\n"]);return Qt=function(){return e},e}function er(){var e=Object(y.a)(["\n  background-image: linear-gradient(\n      to right,\n      rgba(\n        ",",\n        ","\n      ),\n      rgba(\n        ",",\n        ","\n      )\n    ),\n    url(",");\n  background-repeat: no-repeat;\n  background-size: cover;\n  display: flex;\n  max-width: 100%;\n  min-height: 7rem;\n  border-bottom: 1px solid rgb(",");\n  cursor: pointer;\n  position: relative;\n"]);return er=function(){return e},e}var nr=C.d.div(er(),(function(e){return e.theme.background}),(function(e){return"light"===e.mode?"0.2":"0.8"}),(function(e){return e.theme.background}),(function(e){return"light"===e.mode?"0.2":"0.8"}),(function(e){return e.background}),(function(e){return e.theme.primary})),tr=C.d.textarea(Qt()),rr=(C.d.img(Kt()),C.d.div($t())),ar=C.d.div(Wt(),(function(e){return e.filled?e.theme.primary:e.theme.text})),or=function(e){var n=e.user,t=e.postId,o=e.setComments,i=e.comments,s=e.toggleNewCommentModal,l=e.history,m=Object(r.useContext)(q).themeInfo.mode,d=sn({comment:""}),p=d.inputs,f=d.onChange,b=function(){var e=Object(u.a)(c.a.mark((function e(){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={content:p.comment,postId:t,userId:n.id},e.next=3,x.post("/posts/".concat(t,"/comment"),r);case 3:a=e.sent,o([a.data].concat(Object(bn.a)(i))),s();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(nr,{mode:m,background:O(n.background,"background")},a.a.createElement(qn,{noHover:!0,paddingBottom:!0},a.a.createElement(Vn,null,a.a.createElement(St,{src:O(n.avatar,"avatar"),onClick:function(e){e.stopPropagation(),l.push("/user/".concat(n.username))}})),a.a.createElement(rr,null,a.a.createElement(Kn,null,a.a.createElement(Wn,{onClick:function(e){e.stopPropagation(),l.push("/user/".concat(n.username))}},n.username)),a.a.createElement(tr,{name:"comment",spellCheck:"false",placeholder:"Comment something...",maxLength:400,rows:"2",value:p.comment,onChange:f}),a.a.createElement(ar,null,p.comment.length+"/400"),a.a.createElement(J,{className:"force-center",disabled:!/[A-Za-z0-9]/g.test(p.comment),onClick:b},"Comment"))))};function ir(){var e=Object(y.a)(["\n  font-size: 1.5rem;\n  color: rgb(",");\n"]);return ir=function(){return e},e}function cr(){var e=Object(y.a)(["\n  font-size: 2.5rem;\n  margin: 6rem 0 3rem 0;\n  color: rgb(",");\n"]);return cr=function(){return e},e}function ur(){var e=Object(y.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n"]);return ur=function(){return e},e}var sr=C.d.div(ur()),lr=C.d.div(cr(),(function(e){return e.theme.lightText})),mr=C.d.div(ir(),(function(e){return e.theme.lightText}));var dr=function(){return a.a.createElement(sr,null,a.a.createElement(lr,null,"\xaf\\_(\u30c4)_/\xaf"),a.a.createElement(mr,null,"Sorry, nothing to see here..."))},pr=function(e){var n=Object(Se.c)((function(e){return e.user})),t=e.match.params.postId,o=Object(r.useState)(e.location.post),i=Object(l.a)(o,2),s=i[0],m=i[1],d=Object(r.useState)(null),p=Object(l.a)(d,2),f=p[0],b=p[1],h=Object(r.useState)(n&&e.location.isCommentActive),v=Object(l.a)(h,2),w=v[0],O=v[1];Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("/posts/".concat(t));case 3:n=e.sent,m(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),404===e.t0.response.status&&m(null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(u.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("/posts/".concat(t,"/comments"));case 2:n=e.sent,b(n.data.reverse());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!s&&e(),s&&n()}),[s,t]);var k=function(){n?O(!w):g.b.error("You have to log in to comment")};return null===s?a.a.createElement(dr,null):s?a.a.createElement(Vt,null,a.a.createElement(It,{post:s,comments:f,toggleNewCommentModal:k,newCommentModal:w}),w&&a.a.createElement(or,{user:n,postId:s._id,comments:f,setComments:b,toggleNewCommentModal:k}),a.a.createElement(Xt,null,null===f?a.a.createElement(Z,null):f.length>0?f&&f.map((function(e){return a.a.createElement(Jt,{key:e._id,comment:e,comments:f,setComments:b})})):a.a.createElement(H,null,"No one made any comments yet :("))):a.a.createElement(Z,null)},fr=function(e){var n=Object(Se.c)((function(e){return e.user})),t=e.match.params.username,o=Object(r.useState)(null),i=Object(l.a)(o,2),s=i[0],m=i[1],d=E(),p=d.loaderActive,f=d.setLoaderActive,b=hn(),h=b.amountOfPosts,g=b.setAmountOfPosts,v=b.postsPerFetch,w=function(){var e=Object(u.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(h+v),e.next=3,x.get("/users/".concat(t,"/posts"),{params:{amount:h,postsPerFetch:v}});case 3:0===(n=e.sent).data.length&&f(!1),n&&m([].concat(Object(bn.a)(s||[]),Object(bn.a)(n.data.reverse())));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){w()}),[]);return a.a.createElement(Rt.a,{style:{overflow:"hidden",minHeight:"100vh"},dataLength:(null===s||void 0===s?void 0:s.length)||0,next:w,hasMore:p,loader:a.a.createElement(Z,null)},s&&(s.length>0?s.map((function(e){return a.a.createElement(It,{key:e._id,post:e,user:n,posts:s,setPosts:m})})):a.a.createElement(H,null,"User didn't made any posts yet :(")))},br=function(e){var n=Object(Se.c)((function(e){return e.user})),t=e.match.params.username,o=Object(r.useState)(null),i=Object(l.a)(o,2),s=i[0],m=i[1],d=E(),p=d.loaderActive,f=d.setLoaderActive,b=hn(),h=b.amountOfPosts,g=b.setAmountOfPosts,v=b.postsPerFetch,w=function(){var n=Object(u.a)(c.a.mark((function n(r){var a;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return g(r?h:h+v),n.next=3,x.get("/users/".concat(t,"/posts/").concat(e.type),{params:{amount:h,postsPerFetch:v}});case 3:0===(a=n.sent).data.length&&f(!1),s?r?a&&m(Object(bn.a)(a.data.reverse())):a&&m([].concat(Object(bn.a)(s),Object(bn.a)(a.data.reverse()))):a&&m(Object(bn.a)(a.data.reverse()));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();Object(r.useEffect)((function(){w(!0)}),[e.type]);return a.a.createElement(Rt.a,{style:{overflow:"hidden",minHeight:"100vh"},dataLength:(null===s||void 0===s?void 0:s.length)||0,next:w,hasMore:p,loader:a.a.createElement(Z,null)},s&&(s.length>0?s.map((function(e){return a.a.createElement(It,{key:e._id,post:e,user:n,posts:s,setPosts:m})})):a.a.createElement(H,null,"User didn't ",e.type.slice(0,-1)," any posts yet.")))};function hr(){var e=Object(y.a)(["\n  width: 100%;\n  text-align: center;\n  color: grey;\n"]);return hr=function(){return e},e}function gr(){var e=Object(y.a)(["\n  width: 12rem;\n  height: 4rem;\n  margin: 1rem;\n  border: 10px solid transparent;\n  box-shadow: 0 3px 10px rgb(0, 0, 0, 0.3);\n  transition: box-shadow 0.2s ease-in-out;\n\n  &:hover {\n    box-shadow: 0 3px 10px rgb(0, 0, 0, 0.4);\n  }\n\n  &:focus {\n    box-shadow: 0 3px 10px rgb(0, 0, 0, 0.4);\n  }\n"]);return gr=function(){return e},e}function vr(){var e=Object(y.a)(["\n  display: flex;\n  justify-content: space-around;\n  flex-direction: column;\n  align-items: center;\n"]);return vr=function(){return e},e}function xr(){var e=Object(y.a)(["\n  width: 5rem;\n  height: 5rem;\n  margin: 1rem;\n  border: 4px solid rgb(",");\n  box-shadow: 0 3px 10px rgb(0, 0, 0, 0.3);\n  border-radius: 50%;\n  transition: box-shadow 0.2s ease-in-out, border 0.4s ease-in-out;\n\n  &:hover {\n    box-shadow: 0 3px 10px rgb(0, 0, 0, 0.4);\n  }\n\n  &:focus {\n    box-shadow: 0 3px 10px rgb(0, 0, 0, 0.4);\n  }\n"]);return xr=function(){return e},e}function wr(){var e=Object(y.a)(["\n  display: flex;\n  justify-content: space-around;\n  flex-wrap: wrap;\n"]);return wr=function(){return e},e}function Or(){var e=Object(y.a)(["\n  display: flex;\n  padding-top: 3rem;\n  justify-content: space-around;\n\n  @media (max-width: 1000px) {\n  }\n\n  @media (max-width: 600px) {\n    flex-direction: column;\n  }\n"]);return Or=function(){return e},e}var kr=C.d.div(Or()),jr=C.d.div(wr()),Er=C.d.img(xr(),(function(e){return e.theme.background})),yr=C.d.div(vr()),Cr=C.d.img(gr()),Pr=C.d.div(hr()),Sr=function(e){var n=e.match.params.username,t=Object(r.useState)({avatars:null,backgrounds:null}),o=Object(l.a)(t,2),i=o[0],s=o[1];Object(r.useEffect)((function(){(function(){var e=Object(u.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("users/".concat(n,"/images"));case 2:t=e.sent,s({avatars:t.data.avatars.reverse(),backgrounds:t.data.backgrounds.reverse()});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]);return a.a.createElement(kr,null,a.a.createElement(jr,null,i.avatars?function(){var e;return(null===(e=i.avatars)||void 0===e?void 0:e.length)>0?a.a.createElement(a.a.Fragment,null,a.a.createElement(Pr,null,"Avatars"),i.avatars&&i.avatars.map((function(e){return a.a.createElement(Er,{key:e,src:k(e)})}))):a.a.createElement(Pr,null,"User didnt upload any Avatars...")}():a.a.createElement(Z,null)),a.a.createElement(yr,null,i.backgrounds?function(){var e;return(null===(e=i.backgrounds)||void 0===e?void 0:e.length)>0?a.a.createElement(a.a.Fragment,null,a.a.createElement(Pr,null,"Backgrounds"),i.backgrounds&&i.backgrounds.map((function(e){return a.a.createElement(Cr,{key:Object(j.a)(),src:k(e)})}))):a.a.createElement(Pr,null,"User didnt upload any Backgrounds...")}():a.a.createElement(Z,null)))},Nr=t(51),_r=t.n(Nr);function Ar(){var e=Object(y.a)(["\n  width: 6rem;\n  margin: 1rem auto 1rem auto;\n  display: block;\n  padding: 0.5rem 1rem;\n  box-shadow: inset 0 0 0 transparent;\n  cursor: pointer;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n  transition: box-shadow 0.2s ease-in-out, color 0.2s ease-in-out,\n    border 0.2s ease-in-out;\n\n  &:hover {\n    border: 1px solid rgb(",");\n    color: white;\n    box-shadow: inset -8rem 0 0 rgb(",");\n  }\n"]);return Ar=function(){return e},e}function zr(){var e=Object(y.a)(["\n  text-align: center;\n  margin: 1rem auto;\n  width: 9.5rem;\n  font-size: 1rem;\n  background: transparent;\n  display: block;\n  padding: 0 1rem;\n  color: rgb(",");\n  border: none;\n  border: 1px solid\n    ",";\n  box-shadow: inset 0 2rem 2rem\n    ",";\n  cursor: pointer;\n\n  transition: box-shadow 0.3s ease-in-out, border 0.5s ease-in-out;\n\n  &:hover {\n    box-shadow: inset 0 -2rem 10rem ",";\n  }\n"]);return zr=function(){return e},e}function Ir(){var e=Object(y.a)(["\n  margin: 2rem 0;\n  font-size: 1.2rem;\n  text-align: center;\n"]);return Ir=function(){return e},e}function Lr(){var e=Object(y.a)(["\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-around;\n  padding: 1rem;\n  height: 10rem;\n  width: ",";\n  border: 2px solid rgb(",");\n  box-shadow: inset 5px 5px 10px rgba(0, 0, 0, 0.1);\n"]);return Lr=function(){return e},e}function Tr(){var e=Object(y.a)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n"]);return Tr=function(){return e},e}function Mr(){var e=Object(y.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n"]);return Mr=function(){return e},e}var Dr=C.d.div(Mr()),Yr=C.d.div(Tr()),Rr=C.d.div(Lr(),(function(e){return"background"===e.type?"80%":"40%"}),(function(e){return e.theme.primary})),Ur=C.d.div(Ir()),Fr=C.d.label(zr(),(function(e){return e.theme.text}),(function(e){return e.disabled?"rgba(".concat(e.theme.primary,", 0.5)"):"rgb(".concat(e.theme.primary,")")}),(function(e){return e.disabled?"rgba(".concat(e.theme.primary,", 0.5)"):"rgb(".concat(e.theme.primary,")")}),(function(e){return e.disabled?"rgba(".concat(e.theme.primary,", 0.7)"):"rgb(".concat(e.theme.primary,")")}));C.d.button(Ar(),(function(e){return e.theme.primary}),(function(e){return e.theme.primary})),t(86);function Br(e,n,t){var r=document.createElement("canvas");return r.width=n,r.height=t,r.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,n,t),r}var Hr=function(){var e=Object(u.a)(c.a.mark((function e(n,t,r,a,o){var i,u,s,l,m,d,p,f,b,h,g,v;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return",a.push("/"));case 2:for(i=Br(n,t.width,t.height),u=i.toDataURL(),s=u.split(","),l=s[0].match(/:(.*?);/)[1],m=atob(s[1]),d=m.length,p=new Uint8Array(d);d--;)p[d]=m.charCodeAt(d);return f=new File([p],r,{type:l}),(b=new FormData).append("image",f),b.append("type",o),e.prev=14,e.next=17,x.post("/upload",b,{headers:{"Content-Type":"multipart/form-data"}});case 17:h=e.sent,g=h.data.path,(v=JSON.parse(window.localStorage.getItem("user")))[o]=g,window.localStorage.setItem("user",JSON.stringify(v)),Ra.dispatch({type:"CHANGE_IMAGE",payload:g,imgType:o}),a.push("/"),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(14),console.log(e.t0);case 29:case"end":return e.stop()}}),e,null,[[14,26]])})));return function(n,t,r,a,o){return e.apply(this,arguments)}}(),Jr=function(e){var n=e.history,t=e.type,o=Object(r.useState)(null),i=Object(l.a)(o,2),c=i[0],u=i[1],s=Object(r.useState)(null),m=Object(l.a)(s,2),d=m[0],p=m[1],f=Object(r.useRef)(null),b=Object(r.useRef)(null),g=Object(r.useState)({unit:"%",width:50,height:"background"===t?null:50,x:25,y:25,aspect:"background"===t?3:null}),v=Object(l.a)(g,2),x=v[0],w=v[1],O=Object(r.useState)(null),k=Object(l.a)(O,2),j=k[0],E=k[1];Object(r.useEffect)((function(){if(j&&b.current&&f.current){Ra.dispatch(h({ref:b,type:t}));var e=f.current,n=b.current,r=j,a=e.naturalWidth/e.width,o=e.naturalHeight/e.height,i=n.getContext("2d");return n.width=4*r.width,n.height=4*r.height,i.setTransform(4,0,0,4,0,0),i.imageSmoothingEnabled=!1,i.drawImage(e,r.x*a,r.y*o,r.width*a,r.height*o,0,0,r.width,r.height),function(){Ra.dispatch(h(null))}}}),[j,t]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(Dr,null,a.a.createElement(Yr,null,a.a.createElement(Ur,null,"Change your profile ".concat(t)),a.a.createElement(Rr,{type:t},d&&a.a.createElement(a.a.Fragment,null,a.a.createElement(_r.a,{src:d,crop:x,onImageLoaded:function(e){f.current=e},onChange:function(e){w(e),Ra.dispatch(h({ref:b,type:t}))},onComplete:function(e){return E(e)}}))),a.a.createElement(Fr,null,"Upload Image",a.a.createElement("input",{name:"profile",type:"file",accept:"image/*",onChange:function(e){if(e.persist(),p(),e.target.files[0]){u(e.target.files[0].name);var n=new FileReader;n.readAsDataURL(e.target.files[0]),n.addEventListener("load",(function(){p(n.result)}))}}})),a.a.createElement(J,{type:"submit",onClick:function(e){e.preventDefault(),Hr(b.current,j,c,n,t)}},"Done"))))},Gr=function(e){var n=e.history,t=Object(Se.c)((function(e){var n;return null===(n=e.user)||void 0===n?void 0:n.username})),r=sn({username:""}),o=r.inputs,i=r.onChange,l=r.errors,m=r.setErrors,d=r.fields,p=function(){var e=Object(u.a)(c.a.mark((function e(r){var a,i,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),0!==o.username.length){e.next=5;break}m(Object(s.a)(Object(s.a)({},l),{},{username:"Please enter your new username."})),e.next=19;break;case 5:if(o.username!==t){e.next=9;break}m(Object(s.a)(Object(s.a)({},l),{},{username:"That is your current username."})),e.next=19;break;case 9:return e.next=11,x.patch("/users/".concat(t,"/settings/username"),{username:t,newUsername:o.username});case 11:a=e.sent,i=a.data,(u=JSON.parse(window.localStorage.getItem("user"))).username=i.username,window.localStorage.setItem("user",JSON.stringify(u)),Ra.dispatch({type:"CHANGE_USERNAME",payload:i.username}),n.push("/user/".concat(i.username)),Object(g.b)("Your username has been changed.");case 19:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return a.a.createElement(D,{smaller:!0},a.a.createElement(Y,{autoComplete:"off",onSubmit:p},a.a.createElement(R,null,"Change your username"),a.a.createElement(U,{error:l.username.length>0,type:"text",placeholder:"New Username",name:"username",value:o.username,onChange:function(e){e.persist(),i(e),m(d),m((function(n){var t=e.target,r=t.name,a=t.value;return Object(s.a)(Object(s.a)({},n),{},Object(un.a)({},r,ln[r](a)))}))}}),a.a.createElement(F,null,l.username),a.a.createElement(J,{className:"align-center"},"Confirm")))},Zr=function(e){var n=e.history,t=Object(Se.c)((function(e){var n;return null===(n=e.user)||void 0===n?void 0:n.username})),r=Object(Se.c)((function(e){var n;return null===(n=e.user)||void 0===n?void 0:n.email})),o=sn({email:"",password:""}),i=o.inputs,l=o.onChange,m=o.errors,d=o.setErrors,p=o.fields,f=function(e){e.persist(),l(e),d(p),"email"===e.target.name&&d((function(n){var t=e.target,r=t.name,a=t.value;return Object(s.a)(Object(s.a)({},n),{},Object(un.a)({},r,ln[r](a)))}))},b=function(){var e=Object(u.a)(c.a.mark((function e(a){var o,u,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),0!==i.email.length){e.next=5;break}d(Object(s.a)(Object(s.a)({},m),{},{email:"Please enter your new username."})),e.next=26;break;case 5:if(i.email!==r){e.next=9;break}d(Object(s.a)(Object(s.a)({},m),{},{email:"That is your current email."})),e.next=26;break;case 9:if(0!==i.password.length){e.next=13;break}d(Object(s.a)(Object(s.a)({},m),{},{password:"Please enter your password."})),e.next=26;break;case 13:return e.prev=13,e.next=16,x.patch("/users/".concat(t,"/settings/email"),{username:t,newEmail:i.email,password:i.password});case 16:Ra.dispatch({type:"LOGOUT"}),window.localStorage.removeItem("user"),window.localStorage.removeItem("accessToken"),Object(g.b)("Your email has been changed. Please login with your new email."),n.push("/login"),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(13),e.t0.response?(o=e.t0.response.data,u=o.field,l=o.message,d(Object(s.a)(Object(s.a)({},m),{},Object(un.a)({},u,l)))):console.log(e.t0);case 26:case"end":return e.stop()}}),e,null,[[13,23]])})));return function(n){return e.apply(this,arguments)}}();return a.a.createElement(D,{smaller:!0},a.a.createElement(Y,{autoComplete:"off",onSubmit:b},a.a.createElement(R,null,"Change your email"),a.a.createElement(U,{error:m.email.length>0,type:"text",placeholder:"New Email",name:"email",value:i.email,onChange:f}),a.a.createElement(F,null,m.email),a.a.createElement(U,{error:m.password.length>0,type:"password",placeholder:"Password",name:"password",value:i.password,onChange:f}),a.a.createElement(F,null,m.password),a.a.createElement(J,{className:"align-center"},"Confirm")))},qr=function(e){var n=e.history,t=Object(Se.c)((function(e){var n;return null===(n=e.user)||void 0===n?void 0:n.username})),r=sn({currentPassword:"",newPassword:""}),o=r.inputs,i=r.onChange,l=r.errors,m=r.setErrors,d=r.fields,p=function(e){e.persist(),i(e),m(d),"newPassword"===e.target.name&&m((function(n){var t=e.target.value;return Object(s.a)(Object(s.a)({},n),{},{newPassword:ln.password(t)})}))},f=function(){var e=Object(u.a)(c.a.mark((function e(r){var a,i,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),0!==o.currentPassword.length){e.next=5;break}m(Object(s.a)(Object(s.a)({},l),{},{currentPassword:"Please enter your current password."})),e.next=25;break;case 5:if(0!==o.newPassword.length){e.next=9;break}m(Object(s.a)(Object(s.a)({},l),{},{newPassword:"Please enter your new password."})),e.next=25;break;case 9:if(!l.currentPassword&&!l.newPassword){e.next=12;break}e.next=25;break;case 12:return e.prev=12,e.next=15,x.patch("/users/".concat(t,"/settings/password"),{username:t,password:o.currentPassword,newPassword:o.newPassword});case 15:Ra.dispatch({type:"LOGOUT"}),window.localStorage.removeItem("user"),window.localStorage.removeItem("accessToken"),Object(g.b)("Your password has been changed. Please login with your new password."),n.push("/login"),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(12),e.t0.response?(a=e.t0.response.data,i=a.field,u=a.message,m(Object(s.a)(Object(s.a)({},l),{},Object(un.a)({},i,u)))):console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[12,22]])})));return function(n){return e.apply(this,arguments)}}();return a.a.createElement(D,{smaller:!0},a.a.createElement(Y,{autoComplete:"off",onSubmit:f},a.a.createElement(R,null,"Change your password"),a.a.createElement(U,{error:l.currentPassword.length>0,type:"password",placeholder:"Current Password",name:"currentPassword",value:o.currentPassword,onChange:p}),a.a.createElement(F,null,l.currentPassword),a.a.createElement(U,{error:l.newPassword.length>0,type:"password",placeholder:"New Password",name:"newPassword",value:o.newPassword,onChange:p}),a.a.createElement(F,null,l.newPassword),a.a.createElement(J,{className:"align-center"},"Confirm")))},Vr=t(53),Xr=function(e){var n=e.component,t=Object(Vr.a)(e,["component"]),r=window.localStorage.getItem("user");return a.a.createElement(m.b,Object.assign({},t,{render:function(e){return t.userPrivilege?r?a.a.createElement(n,Object.assign({},e,{type:t.type})):g.b.error(t.redirectMsg)&&a.a.createElement(m.a,{to:t.redirectTo}):r?g.b.error(t.redirectMsg)&&a.a.createElement(m.a,{to:t.redirectTo}):a.a.createElement(n,Object.assign({},e,{type:t.type}))}}))};function Wr(){var e=Object(y.a)(["\n  color: inherit;\n"]);return Wr=function(){return e},e}function $r(){var e=Object(y.a)(["\n  font-size: 2rem;\n  color: inherit;\n"]);return $r=function(){return e},e}function Kr(){var e=Object(y.a)(["\n  text-align: center;\n  margin-top: 5rem;\n  font-size: 1.3rem;\n  color: rgb(",");\n"]);return Kr=function(){return e},e}function Qr(){var e=Object(y.a)(["\n  height: 2.7rem;\n  width: 21%;\n  box-shadow: inset 0 -2px 1px rgb(",");\n  transition: box-shadow 0.2s ease-in-out, color 0.3s ease-in-out;\n\n  &:hover {\n    box-shadow: inset 0 -5.4rem 0 rgb(",");\n    color: rgb(",");\n  }\n"]);return Qr=function(){return e},e}function ea(){var e=Object(y.a)(["\n  width: 100%;\n  height: 2.7rem;\n  display: flex;\n  position: relative;\n  justify-content: space-between;\n  border-bottom: 1px solid rgb(",");\n"]);return ea=function(){return e},e}function na(){var e=Object(y.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  width: 20%;\n  font-weight: bold;\n"]);return na=function(){return e},e}function ta(){var e=Object(y.a)(["\n  border: 5px solid rgb(",");\n  height: 7rem;\n  width: 7rem;\n  border-radius: 50%;\n  position: absolute;\n  left: 50%;\n  bottom: 75%;\n  transform: translateX(-50%);\n  transition: border 0.4s ease-in-out;\n"]);return ta=function(){return e},e}function ra(){var e=Object(y.a)(["\n  border: 5px solid rgb(",");\n  height: 7rem;\n  width: 7rem;\n  border-radius: 50%;\n  position: absolute;\n  left: 50%;\n  bottom: 75%;\n  transform: translateX(-50%);\n  transition: border 0.4s ease-in-out;\n"]);return ra=function(){return e},e}function aa(){var e=Object(y.a)([""]);return aa=function(){return e},e}function oa(){var e=Object(y.a)(["\n  width: 100%;\n  height: 15rem;\n  position: relative;\n  margin-bottom: -9px;\n"]);return oa=function(){return e},e}function ia(){var e=Object(y.a)(["\n  width: 100%;\n  height: 15rem;\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-size: cover;\n  position: relative;\n"]);return ia=function(){return e},e}var ca=C.d.div(ia(),(function(e){return e.image})),ua=C.d.canvas(oa()),sa=C.d.div(aa()),la=C.d.img(ra(),(function(e){return e.theme.background})),ma=C.d.canvas(ta(),(function(e){return e.theme.background})),da=C.d.div(na()),pa=C.d.div(ea(),(function(e){return e.theme.primary})),fa=C.d.div(Qr(),(function(e){return e.theme.primary}),(function(e){return e.theme.primary}),(function(e){return e.theme.background})),ba=C.d.div(Kr(),(function(e){return e.theme.primary})),ha=C.d.div($r()),ga=C.d.div(Wr()),va=function(e){var n=Object(Se.c)((function(e){return e.user}));Object(Se.c)((function(e){var n;return null===(n=e.user)||void 0===n?void 0:n.previewCanvas}));var t=e.match.params.username,o=Object(r.useState)(null),i=Object(l.a)(o,2),s=i[0],p=i[1];return Object(r.useEffect)((function(){(function(){var e=Object(u.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("/users/".concat(t));case 2:n=e.sent,p(n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),s?a.a.createElement(a.a.Fragment,null,(null===n||void 0===n?void 0:n.previewCanvas)&&"background"===(null===n||void 0===n?void 0:n.previewCanvas.type)?a.a.createElement(ua,{type:"background",ref:n.previewCanvas.ref}):a.a.createElement(ca,{image:k(s.background,"background")}),a.a.createElement(pa,null,a.a.createElement(fa,null,a.a.createElement(d.c,{to:"/user/".concat(t,"/posts"),className:"text-align__center",activeClassName:"NavLink-active"},"Posts")),a.a.createElement(fa,null,a.a.createElement(d.c,{to:"/user/".concat(t,"/images"),className:"text-align__center",activeClassName:"NavLink-active"},"Images")),(null===n||void 0===n?void 0:n.previewCanvas)&&"avatar"===(null===n||void 0===n?void 0:n.previewCanvas.type)?a.a.createElement(ma,{type:"avatar",ref:n.previewCanvas.ref}):a.a.createElement(la,{src:k(s.avatar,"avatar")}),a.a.createElement(da,null,a.a.createElement(d.c,{className:"text-align__center",to:"/user/".concat(t)},s.username)),a.a.createElement(fa,null,a.a.createElement(d.c,{to:"/user/".concat(t,"/liked"),className:"text-align__center",activeClassName:"NavLink-active"},"Liked")),a.a.createElement(fa,null,a.a.createElement(d.c,{to:"/user/".concat(t,"/disliked"),className:"text-align__center",activeClassName:"NavLink-active"},"Disliked"))),a.a.createElement(sa,null,a.a.createElement(m.d,null,a.a.createElement(m.b,{exact:!0,path:"/user/:username",render:function(){return a.a.createElement(m.a,{to:"/user/".concat(t,"/posts")})}}),a.a.createElement(m.b,{exact:!0,path:"/user/:username/posts",component:fr}),a.a.createElement(m.b,{path:"/user/:username/images",component:Sr}),a.a.createElement(m.b,{path:"/user/:username/liked",render:function(){return a.a.createElement(br,{type:"liked",match:e.match})}}),a.a.createElement(m.b,{path:"/user/:username/disliked",render:function(){return a.a.createElement(br,{type:"disliked",match:e.match})}}),n&&t===n.username?a.a.createElement(a.a.Fragment,null,a.a.createElement(Xr,{path:"/user/:username/settings/avatar",component:Jr,type:"avatar",redirectTo:"/home",redirectMsg:"You have to log in to see that page",userPrivilege:!0}),a.a.createElement(Xr,{path:"/user/:username/settings/background",component:Jr,type:"background",redirectTo:"/home",redirectMsg:"You have to log in to see that page",userPrivilege:!0}),a.a.createElement(Xr,{path:"/user/:username/settings/username",component:Gr,type:"username",redirectTo:"/home",redirectMsg:"You have to log in to see that page",userPrivilege:!0}),a.a.createElement(Xr,{path:"/user/:username/settings/email",component:Zr,type:"email",redirectTo:"/home",redirectMsg:"You have to log in to see that page",userPrivilege:!0}),a.a.createElement(Xr,{path:"/user/:username/settings/password",component:qr,type:"password",redirectTo:"/home",redirectMsg:"You have to log in to see that page",userPrivilege:!0})):a.a.createElement(ba,null,a.a.createElement(ha,null,"\xaf\\_(\u30c4)_/\xaf"),a.a.createElement(ga,null,"You dont have permission to access this page."))))):null};t(87);function xa(){var e=Object(y.a)(["\n  font-size: 1.2rem;\n  border-bottom: 1px solid rgb(",");\n  background: rgb(",");\n  height: 3rem;\n  font-weight: bold;\n  letter-spacing: 1px;\n  color: rgb(",");\n  transition: color 0.2s ease-in-out, border 0.3s ease-in-out,\n    background 0.4s ease-in-out;\n  position: fixed;\n  width: 40rem;\n  top: 0;\n  box-shadow: 0 0.5rem 10px -3px rgba(0, 0, 0, 0.2);\n\n  &:hover {\n    color: rgb(",");\n  }\n\n  @media (max-width: 1500px) {\n    width: 35rem;\n  }\n\n  @media (max-width: 1300px) {\n    width: 30rem;\n  }\n\n  @media (max-width: 1200px) {\n    width: 25rem;\n  }\n\n  @media (max-width: 1000px) {\n    margin-top: 4rem;\n    width: 100vw;\n  }\n"]);return xa=function(){return e},e}function wa(){var e=Object(y.a)(["\n  margin: auto;\n  margin-top: 3rem;\n  min-height: calc(100vh - 3rem);\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);\n  width: 40rem;\n  align-items: center;\n  overflow: hidden;\n\n  @media (max-width: 1500px) {\n    width: 35rem;\n  }\n\n  @media (max-width: 1300px) {\n    width: 30rem;\n  }\n\n  @media (max-width: 1200px) {\n    width: 25rem;\n  }\n\n  @media (max-width: 1000px) {\n    width: 100%;\n    margin-top: 7rem;\n  }\n\n  @media (max-width: 600px) {\n    margin-bottom: 4rem;\n  }\n"]);return wa=function(){return e},e}function Oa(){var e=Object(y.a)(["\n  display: flex;\n  background: rgb(",");\n  width: 100%;\n  transition: background 0.4s ease-in-out;\n"]);return Oa=function(){return e},e}var ka=C.d.div(Oa(),(function(e){return e.theme.background})),ja=C.d.div(wa()),Ea=C.d.div(xa(),(function(e){return e.theme.primary}),(function(e){return e.theme.background}),(function(e){return e.theme.lightText}),(function(e){return e.theme.primary}));function ya(){var e=Object(y.a)(["",""]);return ya=function(){return e},e}function Ca(){var e=Object(y.a)(['\n  html {\n    font-family: "Baloo Da 2", cursive;\n    color: rgb(',");\n    overflow-y: scroll;\n  }\n\n  * {\n    color: rgb(",');\n    outline: none;\n    font-family: "Baloo Da 2", cursive;\n  }\n\n  ::-webkit-scrollbar {\n    width: 8px;\n  }\n\n  ::-webkit-scrollbar-track {\n    background: rgba(0, 0, 0, 0.2);\n    border-radius: 8px;\n  }\n\n  ::-webkit-scrollbar-thumb {\n    background: grey;\n    border-radius: 8px;\n    transition: background 0.2s ease-in-out;\n\n    &:hover {\n      background: rgb(',");\n    }\n  }\n\n  a:-webkit-any-link {\n    text-decoration: none;\n    height: 100%;\n    padding-left: 1rem;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    color: inherit;\n\n    &.text-align__center {\n      justify-content: space-around;\n      padding-left: 0;\n    }\n  }\n\n  .Toastify__toast--error {\n    background: rgb(",");\n  }\n  .Toastify__toast-body {\n    color: rgb(",");\n    text-align: center;\n  }\n\n  .Toastify__close-button > svg {\n    fill: rgb(",");\n  }\n  .Toastify__close-button:hover > svg,\n  .Toastify__close-button:focus > svg {\n    fill: rgb(",");\n  }\n  .Toastify__progress-bar {\n    background: rgb(",");\n  }\n  .fa-thumbs-down {\n    transform: translateY(0.13rem);\n  }\n  .fa-thumbs-up {\n    transform: translateY(-0.13rem);\n  }\n  .ReactCrop > div:first-child {\n    width: 100%;\n    height: 100%;\n  }\n  .ReactCrop__image {\n    max-width: 100%;\n    max-height: 100%;\n  }\n\n  .ReactCrop__crop-selection {\n    border: 2px dotted rgb(",');\n  }\n  input {\n    letter-spacing: 0.5px;\n  }\n  input[type="file"] {\n    display: none;\n  }\n  .NavLink-active {\n    transition: box-shadow 0.2s ease-in-out;\n    box-shadow: inset 0 -5.4rem 0 rgb(',");\n  }\n"]);return Ca=function(){return e},e}var Pa=Object(C.c)(Ca(),(function(e){return e.theme.text}),(function(e){return e.theme.text}),(function(e){return e.theme.primary}),(function(e){return e.theme.background}),(function(e){return e.theme.primary}),(function(e){return e.theme.primary}),(function(e){return e.theme.text}),(function(e){return e.theme.primary}),(function(e){return e.theme.primary}),(function(e){return e.theme.primary})),Sa=Object(C.b)(ya(),Pa);var Na=Object(Se.b)(null,{login:f})((function(e){var n=e.login,t=JSON.parse(window.localStorage.getItem("user")),o=JSON.parse(window.localStorage.getItem("accessToken")),i=JSON.parse(window.localStorage.getItem("theme"));x.defaults.headers.authorization="Bearer "+o,i||(i={mode:"light",accent:"red"},window.localStorage.setItem("theme",JSON.stringify(i)));var p=Object(r.useState)(te[i.mode]),f=Object(l.a)(p,2),b=f[0],h=f[1],v=Object(r.useState)(re[i.accent]),w=Object(l.a)(v,2),O=w[0],k=w[1],j=Object(s.a)({primary:O},b),E=function(){var e=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.get("/users/".concat(t.username));case 3:n(t),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),window.localStorage.removeItem("user");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){t&&E()})),a.a.createElement(C.a,{theme:j},a.a.createElement(q.Provider,{value:{themeInfo:i,themeValues:j,setMode:h,setAccent:k}},a.a.createElement(Sa,null),a.a.createElement(ka,null,a.a.createElement(ja,null,a.a.createElement(m.d,null,a.a.createElement(m.b,{exact:!0,path:"/"},a.a.createElement(m.a,{to:"/home"})),a.a.createElement(m.b,{exact:!0,path:"/home",component:Ut}),a.a.createElement(Xr,{exact:!0,path:"/register",component:mn,redirectTo:"/home",redirectMsg:"You already have an account"}),a.a.createElement(Xr,{exact:!0,path:"/login",component:fn,redirectTo:"/home",redirectMsg:"You are already logged in"}),a.a.createElement(m.b,{exact:!0,path:"/posts/:postId",component:pr}),a.a.createElement(Xr,{path:"/user/:username",component:va,redirectTo:"/home",redirectMsg:"You have to log in to see that page",userPrivilege:!0}),a.a.createElement(m.b,{default:!0,component:dr})),a.a.createElement(Ea,null,a.a.createElement(d.b,{className:"text-align__center",to:"/home"},"Home"))),a.a.createElement(cn,null),a.a.createElement(Pe,null),a.a.createElement(g.a,{position:"bottom-right"}))))}));function _a(){var e=Object(y.a)(["",""]);return _a=function(){return e},e}function Aa(){var e=Object(y.a)(["\n/* http://meyerweb.com/eric/tools/css/reset/\n   v4.0 | 20180602\n   License: none (public domain)\n*/\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed,\nfigure, figcaption, footer, header, hgroup,\nmain, menu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  vertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure,\nfooter, header, hgroup, main, menu, nav, section {\n  display: block;\n}\n/* HTML5 hidden-attribute fix for newer browsers */\n*[hidden] {\n    display: none;\n}\nol, ul {\n  list-style: none;\n}\nblockquote, q {\n  quotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n  content: '';\n  content: none;\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\n"]);return Aa=function(){return e},e}var za=Object(C.c)(Aa()),Ia=Object(C.b)(_a(),za),La=t(23),Ta=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,t=Object(s.a)({},e);switch(n.type){case"LOGIN":return n.payload;case"LOGOUT":return null;case"CHANGE_IMAGE":return t[n.imgType]=n.payload,t;case"SET_PREVIEW_CANVAS":return t.previewCanvas=n.payload,t;case"CHANGE_USERNAME":return t.username=n.payload,t;default:return e}},Ma=Object(La.combineReducers)({user:Ta}),Da=t(52),Ya=Object(La.createStore)(Ma,Object(Da.composeWithDevTools)());Object(o.render)(a.a.createElement(r.StrictMode,null,a.a.createElement(Ia,null),a.a.createElement(d.a,null,a.a.createElement(Se.a,{store:Ya},a.a.createElement(Na,null)))),document.getElementById("root"));var Ra=n.default=Ya}},[[55,1,2]]]);
//# sourceMappingURL=main.4a7fef65.chunk.js.map