{"version":3,"sources":["store/actions/userActions.js","axios/index.js","helpers/imageSrc.js","hooks/useLoader.js","styles/common.js","context/theme.js","components/ui/Searchbar/ThemeMenu/styles.js","styles/themes.js","components/ui/Searchbar/ThemeMenu/index.js","components/ui/Searchbar/styles.js","components/ui/Searchbar/index.js","components/ui/Authbar/Dropdown/styles.js","components/ui/Authbar/Dropdown/index.js","components/modals/DeleteAccount/styles.js","components/modals/DeleteAccount/index.js","components/ui/Authbar/styles.js","components/ui/Authbar/index.js","hooks/useFormHook.js","helpers/validations/index.js","components/ui/routes/Register/index.js","components/ui/routes/Login/index.js","hooks/useAmount.js","components/elements/common/styles.js","components/elements/Post/edit.js","components/elements/Post/styles.js","components/ui/routes/Home/NewPost/styles.js","components/elements/Post/index.js","components/ui/routes/Home/NewPost/index.js","components/ui/routes/Home/styles.js","components/ui/routes/Home/index.js","components/elements/Comment/edit.js","components/elements/Comment/styles.js","components/elements/Comment/index.js","components/ui/routes/Post/styles.js","components/elements/NewComment/styles.js","components/elements/NewComment/index.js","components/ui/routes/NotFound/styles.js","components/ui/routes/NotFound/index.js","components/ui/routes/Post/index.js","components/ui/routes/Profile/Posts/index.js","components/ui/routes/Profile/VotedPosts/index.js","components/ui/routes/Profile/Images/styles.js","components/ui/routes/Profile/Images/index.js","components/ui/routes/Profile/EditImage/styles.js","components/ui/routes/Profile/EditImage/index.js","components/ui/routes/Profile/EditInfo/ChangeUsername.js","components/ui/routes/Profile/EditInfo/ChangeEmail.js","components/ui/routes/Profile/EditInfo/ChangePassword.js","components/ui/routes/ProtectedRoute/index.js","components/ui/routes/Profile/styles.js","components/ui/routes/Profile/index.js","styles.js","styles/globalStyle.js","App.js","styles/cssReset.js","store/reducers/userReducer.js","store/reducers/index.js","index.js"],"names":["login","userData","type","payload","logout","setPreviewCanvas","previewCanvas","axiosInstance","create","baseURL","withCredentials","interceptors","response","use","a","error","status","data","expiredAt","message","originalRequest","config","JSON","parse","window","localStorage","getItem","post","accessToken","defaults","headers","authorization","setItem","stringify","removeItem","store","dispatch","toast","Promise","reject","getImageSrc","image","backgroundSrc","split","useLoader","active","useState","loaderActive","setLoaderActive","FormContainer","styled","div","props","smaller","Form","form","Header","theme","primary","Input","input","Error","Message","NoContentMessage","Button","button","text","disabled","loaderAnimation","keyframes","Loader","mini","ThemeContext","createContext","ThemeMenuContainer","background","Mode","color","Accent","modes","dark","lightText","light","accents","red","orange","blue","green","greenBlue","pink","pinkRed","purple","ThemeMenu","useContext","themeInfo","setMode","setAccent","changeAccent","accent","isActive","id","onClick","nextMode","mode","Container","SearchContainer","SearchbarContainer","SearchResultContainer","Avatar","img","Username","BackgroundContainer","backgroundImageUrl","LinkContainer","SearchIcon","i","ChangeTheme","Searchbar","setInput","users","setUsers","dropdownActive","setDropdownActive","showResults","setShowResults","fetchUsers","axios","get","params","debounced","useDebouncedCallback","value","useEffect","document","addEventListener","handleCloseResults","handleCloseThemes","removeEventListener","event","target","className","parentElement","includes","onFocus","onChange","spellCheck","placeholder","maxLength","map","user","key","uuid","style","height","to","username","src","avatar","DropdownConnectorShadow","DropdownConnector","Group","Item","Dropdown","toggleDropdown","toggleModal","handleLogout","handleClick","p","danger","DeleteAccountModal","useSelector","state","deleteAccount","delete","createPortal","width","getElementById","AuthContainer","Name","Settings","connect","dropdown","setDropdown","showModal","setShowModal","DeleteAccount","useFormHook","fields","inputs","setInputs","errors","setErrors","name","validateInputs","length","test","toLowerCase","email","password","repeatPassword","comparePasswords","currentField","compareTo","setDefaultErrors","errorFields","Register","history","validateBackend","fieldName","prevState","field","console","log","handleChange","persist","prevErrors","handleSubmit","preventDefault","validateFields","newErrors","Array","Object","values","every","push","autoComplete","onSubmit","onBlur","Login","jwtDecode","useAmount","amountOfPosts","setAmountOfPosts","postsPerFetch","EditContainer","TextArea","textarea","comment","Counter","filled","Background","paddingBottom","noHover","AvatarContainer","AuthorContainer","Author","Head","Info","Time","VoteContainer","ItemContainer","Count","VoteButton","Setting","RemoveModal","RemoveButton","ButtonContainer","EditPost","inputRef","content","handleEdit","postHeight","rows","newContent","setNewContent","focus","stopPropagation","ref","gray","PostContentContainer","PostContent","TopSection","BottomSection","withRouter","location","posts","setPosts","comments","toggleNewCommentModal","newCommentModal","postRef","useRef","postCopy","authorSelf","author","createdAt","moment","setPostHeight","editModal","setEditModal","deleteModal","setDeleteModal","likes","votes","dislikes","liked","disliked","setVotes","current","offsetHeight","patch","_id","like","userId","updatedVotes","filter","dislike","toggleRemoveModal","handleClickRemove","redirectToPost","isCommentActive","pathname","fromNow","undefined","NewPost","createPost","requestBody","notValid","Posts","Home","fetchPosts","shouldResetAmount","amount","reverse","overflow","dataLength","next","hasMore","loader","EditComment","commentHeight","CommentContent","Comment","setComments","convertedDate","commentRef","setCommentHeight","c","CommentSection","NewCommentHead","NewComment","postId","reqBody","Image","NotFound","Post","match","setPost","setNewCommentModal","fetchPost","fetchComments","userPosts","setUserPosts","fetchUserPosts","minHeight","VotedPosts","votedPosts","setVotedPosts","fetchVotedPostsByUser","shouldRefetch","slice","Avatars","Backgrounds","Images","avatars","backgrounds","images","setImages","fetchUserImages","renderAvatars","renderBackgrounds","PositionContainer","ReactCropContainer","Label","label","getResizedCanvas","canvas","newWidth","newHeight","tmpCanvas","createElement","getContext","drawImage","uploadAvatar","crop","filename","dataUrl","toDataURL","arr","mime","bstr","atob","n","u8arr","Uint8Array","charCodeAt","imageFile","File","bodyFormData","FormData","append","path","imgType","EditImage","setFilename","setSrc","imgRef","previewCanvasRef","unit","x","y","aspect","setCrop","completedCrop","setCompletedCrop","scaleX","naturalWidth","scaleY","naturalHeight","ctx","setTransform","imageSmoothingEnabled","onImageLoaded","onComplete","accept","files","reader","FileReader","readAsDataURL","result","ChangeUsername","newUsername","ChangeEmail","newEmail","ChangePassword","currentPassword","newPassword","ProtectedRoute","Component","component","rest","render","userPrivilege","redirectMsg","redirectTo","NavContainer","NavContainerPreview","ContentContainer","AvatarPreview","NavbarContainer","NavbarItem","PermissionDenied","Profile","userInfo","setUserInfo","fetchUser","activeClassName","exact","MainContainer","RoutesContainer","BackToHome","globalStyles","css","GlobalStyle","createGlobalStyle","currentTheme","Provider","themeValues","default","position","reset","Reset","userReducer","action","newState","combineReducers","createStore","reducers","composeWithDevTools"],"mappings":"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","file":"static/js/main.4a7fef65.chunk.js","sourcesContent":["export const login = (userData) => {\r\n  return { type: \"LOGIN\", payload: userData };\r\n};\r\n\r\nexport const logout = () => {\r\n  return { type: \"LOGOUT\" };\r\n};\r\n\r\nexport const changeImage = (image, imgType) => {\r\n  return { type: \"CHANGE_IMAGE\", payload: image, imgType };\r\n};\r\n\r\nexport const setPreviewCanvas = (previewCanvas) => {\r\n  return { type: \"SET_PREVIEW_CANVAS\", payload: previewCanvas };\r\n};\r\n\r\nexport const changeUsername = (newUsername) => {\r\n  return { type: \"CHANGE_USERNAME\", payload: newUsername };\r\n};\r\n","import { create } from \"axios\";\r\nimport store from \"../index\";\r\nimport { logout } from \"@actions/userActions\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst axiosInstance = create({\r\n  baseURL: \"http://localhost:4000\",\r\n  withCredentials: true,\r\n});\r\n\r\naxiosInstance.interceptors.response.use(\r\n  (response) => response,\r\n  async (error) => {\r\n    if (error.response?.status === 403) {\r\n      if (\r\n        error.response?.data.expiredAt ||\r\n        error.response?.data.message === \"jwt malformed\"\r\n      ) {\r\n        const originalRequest = error.config;\r\n        const userData = JSON.parse(window.localStorage.getItem(\"user\"));\r\n        const response = await axiosInstance.post(\"/auth/refresh_token\", {\r\n          userData,\r\n        });\r\n\r\n        if (response) {\r\n          const { accessToken } = response.data;\r\n          if (accessToken) {\r\n            axiosInstance.defaults.headers.authorization =\r\n              \"Bearer \" + accessToken;\r\n            originalRequest.headers.authorization = \"Bearer \" + accessToken;\r\n            window.localStorage.setItem(\r\n              \"accessToken\",\r\n              JSON.stringify(accessToken)\r\n            );\r\n            return await axiosInstance(originalRequest);\r\n          }\r\n        }\r\n      }\r\n      if (error.response?.data.accessToken === \"\") {\r\n        window.localStorage.removeItem(\"user\");\r\n        window.localStorage.removeItem(\"accessToken\");\r\n        store.dispatch(logout());\r\n        toast.error(\"Session expired.\");\r\n      }\r\n      return Promise.reject(error);\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default axiosInstance;\r\n","export const getImageSrc = (image, type) => {\r\n  if (type === \"background\") {\r\n    const backgroundSrc = image?.split(\"\\\\\")[1];\r\n    return `http://localhost:4000/uploads/${image ? backgroundSrc : \"\"}`;\r\n  }\r\n  return `http://localhost:4000/${image ? image : \"uploads/AvatarDefault.jpg\"}`;\r\n};\r\n\r\nexport default getImageSrc;\r\n","import { useState } from \"react\";\r\n\r\nconst useLoader = (active = true) => {\r\n  const [loaderActive, setLoaderActive] = useState(active);\r\n\r\n  return { loaderActive, setLoaderActive };\r\n};\r\n\r\nexport default useLoader;\r\n","import styled, { keyframes } from \"styled-components\";\r\n\r\nexport const FormContainer = styled.div`\r\n  height: ${(props) => (props.smaller ? \"50vh\" : \"100vh\")};\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  position: relative;\r\n\r\n  @media (max-width: 600px) {\r\n    height: ${(props) => (props.smaller ? \"45vh\" : \"calc(100vh - 11rem)\")};\r\n  }\r\n`;\r\n\r\nexport const Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 70%;\r\n  @media (max-height: 900px) {\r\n  }\r\n`;\r\n\r\nexport const Header = styled.div`\r\n  font-size: 2rem;\r\n  text-align: center;\r\n  margin-bottom: 3rem;\r\n  color: rgb(${(props) => props.theme.primary});\r\n\r\n  @media (max-height: 900px) {\r\n    margin-bottom: 1rem;\r\n  }\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  width: 60%;\r\n  margin: 0.5rem auto;\r\n  font-size: 1.1rem;\r\n  padding: 0.5rem 1rem;\r\n  border: none;\r\n  border-bottom: 2px solid\r\n    rgb(${(props) => (props.error ? props.theme.error : props.theme.primary)});\r\n  background-color: transparent;\r\n  box-shadow: inset 0 0px 0px rgb(0, 0, 0, 0.2);\r\n  transition: box-shadow 0.2s ease-in-out, border 0.2s ease-in-out;\r\n\r\n  &:hover {\r\n    box-shadow: inset 0 3px 10px rgb(0, 0, 0, 0.1);\r\n  }\r\n\r\n  &:focus {\r\n    box-shadow: inset 0 3px 10px rgb(0, 0, 0, 0.1);\r\n  }\r\n\r\n  @media (max-height: 900px) {\r\n    margin: 0 auto;\r\n  }\r\n`;\r\n\r\nexport const Error = styled.div`\r\n  width: 100%;\r\n  height: 1.5rem;\r\n  margin: 0 auto 0.5rem auto;\r\n  color: rgb(${(props) => props.theme.error});\r\n  text-align: center;\r\n`;\r\n\r\nexport const Message = styled.div`\r\n  cursor: pointer;\r\n  margin: 3rem auto 1rem auto;\r\n  text-align: center;\r\n  text-decoration: underline;\r\n  &:hover {\r\n    color: rgb(${(props) => props.theme.primary});\r\n  }\r\n\r\n  @media (max-height: 900px) {\r\n    margin: 1rem auto;\r\n  }\r\n`;\r\n\r\nexport const NoContentMessage = styled.div`\r\n  margin-top: 5rem;\r\n  color: gray;\r\n  font-size: 1.2rem;\r\n  text-align: center;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  margin: 1rem auto;\r\n  width: 9.5rem;\r\n  font-size: 1rem;\r\n  background: transparent;\r\n  display: block;\r\n  padding: 0 1rem;\r\n  color: rgb(${(props) => props.theme.text});\r\n  border: none;\r\n  border: 1px solid\r\n    ${(props) =>\r\n      props.disabled\r\n        ? `rgba(${props.theme.primary}, 0.5)`\r\n        : `rgb(${props.theme.primary})`};\r\n  box-shadow: inset 0 2rem 2rem\r\n    ${(props) =>\r\n      props.disabled\r\n        ? `rgba(${props.theme.primary}, 0.5)`\r\n        : `rgb(${props.theme.primary})`};\r\n  cursor: pointer;\r\n\r\n  transition: box-shadow 0.3s ease-in-out, border 0.5s ease-in-out;\r\n\r\n  &:hover {\r\n    box-shadow: inset 0 -2rem 10rem ${(props) => (props.disabled ? `rgba(${props.theme.primary}, 0.7)` : `rgb(${props.theme.primary})`)};\r\n  }\r\n  &.force-center {\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n  }\r\n`;\r\n\r\nconst loaderAnimation = keyframes`\r\n  0% {\r\n    -webkit-transform: rotate(0deg);\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    -webkit-transform: rotate(360deg);\r\n    transform: rotate(360deg);\r\n  }\r\n`;\r\nexport const Loader = styled.div`\r\n  border-radius: 50%;\r\n  width: ${(props) => (props.mini ? \"1rem\" : \"5rem\")};\r\n  height: ${(props) => (props.mini ? \"1rem\" : \"5rem\")};\r\n  margin: 60px auto;\r\n  font-size: ${(props) => (props.mini ? \"4px\" : \"10px\")};\r\n  position: ${(props) => (props.mini ? \"absolute\" : \"relative\")};\r\n  top: ${(props) => (props.mini ? \"-3.1rem\" : \"-2.1rem\")};\r\n  right: 0.8rem;\r\n  text-indent: -9999em;\r\n  border-top: 1.1em solid rgba(255, 255, 255, 0.2);\r\n  border-right: 1.1em solid rgba(255, 255, 255, 0.2);\r\n  border-bottom: 1.1em solid rgba(255, 255, 255, 0.2);\r\n  border-left: 1.1em solid rgb(${(props) => props.theme.primary});\r\n  -webkit-transform: translateZ(0);\r\n  -ms-transform: translateZ(0);\r\n  transform: translateZ(0);\r\n  -webkit-animation: ${loaderAnimation} 1s infinite linear;\r\n  animation: ${loaderAnimation} 1s infinite linear;\r\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);\r\n\r\n  &:after {\r\n    border-radius: 50%;\r\n    width: ${(props) => (props.mini ? \"2rem\" : \"10rem\")};\r\n    height: ${(props) => (props.mini ? \"2rem\" : \"10rem\")};\r\n    box-shadow: inset 10px 10px 1px 10px rgba(0, 0, 0, 1);\r\n  }\r\n`;\r\n","import { createContext } from \"react\";\r\n\r\nconst ThemeContext = createContext({});\r\n\r\nexport default ThemeContext;\r\n","import styled from \"styled-components\";\r\n\r\nexport const ThemeMenuContainer = styled.div`\r\n  height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: absolute;\r\n  padding-top: 4rem;\r\n  width: 7rem;\r\n  box-shadow: 0 3px 10px rgb(0, 0, 0, 0.2);\r\n  transition: box-shadow 0.2s ease-in-out;\r\n  background: rgb(${(props) => props.theme.background});\r\n\r\n  &:hover {\r\n    box-shadow: 0 3px 10px rgb(0, 0, 0, 0.1);\r\n  }\r\n`;\r\n\r\nexport const Header = styled.div`\r\n  font-weight: 500;\r\n  text-align: center;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nexport const Mode = styled.div`\r\n  color: rgb(${(props) => props.color});\r\n  margin: 1rem 0;\r\n  cursor: pointer;\r\n  text-align: center;\r\n  padding: 0.5rem 0;\r\n  box-shadow: inset 2px 0 1px rgb(${(props) => props.theme.text});\r\n  transition: box-shadow 0.2s ease-in-out, color 0.3s ease-in-out;\r\n\r\n  &:hover {\r\n    box-shadow: inset 12rem 0 0 rgb(${(props) => props.theme.text});\r\n  }\r\n`;\r\n\r\nexport const Accent = styled.div`\r\n  border: 5px solid\r\n    rgb(\r\n      ${(props) => (props.active ? props.theme.text : props.theme.background)}\r\n    );\r\n  background: rgb(${(props) => props.color});\r\n  margin: 0.5rem auto;\r\n  height: 4.5rem;\r\n  width: 80%;\r\n  border-radius: 15px;\r\n  cursor: pointer;\r\n  box-shadow: 0 3px 10px rgb(0, 0, 0, 0.2);\r\n  transition: box-shadow 0.2s ease-in-out, border-radius 0.2s ease-in-out,\r\n    border 0.2s ease-in-out;\r\n\r\n  &:hover {\r\n    box-shadow: 0 3px 10px rgb(0, 0, 0, 0.1);\r\n    border-radius: 4px;\r\n  }\r\n\r\n  @media (max-height: 814px) {\r\n    height: 3.2rem;\r\n  }\r\n`;\r\n","export const modes = {\r\n  dark: {\r\n    background: \"51,51,51\",\r\n    text: \"201, 201, 201\",\r\n    lightText: \"224, 224, 224\",\r\n    error: \"227, 20, 20\",\r\n  },\r\n  light: {\r\n    background: \"255,240,240\",\r\n    text: \"51,51,51\",\r\n    lightText: \"87, 87, 87\",\r\n    error: \"255, 41, 41\",\r\n  },\r\n};\r\n\r\nexport const accents = {\r\n  red: \"255, 67, 64\",\r\n  orange: \"224, 135, 0\",\r\n  blue: \"25, 121, 255\",\r\n  green: \"14, 201, 64\",\r\n  greenBlue: \"12, 201, 164\",\r\n  pink: \"211, 30, 214\",\r\n  pinkRed: \"214, 30, 116\",\r\n  purple: \"131, 30, 214\",\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport ThemeContext from \"@context/theme\";\r\nimport { ThemeMenuContainer, Header, Mode, Accent } from \"./styles.js\";\r\nimport { modes, accents } from \"@styles/themes\";\r\n\r\nconst ThemeMenu = () => {\r\n  const { themeInfo, setMode, setAccent } = useContext(ThemeContext);\r\n\r\n  const changeMode = () => {\r\n    const nextMode = themeInfo.mode === \"light\" ? \"dark\" : \"light\";\r\n    setMode({ ...modes[nextMode] });\r\n\r\n    window.localStorage.setItem(\r\n      \"theme\",\r\n      JSON.stringify({ ...themeInfo, mode: nextMode })\r\n    );\r\n  };\r\n\r\n  const changeAccent = (accent) => {\r\n    setAccent(accents[accent]);\r\n    window.localStorage.setItem(\r\n      \"theme\",\r\n      JSON.stringify({ ...themeInfo, accent })\r\n    );\r\n  };\r\n\r\n  const isActive = (color) => {\r\n    return themeInfo.accent === color;\r\n  };\r\n\r\n  return (\r\n    <ThemeMenuContainer id=\"themeDropdown\">\r\n      <Mode color={accents[themeInfo.accent]} onClick={changeMode}>\r\n        {themeInfo.mode === \"dark\" ? \"Light\" : \"Dark\"} Mode\r\n      </Mode>\r\n      <Header>Accent:</Header>\r\n      <Accent\r\n        active={isActive(\"red\")}\r\n        color={accents.red}\r\n        onClick={() => changeAccent(\"red\")}\r\n      />\r\n      <Accent\r\n        active={isActive(\"purple\")}\r\n        color={accents.purple}\r\n        onClick={() => changeAccent(\"purple\")}\r\n      />\r\n      <Accent\r\n        active={isActive(\"pink\")}\r\n        color={accents.pink}\r\n        onClick={() => changeAccent(\"pink\")}\r\n      />\r\n      <Accent\r\n        active={isActive(\"pinkRed\")}\r\n        color={accents.pinkRed}\r\n        onClick={() => changeAccent(\"pinkRed\")}\r\n      />\r\n      <Accent\r\n        active={isActive(\"blue\")}\r\n        color={accents.blue}\r\n        onClick={() => changeAccent(\"blue\")}\r\n      />\r\n      <Accent\r\n        active={isActive(\"greenBlue\")}\r\n        color={accents.greenBlue}\r\n        onClick={() => changeAccent(\"greenBlue\")}\r\n      />\r\n      <Accent\r\n        active={isActive(\"green\")}\r\n        color={accents.green}\r\n        onClick={() => changeAccent(\"green\")}\r\n      />\r\n      <Accent\r\n        active={isActive(\"orange\")}\r\n        color={accents.orange}\r\n        onClick={() => changeAccent(\"orange\")}\r\n      />\r\n    </ThemeMenuContainer>\r\n  );\r\n};\r\n\r\nexport default ThemeMenu;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  height: 100%;\r\n  width: 30%;\r\n  position: fixed;\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  @media (max-width: 1700px) {\r\n    width: 28%;\r\n  }\r\n\r\n  @media (max-width: 1600px) {\r\n    width: 26%;\r\n  }\r\n\r\n  @media (max-width: 1500px) {\r\n    width: 27%;\r\n  }\r\n\r\n  @media (max-width: 1400px) {\r\n    width: 22%:\r\n  }\r\n\r\n  @media (max-width: 1300px) {\r\n    width: 28%;\r\n  }\r\n\r\n  @media (max-width: 1200px) {\r\n    width: 30%;\r\n  }\r\n\r\n  @media (max-width: 1100px) {\r\n    width: 28%;\r\n  }\r\n\r\n  @media (max-width: 1000px) {\r\n    width: 50%;\r\n    height: 4rem;\r\n    background: rgb(${(props) => props.theme.background});\r\n  }\r\n\r\n  @media (max-width: 600px) {\r\n    width: 100%;\r\n    height: 4rem;\r\n    background: rgb(${(props) => props.theme.background});\r\n  }\r\n`;\r\n\r\nexport const SearchContainer = styled.div`\r\n  width: 16rem;\r\n  position: absolute;\r\n  margin-top: 1.6rem;\r\n  right: 0;\r\n\r\n  @media (max-width: 1500px) {\r\n    width: 15rem;\r\n  }\r\n\r\n  @media (max-width: 1400px) {\r\n    width: 14rem;\r\n  }\r\n\r\n  @media (max-width: 1300px) {\r\n    width: 14rem;\r\n  }\r\n\r\n  @media (max-width: 1200px) {\r\n    width: 13rem;\r\n  }\r\n\r\n  @media (max-width: 1100px) {\r\n    width: 10rem;\r\n  }\r\n\r\n  @media (max-width: 1000px) {\r\n    width: 12rem;\r\n    left: 8rem;\r\n    margin-top: 0.5rem;\r\n  }\r\n\r\n  @media (max-width: 600px) {\r\n    left: 45%;\r\n  }\r\n`;\r\n\r\nexport const SearchbarContainer = styled.div`\r\n  width: 100%;\r\n  position: relative;\r\n  float: right;\r\n`;\r\n\r\nexport const SearchResultContainer = styled.div`\r\n  background: rgb(${(props) => props.theme.background});\r\n  box-shadow: 0 3px 10px rgb(0, 0, 0, 0.2);\r\n  transition: box-shadow 0.2s ease-in-out;\r\n\r\n  &:hover {\r\n    box-shadow: 0 3px 10px rgb(0, 0, 0, 0.1);\r\n  }\r\n\r\n  &:focus {\r\n    box-shadow: 0 3px 10px rgb(0, 0, 0, 0.1);\r\n  }\r\n`;\r\n\r\nexport const Avatar = styled.img`\r\n  border-radius: 50%;\r\n  height: 2.8rem;\r\n  width: 2.8rem;\r\n  box-shadow: 0 3px 10px rgb(0, 0, 0, 0.2);\r\n`;\r\n\r\nexport const Username = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-left: 1rem;\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  width: calc(100% - 3rem - 1px);\r\n  position: relative;\r\n  font-size: 1.1rem;\r\n  padding: 0.5rem 2rem 0.5rem 1rem;\r\n  border: none;\r\n  border-left: 1px solid rgb(${(props) => props.theme.primary});\r\n  background-color: transparent;\r\n  box-shadow: 0 3px 10px rgb(0, 0, 0, 0.2);\r\n  transition: box-shadow 0.2s ease-in-out, border 0.3s ease-in-out;\r\n\r\n  @media (max-width: 1000px) {\r\n    box-shadow: 0 3px 10px rgb(0, 0, 0, 0.1);\r\n  }\r\n\r\n  &:hover {\r\n    box-shadow: 0 3px 10px rgb(0, 0, 0, 0.1);\r\n  }\r\n\r\n  &:focus {\r\n    box-shadow: 0 3px 10px rgb(0, 0, 0, 0.1);\r\n  }\r\n`;\r\n\r\nexport const BackgroundContainer = styled.div`\r\n  width: 100%;\r\n  background-image: linear-gradient(\r\n      to right,\r\n      rgba(${(props) => props.theme.background}, 0.7),\r\n      rgba(${(props) => props.theme.background}, 0.4)\r\n    ),\r\n    url(${(props) => props.backgroundImageUrl});\r\n  background-size: cover;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const LinkContainer = styled.div`\r\n  border-left: 1px solid rgb(${(props) => props.theme.primary});\r\n  display: flex;\r\n  padding: 1rem 1rem;\r\n  width: calc(100% - 2rem);\r\n  background: rgba(\r\n    ${(props) => props.theme.background},\r\n    ${(props) => (props.mode === \"light\" ? \"0.2\" : \"0.8\")}\r\n  );\r\n  transition: background 0.3s ease-in-out, color 0.2s ease-in-out,\r\n    border 0.2s ease-in-out;\r\n\r\n  &:hover {\r\n    border-left: 3px solid rgb(${(props) => props.theme.primary});\r\n    background: rgba(\r\n      ${(props) => props.theme.background},\r\n      ${(props) => (props.mode === \"light\" ? \"0\" : \"0.6\")}\r\n    );\r\n    color: rgb(${(props) => props.theme.primary});\r\n  }\r\n`;\r\n\r\nexport const SearchIcon = styled.i`\r\n  position: absolute;\r\n  top: 0.95rem;\r\n  right: 1rem;\r\n  color: gray;\r\n`;\r\n\r\nexport const ChangeTheme = styled.i`\r\n  position: absolute;\r\n  color: rgb(${(props) => props.theme.primary});\r\n  height: 3rem;\r\n  font-size: 2rem;\r\n  margin: 2rem 2.5rem;\r\n  cursor: pointer;\r\n  z-index: 1000;\r\n\r\n  @media (max-width: 1000px) {\r\n    margin: 1rem 2.5rem;\r\n  }\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDebouncedCallback } from \"use-debounce\";\r\nimport axios from \"@axios\";\r\nimport getImageSrc from \"@helpers/imageSrc\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport useLoader from \"@hooks/useLoader\";\r\nimport { Loader } from \"@styles/common\";\r\n\r\nimport ThemeMenu from \"./ThemeMenu\";\r\n\r\nimport {\r\n  Container,\r\n  SearchContainer,\r\n  SearchbarContainer,\r\n  SearchResultContainer,\r\n  SearchIcon,\r\n  Avatar,\r\n  Username,\r\n  Input,\r\n  LinkContainer,\r\n  BackgroundContainer,\r\n  ChangeTheme,\r\n} from \"./styles\";\r\n\r\nfunction Searchbar() {\r\n  const [input, setInput] = useState(\"\");\r\n  const [users, setUsers] = useState(null);\r\n  const [dropdownActive, setDropdownActive] = useState(false);\r\n  const [showResults, setShowResults] = useState(false);\r\n  const { loaderActive, setLoaderActive } = useLoader(false);\r\n\r\n  const fetchUsers = async (input) => {\r\n    setLoaderActive(true);\r\n    const response = await axios.get(\"/users\", { params: { input } });\r\n    setUsers(response.data);\r\n    setShowResults(true);\r\n    setLoaderActive(false);\r\n  };\r\n\r\n  const debounced = useDebouncedCallback((value) => {\r\n    fetchUsers(value);\r\n  }, 400);\r\n\r\n  const onChange = (value) => {\r\n    setLoaderActive(true);\r\n    setInput(value);\r\n  };\r\n\r\n  const toggleDropdown = () => {\r\n    setDropdownActive(!dropdownActive);\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"mousedown\", handleCloseResults);\r\n    document.addEventListener(\"mousedown\", handleCloseThemes);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleCloseResults);\r\n      document.removeEventListener(\"mousedown\", handleCloseThemes);\r\n    };\r\n  }, []);\r\n\r\n  const handleCloseResults = (event) => {\r\n    if (\r\n      event.target.className === \"debounce-input\" ||\r\n      event.target.parentElement?.className === \"text-align__center\" ||\r\n      event.target.parentElement?.parentElement?.className ===\r\n        \"text-align__center\" ||\r\n      event.target.parentElement?.parentElement?.parentElement?.className ===\r\n        \"text-align__center\" ||\r\n      (typeof event.target.className === \"string\" &&\r\n        event.target.className.includes(\"fa-search\"))\r\n    ) {\r\n    } else {\r\n      setShowResults(false);\r\n    }\r\n  };\r\n\r\n  const handleCloseThemes = (event) => {\r\n    if (\r\n      (typeof event.target.className === \"string\" &&\r\n        event.target.className.includes(\"fas fa-palette\")) ||\r\n      event.target?.id === \"themeDropdown\" ||\r\n      event.target?.parentElement?.id === \"themeDropdown\" ||\r\n      (typeof event.target.className === \"string\" &&\r\n        event.target.className.includes(\"fa-search\"))\r\n    ) {\r\n    } else {\r\n      setDropdownActive(false);\r\n    }\r\n  };\r\n\r\n  const renderUsers = () => {\r\n    return (\r\n      <SearchResultContainer>\r\n        {users.map((user) => (\r\n          <Link\r\n            onClick={() => {\r\n              setInput(\"\");\r\n              setUsers(null);\r\n            }}\r\n            key={uuid()}\r\n            style={{ height: \"auto\" }}\r\n            className=\"text-align__center\"\r\n            to={`/user/${user.username}`}\r\n          >\r\n            <BackgroundContainer\r\n              backgroundImageUrl={getImageSrc(user.background, \"background\")}\r\n            >\r\n              <LinkContainer>\r\n                <Avatar src={getImageSrc(user.avatar)} />\r\n                <Username>{user.username}</Username>\r\n              </LinkContainer>\r\n            </BackgroundContainer>\r\n          </Link>\r\n        ))}\r\n      </SearchResultContainer>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      {dropdownActive && <ThemeMenu />}\r\n      <ChangeTheme className=\"fas fa-palette\" onClick={toggleDropdown} />\r\n      <SearchContainer>\r\n        <SearchbarContainer>\r\n          <Input\r\n            onFocus={() => setShowResults(true)}\r\n            value={input}\r\n            onChange={(event) => {\r\n              onChange(event.target.value);\r\n              debounced(event.target.value);\r\n            }}\r\n            spellCheck=\"false\"\r\n            type=\"text\"\r\n            placeholder=\"Search...\"\r\n            maxLength={12}\r\n          />\r\n\r\n          {loaderActive ? (\r\n            <Loader mini />\r\n          ) : (\r\n            <SearchIcon className=\"fas fa-search\" />\r\n          )}\r\n        </SearchbarContainer>\r\n        {users && showResults && renderUsers()}\r\n      </SearchContainer>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Searchbar;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  margin-top: -0.5rem;\r\n  margin-left: -1.1rem;\r\n  border-left: 1px solid rgb(${(props) => props.theme.primary});\r\n  box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.2);\r\n  width: 12rem;\r\n\r\n  @media (max-width: 1000px) {\r\n    position: absolute;\r\n    right: 0.9rem;\r\n    top: 6rem;\r\n  }\r\n\r\n  @media (max-width: 600px) {\r\n    top: -28.5rem;\r\n    right: 50%;\r\n    transform: translateX(22%);\r\n  }\r\n`;\r\n\r\nexport const DropdownConnectorShadow = styled.div`\r\n  filter: drop-shadow(\r\n    0px -1px 0px rgba(${(props) => props.theme.primary}, 0.5)\r\n  );\r\n\r\n  @media (max-width: 600px) {\r\n    filter: drop-shadow(\r\n      0px 1px 0px rgba(${(props) => props.theme.primary}, 0.5)\r\n    );\r\n  }\r\n`;\r\n\r\nexport const DropdownConnector = styled.div`\r\n  background: rgb(${(props) => props.theme.background});\r\n  height: 10px;\r\n  width: 20px;\r\n  position: absolute;\r\n  margin-top: -10px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  clip-path: polygon(50% 0%, 0% 100%, 100% 100%);\r\n\r\n  @media (max-width: 600px) {\r\n    top: 29.6rem;\r\n    clip-path: polygon(50% 100%, 0% 0%, 100% 0);\r\n  }\r\n`;\r\n\r\nexport const Group = styled.div`\r\n  background: rgb(${(props) => props.theme.background});\r\n  padding: 1rem 0.5rem;\r\n  width: calc(100% - 1rem);\r\n  color: gray;\r\n`;\r\n\r\nexport const Item = styled.div`\r\n  background: rgb(${(props) => props.theme.background});\r\n  height: 2.7rem;\r\n  box-shadow: inset 2px 0 1px rgb(${(props) => props.theme.primary});\r\n  transition: box-shadow 0.2s ease-in-out, color 0.3s ease-in-out;\r\n\r\n  &:hover {\r\n    box-shadow: inset 12rem 0 0 rgb(${(props) => props.theme.primary});\r\n    color: rgb(${(props) => props.theme.background});\r\n  }\r\n`;\r\n","import React, { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport {\r\n  Container,\r\n  DropdownConnector,\r\n  DropdownConnectorShadow,\r\n  Group,\r\n  Item,\r\n} from \"./styles\";\r\n\r\nconst Dropdown = ({ username, toggleDropdown, toggleModal, handleLogout }) => {\r\n  useEffect(() => {\r\n    const handleClick = (event) => {\r\n      if (\r\n        event.target.parentElement.id === \"dropdown\" ||\r\n        event.target.parentElement.parentElement.id === \"dropdown\" ||\r\n        event.target.id === \"open-dropdown\"\r\n      ) {\r\n      } else {\r\n        toggleDropdown();\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mousedown\", handleClick);\r\n    return () => document.removeEventListener(\"mousedown\", handleClick);\r\n  }, [toggleDropdown]);\r\n\r\n  return (\r\n    <>\r\n      <Container id=\"dropdown\">\r\n        <DropdownConnectorShadow>\r\n          <DropdownConnector />\r\n        </DropdownConnectorShadow>\r\n        <Item>\r\n          <Link to={`/user/${username}`} onClick={toggleDropdown}>\r\n            Profile\r\n          </Link>\r\n        </Item>\r\n        <Group>Account Settings</Group>\r\n        <Item>\r\n          <Link\r\n            onClick={toggleDropdown}\r\n            to={`/user/${username}/settings/username`}\r\n          >\r\n            Change Your Username\r\n          </Link>\r\n        </Item>\r\n        <Item>\r\n          <Link\r\n            onClick={toggleDropdown}\r\n            to={`/user/${username}/settings/email`}\r\n          >\r\n            Change Your Email\r\n          </Link>\r\n        </Item>\r\n        <Item>\r\n          <Link\r\n            onClick={toggleDropdown}\r\n            to={`/user/${username}/settings/password`}\r\n          >\r\n            Change Your Password\r\n          </Link>\r\n        </Item>\r\n        <Item>\r\n          <Link\r\n            onClick={() => {\r\n              toggleDropdown();\r\n              toggleModal();\r\n            }}\r\n            to=\"\"\r\n          >\r\n            Delete Account\r\n          </Link>\r\n        </Item>\r\n        <Group>Profile Settings</Group>\r\n        <Item>\r\n          <Link\r\n            to={`/user/${username}/settings/background`}\r\n            onClick={toggleDropdown}\r\n          >\r\n            Change Background\r\n          </Link>\r\n        </Item>\r\n        <Item>\r\n          <Link\r\n            to={`/user/${username}/settings/avatar`}\r\n            onClick={toggleDropdown}\r\n          >\r\n            Change Avatar\r\n          </Link>\r\n        </Item>\r\n        <Item onClick={handleLogout}>\r\n          <Link to=\"/home\" onClick={toggleDropdown}>\r\n            Log out\r\n          </Link>\r\n        </Item>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Dropdown;\r\n","import styled from \"styled-components\";\r\n\r\nexport const BackgroundContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: fixed;\r\n  background: rgba(${(props) => props.theme.background}, 0.8);\r\n  height: 100vh;\r\n  width: 100vw;\r\n  z-index: 100;\r\n`;\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-top: 20rem;\r\n`;\r\n\r\nexport const Message = styled.p`\r\n  font-size: 1.2rem;\r\n  color: ${(props) =>\r\n    props.danger ? `rgb(${props.theme.primary})` : \"inherit\"};\r\n  text-align: center;\r\n`;\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { createPortal } from \"react-dom\";\r\nimport axiosInstance from \"@axios\";\r\n\r\nimport { BackgroundContainer, Container, Message } from \"./styles\";\r\nimport { Button } from \"@styles/common\";\r\n\r\nconst DeleteAccountModal = ({ toggleModal, handleLogout }) => {\r\n  const user = useSelector((state) => state.user);\r\n  const deleteAccount = async () => {\r\n    await axiosInstance.delete(`users/${user.username}/delete`);\r\n  };\r\n  const handleDelete = () => {\r\n    deleteAccount();\r\n    handleLogout();\r\n  };\r\n  return createPortal(\r\n    <BackgroundContainer onClick={toggleModal}>\r\n      <Container>\r\n        <Message danger>This action is irreversible!</Message>\r\n        <Message>Are you sure you want to delete your account?</Message>\r\n        <Button style={{ width: \"auto\" }} onClick={handleDelete}>\r\n          I want do delete my account\r\n        </Button>\r\n        <Button>Cancel</Button>\r\n      </Container>\r\n    </BackgroundContainer>,\r\n    document.getElementById(\"portal\")\r\n  );\r\n};\r\n\r\nexport default DeleteAccountModal;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  width: 30%;\r\n  position: fixed;\r\n  right: 0;\r\n\r\n  @media (max-width: 1700px) {\r\n    width: 28%;\r\n  }\r\n\r\n  @media (max-width: 1600px) {\r\n    width: 26%;\r\n  }\r\n\r\n  @media (max-width: 1500px) {\r\n    width: 27%;\r\n  }\r\n\r\n  @media (max-width: 1400px) {\r\n    width: 22%:\r\n  }\r\n\r\n  @media (max-width: 1300px) {\r\n    width: 28%;\r\n  }\r\n\r\n  @media (max-width: 1200px) {\r\n    width: 30%;\r\n  }\r\n\r\n  @media (max-width: 1100px) {\r\n    width: 28%;\r\n  }\r\n\r\n  @media (max-width: 1000px) {\r\n    width: 50%;\r\n    height: 4rem;\r\n    display: inline;\r\n    background: rgb(${(props) => props.theme.background});\r\n  }\r\n\r\n  @media (max-width: 600px) {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    width: 100%;\r\n    height: 4rem;\r\n    bottom: 0;\r\n    background: rgb(${(props) => props.theme.background});\r\n    box-shadow: 0 -3px 10px rgb(0, 0, 0, 0.2);\r\n  }\r\n`;\r\n\r\nexport const AuthContainer = styled.div`\r\n  margin-top: 1rem;\r\n  height: 5rem;\r\n  width: 10rem;\r\n  float: left;\r\n  display: flex;\r\n  justify-content: space-around;\r\n\r\n  @media (max-width: 1000px) {\r\n    margin-top: -0.5rem;\r\n    margin-right: 2rem;\r\n    float: right;\r\n    flex-direction: row-reverse;\r\n  }\r\n\r\n  @media (max-width: 600px) {\r\n    float: none;\r\n    margin: 0;\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\nexport const Name = styled.p`\r\n  cursor: pointer;\r\n  transition: color 0.1s ease-in-out;\r\n\r\n  &:hover {\r\n    color: rgb(${(props) => props.theme.primary});\r\n  }\r\n\r\n  @media (max-width: 600px) {\r\n    margin-left: 0.5rem;\r\n    order: 1;\r\n  }\r\n`;\r\n\r\nexport const Settings = styled.div`\r\n  font-size: 1.5rem;\r\n  margin: auto;\r\n  cursor: pointer;\r\n  color: rgb(${(props) => props.theme.text});\r\n  transition: color 0.1s ease-in-out;\r\n\r\n  &:hover {\r\n    color: rgb(${(props) => props.theme.primary});\r\n  }\r\n  @media (max-width: 600px) {\r\n    order: 3;\r\n  }\r\n`;\r\n\r\nexport const Avatar = styled.img`\r\n  height: 3rem;\r\n  width: 3rem;\r\n  border-radius: 50%;\r\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.4);\r\n  margin: auto 0;\r\n  cursor: pointer;\r\n\r\n  transition: color 0.1s ease-in-out;\r\n\r\n  &:hover {\r\n    color: rgb(${(props) => props.theme.primary});\r\n  }\r\n  @media (max-width: 600px) {\r\n    order: 2;\r\n  }\r\n`;\r\n\r\nexport const Button = styled.a`\r\n  margin: auto;\r\n  font-size: inherit;\r\n  font-family: inherit;\r\n  background: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  transition: color 0.1s ease-in-out;\r\n\r\n  &:hover,\r\n  &:focus,\r\n  &:active {\r\n    color: rgb(${(props) => props.theme.primary});\r\n  }\r\n`;\r\n\r\nexport const LinkContainer = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  transition: color 0.2s ease-in-out;\r\n  font-size: 1.1rem;\r\n\r\n  &:hover {\r\n    color: rgb(${(props) => props.theme.primary});\r\n  }\r\n`;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useSelector, connect } from \"react-redux\";\r\nimport { logout } from \"@actions/userActions\";\r\nimport getImageSrc from \"@helpers/imageSrc\";\r\nimport Dropdown from \"./Dropdown\";\r\nimport DeleteAccountModal from \"@modals/DeleteAccount\";\r\n\r\nimport {\r\n  Container,\r\n  AuthContainer,\r\n  Name,\r\n  Settings,\r\n  Avatar,\r\n  LinkContainer,\r\n} from \"./styles\";\r\n\r\nfunction Authbar({ logout }) {\r\n  const user = useSelector((state) => state.user);\r\n  const [dropdown, setDropdown] = useState(false);\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  const handleLogout = () => {\r\n    logout();\r\n    window.localStorage.removeItem(\"user\");\r\n    window.localStorage.removeItem(\"accessToken\");\r\n  };\r\n\r\n  const toggleDropdown = () => {\r\n    setDropdown(!dropdown);\r\n  };\r\n\r\n  const toggleModal = () => {\r\n    setShowModal(!showModal);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {showModal && (\r\n        <DeleteAccountModal\r\n          toggleModal={toggleModal}\r\n          handleLogout={handleLogout}\r\n        />\r\n      )}\r\n      <Container>\r\n        <AuthContainer>\r\n          {user ? (\r\n            <>\r\n              <Avatar src={getImageSrc(user.avatar, \"avatar\")} />\r\n              <Settings\r\n                className=\"fas fa-cog\"\r\n                onClick={toggleDropdown}\r\n                id=\"open-dropdown\"\r\n              />\r\n              <Name>\r\n                <Link\r\n                  className=\"text-align__center\"\r\n                  to={`/user/${user.username}/posts`}\r\n                >\r\n                  {user.username}\r\n                </Link>\r\n              </Name>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <LinkContainer>\r\n                <Link to=\"/login\">Login</Link>\r\n              </LinkContainer>\r\n              <LinkContainer>\r\n                <Link to=\"/register\">Register</Link>\r\n              </LinkContainer>\r\n            </>\r\n          )}\r\n        </AuthContainer>\r\n        {user && dropdown && (\r\n          <Dropdown\r\n            username={user.username}\r\n            handleLogout={handleLogout}\r\n            toggleDropdown={toggleDropdown}\r\n            toggleModal={toggleModal}\r\n          />\r\n        )}\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default connect(null, { logout })(Authbar);\r\n","import { useState } from \"react\";\r\n\r\nconst useFormHook = (fields) => {\r\n  const [inputs, setInputs] = useState({ ...fields });\r\n\r\n  const [errors, setErrors] = useState({ ...fields });\r\n\r\n  const onChange = (event) => {\r\n    setInputs({ ...inputs, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  return { inputs, onChange, setInputs, errors, setErrors, fields };\r\n};\r\n\r\nexport default useFormHook;\r\n","const validateInputs = {\r\n  username: (username) => {\r\n    let error = \"\";\r\n    const re = /[^A-Za-z0-9]+/g;\r\n    if (username.length <= 4 && username.length > 0) {\r\n      error = \"Username has to be more than 4 characters long.\";\r\n    } else if (re.test(username.toLowerCase())) {\r\n      error = \"Please use only letters and numbers.\";\r\n    } else if (username.length > 12) {\r\n      error = \"Username has to be less than 12 characters long.\";\r\n    }\r\n    return error;\r\n  },\r\n\r\n  email: (email) => {\r\n    let error = \"\";\r\n    const re = /^(([^<>()\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    if (email.length === 0) {\r\n      error = \"\";\r\n    } else if (!re.test(email.toLowerCase())) {\r\n      error = \"Please enter a valid email.\";\r\n    }\r\n    return error;\r\n  },\r\n\r\n  password: (password) => {\r\n    let error = \"\";\r\n    if (password.length < 8 && password.length > 0) {\r\n      error = \"Password has to be more than 8 characters long.\";\r\n    } else if (password.length > 30) {\r\n      error = \"Password has to be less than 30 characters long.\";\r\n    }\r\n    return error;\r\n  },\r\n\r\n  repeatPassword: (repeatPassword, password) => {\r\n    return \"\";\r\n  },\r\n\r\n  comparePasswords: (currentField, compareTo) => {\r\n    let error = \"\";\r\n    if (currentField !== compareTo) {\r\n      error = \"Passwords do not match.\";\r\n    }\r\n    return error;\r\n  },\r\n\r\n  setDefaultErrors: (inputs, errorFields) => {\r\n    const errors = {\r\n      ...errorFields,\r\n    };\r\n    if (inputs.username.length === 0) {\r\n      errors.username = \"Please enter your username.\";\r\n    }\r\n    if (inputs.email.length === 0) {\r\n      errors.email = \"Please enter your email.\";\r\n    }\r\n    if (inputs.password.length === 0) {\r\n      errors.password = \"Please enter your password.\";\r\n    }\r\n    if (inputs.repeatPassword.length === 0) {\r\n      errors.repeatPassword = \"Please repeat your password.\";\r\n    }\r\n    return errors;\r\n  },\r\n};\r\n\r\nexport default validateInputs;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport useFormHook from \"@hooks/useFormHook\";\r\nimport validateInputs from \"@helpers/validations\";\r\nimport axios from \"@axios\";\r\n\r\nimport {\r\n  FormContainer,\r\n  Form,\r\n  Header,\r\n  Input,\r\n  Button,\r\n  Message,\r\n  Error,\r\n} from \"@styles/common\";\r\n\r\nfunction Register({ history }) {\r\n  const { inputs, onChange, errors, setErrors } = useFormHook({\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    repeatPassword: \"\",\r\n  });\r\n\r\n  const validateBackend = async (fieldName) => {\r\n    try {\r\n      const response = await axios.post(\"/auth/register/validate\", {\r\n        ...inputs,\r\n        fieldName,\r\n      });\r\n      setErrors((prevState) => {\r\n        const { field, message } = response.data;\r\n        return {\r\n          ...prevState,\r\n          [field]: message,\r\n        };\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    event.persist();\r\n    onChange(event);\r\n    setErrors((prevErrors) => {\r\n      const { name, value } = event.target;\r\n      return {\r\n        ...prevErrors,\r\n        [name]: validateInputs[name](value),\r\n      };\r\n    });\r\n  };\r\n\r\n  const comparePasswords = (event, compareTo) => {\r\n    event.persist();\r\n    setErrors((prevErrors) => {\r\n      const { value } = event.target;\r\n      return {\r\n        ...prevErrors,\r\n        repeatPassword: validateInputs.comparePasswords(value, compareTo),\r\n      };\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    const validateFields = {\r\n      username: validateInputs.username(inputs.username) || errors.username,\r\n      email: validateInputs.email(inputs.email) || errors.email,\r\n      password: validateInputs.password(inputs.password) || errors.password,\r\n      repeatPassword:\r\n        validateInputs.repeatPassword(inputs.repeatPassword, inputs.password) ||\r\n        errors.repeatPassword,\r\n    };\r\n\r\n    const newErrors = validateInputs.setDefaultErrors(inputs, validateFields);\r\n    setErrors(newErrors);\r\n\r\n    const finalErrors = new Array(Object.values(newErrors))[0];\r\n\r\n    if (finalErrors.every((error) => error.length === 0)) {\r\n      try {\r\n        await axios.post(\"/auth/register\", inputs);\r\n        history.push(\"/login\");\r\n      } catch (error) {\r\n        if (error.response?.status === 422) {\r\n          const { field, message } = error.response.data;\r\n          setErrors({ ...errors, [field]: message });\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <FormContainer>\r\n      <Form autoComplete=\"off\" onSubmit={handleSubmit}>\r\n        <Header>Register</Header>\r\n\r\n        <Input\r\n          error={errors.username.length > 0}\r\n          type=\"text\"\r\n          placeholder=\"Username\"\r\n          name=\"username\"\r\n          value={inputs.username}\r\n          onChange={handleChange}\r\n          onBlur={(event) => validateBackend(event.target.name)}\r\n        />\r\n        <Error>{errors.username}</Error>\r\n        <Input\r\n          error={errors.email.length > 0}\r\n          type=\"text\"\r\n          placeholder=\"Email\"\r\n          name=\"email\"\r\n          value={inputs.email}\r\n          onChange={handleChange}\r\n          onBlur={(event) => validateBackend(event.target.name)}\r\n        />\r\n        <Error>{errors.email}</Error>\r\n        <Input\r\n          error={errors.password.length > 0}\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          name=\"password\"\r\n          value={inputs.password}\r\n          onChange={(event) => {\r\n            handleChange(event);\r\n            comparePasswords(event, inputs.repeatPassword);\r\n          }}\r\n        />\r\n        <Error>{errors.password}</Error>\r\n        <Input\r\n          error={errors.repeatPassword.length > 0}\r\n          type=\"password\"\r\n          placeholder=\"Repeat password\"\r\n          name=\"repeatPassword\"\r\n          value={inputs.repeatPassword}\r\n          onChange={(event) => {\r\n            handleChange(event);\r\n            comparePasswords(event, inputs.password);\r\n          }}\r\n        />\r\n        <Error>{errors.repeatPassword}</Error>\r\n        <Message>\r\n          <Link className=\"text-align__center\" to=\"/login\">\r\n            Already have an account? Click here to Login!\r\n          </Link>\r\n        </Message>\r\n        <Button className=\"align-center\">Register</Button>\r\n      </Form>\r\n    </FormContainer>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport useFormHook from \"@hooks/useFormHook\";\r\nimport axiosInstance from \"@axios\";\r\nimport { login } from \"@actions/userActions\";\r\nimport store from \"@store\";\r\n\r\nimport {\r\n  FormContainer,\r\n  Form,\r\n  Header,\r\n  Input,\r\n  Error,\r\n  Button,\r\n  Message,\r\n} from \"@styles/common\";\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\nfunction Login({ history }) {\r\n  const { inputs, onChange, errors, setErrors, fields } = useFormHook({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const handleChange = (event) => {\r\n    onChange(event);\r\n    setErrors({ ...fields });\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    if (inputs.email.length === 0) {\r\n      setErrors({ ...errors, email: \"Please enter your email.\" });\r\n    } else if (inputs.password.length === 0) {\r\n      setErrors({ ...errors, password: \"Please enter your password.\" });\r\n    } else {\r\n      let userData = {};\r\n      try {\r\n        const response = await axiosInstance.post(\"/auth/login\", inputs);\r\n        const { avatar, background, accessToken } = response.data;\r\n        const { email, id, username } = jwtDecode(accessToken);\r\n        userData = {\r\n          email,\r\n          id,\r\n          username,\r\n          avatar,\r\n          background,\r\n        };\r\n        window.localStorage.setItem(\"user\", JSON.stringify(userData));\r\n        window.localStorage.setItem(\"accessToken\", JSON.stringify(accessToken));\r\n        history.push(\"/home\");\r\n        store.dispatch(login(userData));\r\n      } catch (error) {\r\n        if (error.response) {\r\n          const { field, message } = error.response.data;\r\n          setErrors({\r\n            ...errors,\r\n            [field]: message,\r\n          });\r\n        } else {\r\n          console.log(error);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <FormContainer>\r\n      <Form autoComplete=\"off\" onSubmit={handleSubmit}>\r\n        <Header>Login</Header>\r\n        <Input\r\n          error={errors.email.length > 0}\r\n          type=\"text\"\r\n          placeholder=\"Email\"\r\n          name=\"email\"\r\n          value={inputs.email}\r\n          onChange={handleChange}\r\n        />\r\n        <Error>{errors.email}</Error>\r\n        <Input\r\n          error={errors.password.length > 0}\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          name=\"password\"\r\n          value={inputs.password}\r\n          onChange={handleChange}\r\n        />\r\n        <Error>{errors.password}</Error>\r\n        <Message>\r\n          <Link className=\"text-align__center\" to=\"/register\">\r\n            Don't have an account? Click here to Register!\r\n          </Link>\r\n        </Message>\r\n        <Button className=\"align-center\">Login</Button>\r\n      </Form>\r\n    </FormContainer>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import { useState } from \"react\";\r\n\r\nconst postsPerFetch = 10;\r\n\r\nconst useAmount = () => {\r\n  const [amountOfPosts, setAmountOfPosts] = useState(postsPerFetch);\r\n\r\n  return { amountOfPosts, setAmountOfPosts, postsPerFetch };\r\n};\r\n\r\nexport default useAmount;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  background-image: linear-gradient(\r\n      to right,\r\n      rgba(${(props) => props.theme.background}, 0.7),\r\n      rgba(${(props) => props.theme.background}, 0.4)\r\n    ),\r\n    url(${(props) => props.background});\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  display: flex;\r\n  max-width: 100%;\r\n  min-height: 7rem;\r\n  border-bottom: 1px solid rgb(${(props) => props.theme.primary});\r\n  cursor: pointer;\r\n  position: relative;\r\n\r\n  transition: border 0.3s ease-in-out;\r\n`;\r\n\r\nexport const PostContent = styled.div`\r\n  margin: 1rem;\r\n  font-size: 1.1rem;\r\n  line-height: 1.2rem;\r\n  word-spacing: 1px;\r\n  padding: 0.5rem;\r\n  white-space: pre-line;\r\n`;\r\n\r\nexport const EditContainer = styled.div`\r\n  margin: 1rem;\r\n  padding: 0.5rem;\r\n  position: relative;\r\n`;\r\n\r\nexport const TextArea = styled.textarea`\r\n  position: absolute;\r\n  width: 100%;\r\n  padding: 0.5rem;\r\n  margin-left: -0.5rem;\r\n  margin-top: -0.5rem;\r\n  resize: none;\r\n  font-size: ${(props) => (props.comment ? \"1.05rem\" : \"1.1rem\")};\r\n  line-height: 1.2rem;\r\n  word-spacing: 1px;\r\n  letter-spacing: 0.5px;\r\n  border: none;\r\n  transition: box-shadow 0.2s ease-in-out;\r\n  background: rgba(0, 0, 0, 0.1);\r\n  border-radius: 8px;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  width: 9.5rem;\r\n  font-size: 1rem;\r\n  background: transparent;\r\n  display: block;\r\n  position: absolute;\r\n  bottom: -140%;\r\n  padding: 0 1rem;\r\n  color: rgb(${(props) => props.theme.text});\r\n  border: none;\r\n  border: 1px solid\r\n    ${(props) =>\r\n      props.disabled\r\n        ? `rgba(${props.theme.primary}, 0.5)`\r\n        : `rgb(${props.theme.primary})`};\r\n  box-shadow: inset 0 2rem 2rem\r\n    ${(props) =>\r\n      props.disabled\r\n        ? `rgba(${props.theme.primary}, 0.5)`\r\n        : `rgb(${props.theme.primary})`};\r\n  cursor: pointer;\r\n\r\n  transition: box-shadow 0.3s ease-in-out, border 0.5s ease-in-out;\r\n\r\n  &:hover {\r\n    box-shadow: inset 0 -2rem 10rem ${(props) => (props.disabled ? `rgba(${props.theme.primary}, 0.7)` : `rgb(${props.theme.primary})`)};\r\n  }\r\n\r\n  &.align-center {\r\n    margin: 0 auto;\r\n  }\r\n`;\r\n\r\nexport const Counter = styled.div`\r\n  position: absolute;\r\n  bottom: -1.6rem;\r\n  right: 0;\r\n  color: rgb(\r\n    ${(props) => (props.filled ? props.theme.primary : props.theme.lightText)}\r\n  );\r\n\r\n  transition: color 0.5s ease-in-out;\r\n`;\r\n\r\nexport const Background = styled.div`\r\n  width: 100%;\r\n  min-height: ${(props) => (props.post ? \"7rem\" : \"5rem\")};\r\n  padding: 1.5rem 1.5rem ${(props) => (props.paddingBottom ? \".7rem\" : \"0\")}\r\n    1.5rem;\r\n  display: flex;\r\n  background: rgba(\r\n    ${(props) => props.theme.background},\r\n    ${(props) => (props.mode === \"light\" ? \"0.2\" : \"0.8\")}\r\n  );\r\n  transition: background 0.4s ease-in-out;\r\n\r\n  ${(props) =>\r\n    !props.noHover &&\r\n    `&:hover {\r\n    background: rgba(\r\n      ${props.theme.background},\r\n      ${props.mode === \"light\" ? \"0\" : \"0.6\"}\r\n    );\r\n  } `}\r\n`;\r\n\r\nexport const AvatarContainer = styled.div`\r\n  width: 2rem;\r\n  margin-left: 1rem;\r\n`;\r\n\r\nexport const AuthorContainer = styled.div`\r\n  display: flex;\r\n`;\r\n\r\nexport const Author = styled.div`\r\n  font-size: 1.1rem;\r\n  font-weight: 500;\r\n  margin: ${(props) => (props.post ? \"1rem\" : \"0 1rem\")};\r\n\r\n  transition: color 0.3s ease-in-out;\r\n\r\n  &:hover {\r\n    color: rgb(${(props) => props.theme.primary});\r\n  }\r\n`;\r\nexport const Head = styled.div`\r\n  width: 100%;\r\n  letter-spacing: 0.5px;\r\n  font-size: 1.05rem;\r\n  margin-bottom: 3rem;\r\n`;\r\n\r\nexport const Info = styled.div`\r\n  display: flex;\r\n  margin-left: 1rem;\r\n  align-items: center;\r\n`;\r\n\r\nexport const Time = styled.div`\r\n  font-size: 0.9rem;\r\n  color: rgb(${(props) => props.theme.text});\r\n  position: absolute;\r\n  right: 3rem;\r\n  top: 25%;\r\n\r\n  transition: color 0.3s ease-in-out;\r\n`;\r\n\r\nexport const VoteContainer = styled.div`\r\n  position: absolute;\r\n  bottom: 1rem;\r\n  right: 0.5rem;\r\n\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  float: right;\r\n`;\r\n\r\nexport const ItemContainer = styled.div`\r\n  display: flex;\r\n  &:hover {\r\n    color: rgb(${(props) => props.theme.primary});\r\n  }\r\n`;\r\n\r\nexport const Count = styled.div`\r\n  margin: auto;\r\n  width: 1.5rem;\r\n  color: inherit;\r\n  transition: color 0.2s ease-in-out;\r\n`;\r\n\r\nexport const VoteButton = styled.button`\r\n  border: none;\r\n  background: transparent;\r\n  cursor: pointer;\r\n  font-size: 1.2rem;\r\n  color: inherit;\r\n\r\n  transition: color 0.2s ease-in-out;\r\n`;\r\n\r\nexport const Settings = styled.div`\r\n  position: absolute;\r\n  border-radius: 4px;\r\n  top: 0.5rem;\r\n  right: 0.5rem;\r\n  padding: 0.3rem 0.5rem;\r\n  width: 4rem;\r\n  display: flex;\r\n  justify-content: space-around;\r\n`;\r\n\r\nexport const Setting = styled.i`\r\n  font-size: 1.15rem;\r\n  padding: 0.5rem;\r\n  border-radius: 4px;\r\n  color: rgb(${(props) => props.theme.text});\r\n  transition: background 0.2s ease-in-out, color 0.2s ease-in-out;\r\n\r\n  &:hover {\r\n    background: rgba(${(props) => props.theme.text}, 0.2);\r\n    color: rgb(${(props) => props.theme.primary});\r\n  }\r\n`;\r\n\r\nexport const RemoveModal = styled.div`\r\n  background: rgba(${(props) => props.theme.background}, 0.8);\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n`;\r\n\r\nexport const RemoveButton = styled.div`\r\n  border: none;\r\n  border-radius: 4px;\r\n  padding: 0.5rem;\r\n  background: transparent;\r\n  cursor: pointer;\r\n  font-size: 1.2rem;\r\n  color: rgb(${(props) => props.theme.text});\r\n  transition: background 0.2s ease-in-out, color 0.2s ease-in-out;\r\n\r\n  &:hover {\r\n    background: rgba(${(props) => props.theme.text}, 0.2);\r\n    color: rgb(${(props) => props.theme.primary});\r\n  }\r\n`;\r\n\r\nexport const Message = styled.div`\r\n  font-size: 1.2rem;\r\n  margin-top: 2rem;\r\n  text-align: center;\r\n`;\r\n\r\nexport const ButtonContainer = styled.div`\r\n  margin-bottom: 2rem;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  width: 15%;\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { EditContainer, TextArea, Button, Counter } from \"../common/styles\";\r\n\r\nconst maxLength = 400;\r\nconst lineHeight = 19; // 1,2rem = 19px\r\n\r\nconst EditPost = ({ content, handleEdit, postHeight }) => {\r\n  let inputRef;\r\n  const rows = postHeight / lineHeight;\r\n  const [newContent, setNewContent] = useState(content);\r\n  const handleChange = (event) => {\r\n    setNewContent(event.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    inputRef.focus();\r\n  }, [inputRef]);\r\n\r\n  return (\r\n    <EditContainer style={{ height: `${postHeight}px` }}>\r\n      <TextArea\r\n        spellCheck=\"false\"\r\n        maxLength={maxLength}\r\n        rows={rows}\r\n        onClick={(event) => event.stopPropagation()}\r\n        ref={(input) => (inputRef = input)}\r\n        value={newContent}\r\n        onChange={handleChange}\r\n      />\r\n      <Counter filled={newContent.length >= maxLength}>\r\n        {newContent.length + \"/\" + maxLength}\r\n      </Counter>\r\n\r\n      <Button\r\n        disabled={!newContent.length > 0 || !/[A-Za-z0-9]/g.test(newContent)}\r\n        gray={!newContent.length > 0}\r\n        onClick={(event) => {\r\n          event.stopPropagation();\r\n          event.preventDefault();\r\n          handleEdit(newContent);\r\n        }}\r\n      >\r\n        Submit\r\n      </Button>\r\n    </EditContainer>\r\n  );\r\n};\r\n\r\nexport default EditPost;\r\n","import styled from \"styled-components\";\r\n\r\nexport const PostContentContainer = styled.div`\r\n  margin: 1rem;\r\n  font-size: 1.1rem;\r\n  line-height: 1.2rem;\r\n  word-spacing: 1px;\r\n  padding: 0.5rem;\r\n  white-space: pre-line;\r\n`;\r\n\r\nexport const PostContent = styled.p`\r\n  transition: color 0.3s ease-in-out;\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  border-bottom: 1px solid rgb(${(props) => props.theme.primary});\r\n  padding: 1.5rem 1rem 1.5rem 1rem;\r\n  position: relative;\r\n`;\r\n\r\nexport const TopSection = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport const BottomSection = styled.div`\r\n  padding-top: 1.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n`;\r\n\r\nexport const Avatar = styled.img`\r\n  height: 3rem;\r\n  width: 3rem;\r\n  border-radius: 50%;\r\n  box-shadow: 0 0 5px rgba(0, 0, 0, 0.4);\r\n`;\r\n\r\nexport const TextArea = styled.textarea`\r\n  width: 90%;\r\n  padding: 0.5rem;\r\n  margin-left: 1.5rem;\r\n  margin-top: 0.5rem;\r\n  margin-bottom: 1rem;\r\n  resize: none;\r\n  font-size: 1.05rem;\r\n  line-height: 1.2rem;\r\n  word-spacing: 1px;\r\n  letter-spacing: 0.5px;\r\n  border: none;\r\n  transition: box-shadow 0.2s ease-in-out;\r\n  background: rgba(0, 0, 0, 0.1);\r\n  border-radius: 8px;\r\n`;\r\n\r\nexport const Error = styled.div`\r\n  margin: auto;\r\n  font-size: 1rem;\r\n  color: red;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  width: 9.5rem;\r\n  font-size: 1rem;\r\n  background: transparent;\r\n  display: block;\r\n  padding: 0 1rem;\r\n  color: rgb(${(props) => props.theme.text});\r\n  border: none;\r\n  border: 1px solid\r\n    ${(props) =>\r\n      props.disabled\r\n        ? `rgba(${props.theme.primary}, 0.5)`\r\n        : `rgb(${props.theme.primary})`};\r\n  box-shadow: inset 0 2rem 2rem\r\n    ${(props) =>\r\n      props.disabled\r\n        ? `rgba(${props.theme.primary}, 0.5)`\r\n        : `rgb(${props.theme.primary})`};\r\n  cursor: pointer;\r\n\r\n  transition: box-shadow 0.3s ease-in-out, border 0.3s ease-in-out;\r\n\r\n  &:hover {\r\n    box-shadow: inset 0 -2rem 10rem ${(props) => (props.disabled ? `rgba(${props.theme.primary}, 0.7)` : `rgb(${props.theme.primary})`)};\r\n  }\r\n\r\n  &.align-center {\r\n    margin: 0 auto;\r\n  }\r\n`;\r\n\r\nexport const Counter = styled.div`\r\n  position: absolute;\r\n  bottom: 2.5rem;\r\n  right: 1.5rem;\r\n  color: rgb(\r\n    ${(props) => (props.filled ? props.theme.primary : props.theme.text)}\r\n  );\r\n\r\n  transition: color 0.5s ease-in-out;\r\n`;\r\n\r\nexport const Message = styled.div`\r\n  margin: auto;\r\n  padding: 0.5rem 0;\r\n  color: rgb(${(props) => props.theme.lightText});\r\n  font-size: 1.1rem;\r\n`;\r\n\r\nexport const RedirectLink = styled.div`\r\n  margin: auto;\r\n  padding: 0.5rem 0;\r\n  text-decoration: underline;\r\n  &:hover {\r\n    color: rgb(${(props) => props.theme.primary});\r\n  }\r\n`;\r\n","import React, { useState, useRef, useEffect, useContext } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport { toast } from \"react-toastify\";\r\nimport getImageSrc from \"@helpers/imageSrc\";\r\nimport EditPost from \"./edit\";\r\nimport axiosInstance from \"@axios\";\r\nimport { useSelector } from \"react-redux\";\r\nimport ThemeContext from \"@context/theme\";\r\n\r\nimport { PostContentContainer, PostContent } from \"./styles\";\r\nimport { Avatar } from \"../../ui/routes/Home/NewPost/styles\";\r\nimport {\r\n  Container,\r\n  Background,\r\n  AuthorContainer,\r\n  Author,\r\n  Info,\r\n  Head,\r\n  Time,\r\n  VoteContainer,\r\n  ItemContainer,\r\n  VoteButton,\r\n  RemoveButton,\r\n  Count,\r\n  Settings,\r\n  Setting,\r\n  RemoveModal,\r\n  Message,\r\n  ButtonContainer,\r\n} from \"../common/styles\";\r\n\r\nconst Post = ({\r\n  post,\r\n  history,\r\n  location,\r\n  posts,\r\n  setPosts,\r\n  comments,\r\n  toggleNewCommentModal,\r\n  newCommentModal,\r\n}) => {\r\n  const {\r\n    themeInfo: { mode },\r\n  } = useContext(ThemeContext);\r\n  const postRef = useRef();\r\n  const postCopy = location.post;\r\n  const user = useSelector((state) => state.user);\r\n  const authorSelf = post.author.username === user?.username || false;\r\n  post.createdAt = moment(post.createdAt, \"MM/DD/YYYY, h:mm:ss A\");\r\n  const [postHeight, setPostHeight] = useState();\r\n\r\n  const [editModal, setEditModal] = useState(false);\r\n  const [deleteModal, setDeleteModal] = useState(false);\r\n  const [votes, setVotes] = useState({\r\n    likes: postCopy ? postCopy.votes.likes : post.votes.likes,\r\n    dislikes: postCopy ? postCopy.votes.dislikes : post.votes.dislikes,\r\n    liked: postCopy\r\n      ? postCopy.votes.liked\r\n      : post.votes.likes.includes(user?.id),\r\n    disliked: postCopy\r\n      ? postCopy.votes.disliked\r\n      : post.votes.dislikes.includes(user?.id),\r\n  });\r\n\r\n  const background = `http://localhost:4000/uploads/${\r\n    post.author.background?.split(\"\\\\\")[1]\r\n  }`;\r\n\r\n  useEffect(() => {\r\n    setPostHeight(postRef.current.offsetHeight);\r\n  }, []);\r\n\r\n  const handleEdit = async (newContent) => {\r\n    if (newContent.length > 0) {\r\n      const { data } = await axiosInstance.patch(`/posts/${post._id}/edit`, {\r\n        newContent,\r\n      });\r\n      post.content = data.newContent;\r\n      setEditModal(false);\r\n      toast(\"Post has been updated.\");\r\n    }\r\n  };\r\n\r\n  const like = async (event) => {\r\n    event.stopPropagation();\r\n    if (user) {\r\n      try {\r\n        const response = await axiosInstance.post(`/posts/${post._id}/like`, {\r\n          userId: user.id,\r\n        });\r\n\r\n        const { liked, disliked } = response.data;\r\n        let updatedVotes = { ...votes, liked, disliked };\r\n\r\n        if (votes.liked) {\r\n          updatedVotes.likes = updatedVotes.likes.filter(\r\n            (id) => id !== user.id\r\n          );\r\n        } else {\r\n          if (votes.disliked) {\r\n            updatedVotes.dislikes = updatedVotes.dislikes.filter(\r\n              (id) => id !== user.id\r\n            );\r\n\r\n            updatedVotes.likes.push(user.id);\r\n          } else {\r\n            updatedVotes.likes.push(user.id);\r\n          }\r\n        }\r\n        setVotes({ ...updatedVotes });\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    } else {\r\n      toast.error(\"You have to login to vote.\");\r\n    }\r\n  };\r\n\r\n  const dislike = async (event) => {\r\n    event.stopPropagation();\r\n    if (user) {\r\n      try {\r\n        const response = await axiosInstance.post(\r\n          `/posts/${post._id}/dislike`,\r\n          {\r\n            userId: user.id,\r\n          }\r\n        );\r\n\r\n        const { liked, disliked } = response.data;\r\n        let updatedVotes = { ...votes, liked, disliked };\r\n\r\n        if (votes.disliked) {\r\n          updatedVotes.dislikes = updatedVotes.dislikes.filter(\r\n            (id) => id !== user.id\r\n          );\r\n        } else {\r\n          if (votes.liked) {\r\n            updatedVotes.likes = updatedVotes.likes.filter(\r\n              (id) => id !== user.id\r\n            );\r\n            updatedVotes.dislikes.push(user.id);\r\n          } else {\r\n            updatedVotes.dislikes.push(user.id);\r\n          }\r\n        }\r\n        setVotes({ ...updatedVotes });\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    } else {\r\n      toast.error(\"You have to login to vote.\");\r\n    }\r\n  };\r\n\r\n  const toggleEditModal = (event) => {\r\n    event.stopPropagation();\r\n    setEditModal(!editModal);\r\n  };\r\n\r\n  const toggleRemoveModal = (event) => {\r\n    event.stopPropagation();\r\n    setDeleteModal(!deleteModal);\r\n  };\r\n  const handleClickRemove = async (event) => {\r\n    event.stopPropagation();\r\n    try {\r\n      await axiosInstance.delete(`/posts/${post._id}/remove`);\r\n      setPosts(posts.filter((p) => p._id !== post._id));\r\n      toast.error(\"The post is removed\");\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    history.push(\"/home\");\r\n  };\r\n\r\n  const redirectToPost = (isCommentActive) => {\r\n    history.push({\r\n      pathname: `/posts/${post._id}`,\r\n      post: { ...post, votes },\r\n      isCommentActive,\r\n    });\r\n  };\r\n\r\n  const redirectToProfile = (event) => {\r\n    event.stopPropagation();\r\n    history.push(`/user/${post.author.username}`);\r\n  };\r\n\r\n  return (\r\n    <Container\r\n      onClick={() => {\r\n        redirectToPost(false);\r\n      }}\r\n      background={background}\r\n    >\r\n      <Background mode={mode} post>\r\n        <Head>\r\n          <Info>\r\n            <Avatar\r\n              src={getImageSrc(post.author.avatar, \"avatar\")}\r\n              onClick={redirectToProfile}\r\n            />\r\n            <AuthorContainer>\r\n              <Author\r\n                post\r\n                onClick={(event) => {\r\n                  event.stopPropagation();\r\n                  history.push(`/user/${post.author.username}`);\r\n                }}\r\n              >\r\n                {post.author.username}\r\n              </Author>\r\n            </AuthorContainer>\r\n            <Time>{post.createdAt.fromNow()}</Time>\r\n          </Info>\r\n          {editModal ? (\r\n            <EditPost\r\n              postHeight={postHeight}\r\n              content={post.content}\r\n              id={post._id}\r\n              handleEdit={handleEdit}\r\n            />\r\n          ) : (\r\n            <PostContentContainer>\r\n              <PostContent ref={postRef}>{post.content}</PostContent>\r\n            </PostContentContainer>\r\n          )}\r\n\r\n          <VoteContainer>\r\n            <ItemContainer>\r\n              <VoteButton\r\n                className={`fa${newCommentModal ? \"s\" : \"r\"} fa-comment`}\r\n                onClick={(event) => {\r\n                  event.stopPropagation();\r\n                  redirectToPost(true);\r\n                  toggleNewCommentModal &&\r\n                    toggleNewCommentModal(newCommentModal);\r\n                }}\r\n              />\r\n              <Count>\r\n                {comments?.length === undefined\r\n                  ? post.comments\r\n                  : comments.length}\r\n              </Count>\r\n            </ItemContainer>\r\n            <ItemContainer>\r\n              <VoteButton\r\n                onClick={like}\r\n                className={`fa${votes.liked ? \"s\" : \"r\"} fa-thumbs-up`}\r\n              />\r\n              <Count>{votes.likes.length}</Count>\r\n            </ItemContainer>\r\n            <ItemContainer>\r\n              <VoteButton\r\n                onClick={dislike}\r\n                className={`fa${votes.disliked ? \"s\" : \"r\"} fa-thumbs-down`}\r\n              />\r\n              <Count>{votes.dislikes.length}</Count>\r\n            </ItemContainer>\r\n          </VoteContainer>\r\n        </Head>\r\n      </Background>\r\n      {authorSelf && (\r\n        <Settings>\r\n          <Setting onClick={toggleEditModal} className=\"fas fa-edit\" />\r\n          <Setting onClick={toggleRemoveModal} className=\"fas fa-trash-alt\" />\r\n        </Settings>\r\n      )}\r\n      {deleteModal && (\r\n        <RemoveModal>\r\n          <Message>Are you sure you want to delete this post ?</Message>\r\n          <ButtonContainer>\r\n            <RemoveButton onClick={toggleRemoveModal}>No</RemoveButton>\r\n            <RemoveButton onClick={handleClickRemove}>Yes</RemoveButton>\r\n          </ButtonContainer>\r\n        </RemoveModal>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default withRouter(Post);\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport axiosInstance from \"@axios\";\r\nimport useFormHook from \"@hooks/useFormHook\";\r\nimport getImageSrc from \"@helpers/imageSrc\";\r\n\r\nimport { Button } from \"@styles/common\";\r\nimport {\r\n  Container,\r\n  TopSection,\r\n  BottomSection,\r\n  Avatar,\r\n  TextArea,\r\n  Counter,\r\n  Error,\r\n  Message,\r\n} from \"./styles\";\r\n\r\nconst maxLength = 400;\r\n\r\nconst NewPost = ({ posts, setPosts }) => {\r\n  const user = useSelector((state) => state.user);\r\n\r\n  const { inputs, onChange, setInputs, errors, fields } = useFormHook({\r\n    post: \"\",\r\n  });\r\n\r\n  const createPost = async (event) => {\r\n    event.preventDefault();\r\n\r\n    const requestBody = {\r\n      content: inputs.post,\r\n      id: user.id,\r\n    };\r\n    try {\r\n      const response = await axiosInstance.post(\"/posts/create\", requestBody);\r\n\r\n      setPosts([response.data, ...posts]);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n    setInputs({ ...fields });\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      {user ? (\r\n        <>\r\n          <TopSection>\r\n            <Avatar src={getImageSrc(user.avatar, \"avatar\")} />\r\n            <TextArea\r\n              notValid={!/[A-Za-z0-9]/g.test(inputs.post)}\r\n              spellCheck=\"false\"\r\n              name=\"post\"\r\n              maxLength={maxLength}\r\n              rows=\"2\"\r\n              onChange={onChange}\r\n              value={inputs.post}\r\n              placeholder=\"Post something...\"\r\n            />\r\n            <Counter filled={inputs.post.length >= maxLength}>\r\n              {inputs.post.length + \"/\" + maxLength}\r\n            </Counter>\r\n          </TopSection>\r\n          <BottomSection>\r\n            <Error>{errors.post}</Error>\r\n            <Button\r\n              disabled={!/[A-Za-z0-9]/g.test(inputs.post)}\r\n              className=\"force-center\"\r\n              type=\"submit\"\r\n              onClick={createPost}\r\n            >\r\n              Post\r\n            </Button>\r\n          </BottomSection>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <TopSection>\r\n            <Message>You have to be logged in to post something</Message>\r\n          </TopSection>\r\n        </>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default NewPost;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nexport const Posts = styled.div``;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport useAmount from \"@hooks/useAmount\";\r\nimport useLoader from \"@hooks/useLoader\";\r\n\r\nimport Post from \"@components/elements/Post\";\r\nimport NewPost from \"./NewPost\";\r\nimport axiosInstance from \"@axios\";\r\nimport { Container, Posts } from \"./styles\";\r\nimport { NoContentMessage, Loader } from \"@styles/common\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\n\r\nfunction Home() {\r\n  const user = useSelector(state => state.user);\r\n  const [posts, setPosts] = useState(null);\r\n  const { loaderActive, setLoaderActive } = useLoader();\r\n\r\n  const { amountOfPosts, setAmountOfPosts, postsPerFetch } = useAmount();\r\n\r\n  const fetchPosts = async shouldResetAmount => {\r\n    shouldResetAmount\r\n      ? setAmountOfPosts(amountOfPosts)\r\n      : setAmountOfPosts(amountOfPosts + postsPerFetch);\r\n    const response = await axiosInstance.get(\"/posts\", {\r\n      params: { amount: amountOfPosts, postsPerFetch },\r\n    });\r\n    if (response.data.length === 0) {\r\n      setLoaderActive(false);\r\n    }\r\n    if (!posts) {\r\n      response && setPosts([...response.data.reverse()]);\r\n    } else {\r\n      shouldResetAmount\r\n        ? response && setPosts([...response.data.reverse()])\r\n        : response && setPosts([...posts, ...response.data.reverse()]);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchPosts(true);\r\n  }, [user]);\r\n\r\n  const renderPosts = () => {\r\n    return (\r\n      posts.length > 0 &&\r\n      posts.map(post => {\r\n        return (\r\n          <Post\r\n            key={post._id}\r\n            post={post}\r\n            user={user}\r\n            posts={posts}\r\n            setPosts={setPosts}\r\n          />\r\n        );\r\n      })\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <NewPost posts={posts} setPosts={setPosts} />\r\n      <Posts>\r\n        <InfiniteScroll\r\n          style={{ overflow: \"hidden\" }}\r\n          dataLength={posts?.length || 0}\r\n          next={fetchPosts}\r\n          hasMore={loaderActive}\r\n          loader={<Loader />}\r\n        >\r\n          {posts && renderPosts()}\r\n          {posts && posts.length === 0 && (\r\n            <NoContentMessage>No one made any posts yet :(</NoContentMessage>\r\n          )}\r\n        </InfiniteScroll>\r\n      </Posts>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport { EditContainer, TextArea, Button, Counter } from \"../common/styles\";\r\n\r\nconst maxLength = 400;\r\nconst lineHeight = 19; // 1,2rem = 19px\r\n\r\nconst EditComment = ({ content, handleEdit, commentHeight }) => {\r\n  let inputRef;\r\n  const rows = commentHeight / lineHeight;\r\n  const [newContent, setNewContent] = useState(content);\r\n  const handleChange = (event) => {\r\n    setNewContent(event.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    inputRef.focus();\r\n  }, [inputRef]);\r\n\r\n  return (\r\n    <EditContainer style={{ height: `${commentHeight}px` }}>\r\n      <TextArea\r\n        spellCheck=\"false\"\r\n        maxLength={maxLength}\r\n        rows={rows}\r\n        onClick={(event) => event.stopPropagation()}\r\n        ref={(input) => (inputRef = input)}\r\n        value={newContent}\r\n        onChange={handleChange}\r\n      />\r\n      <Counter filled={newContent.length >= maxLength}>\r\n        {newContent.length + \"/\" + maxLength}\r\n      </Counter>\r\n\r\n      <Button\r\n        disabled={!newContent.length > 0 || !/[A-Za-z0-9]/g.test(newContent)}\r\n        gray={!newContent.length > 0}\r\n        onClick={(event) => {\r\n          event.stopPropagation();\r\n          event.preventDefault();\r\n          handleEdit(newContent);\r\n        }}\r\n      >\r\n        Submit\r\n      </Button>\r\n    </EditContainer>\r\n  );\r\n};\r\n\r\nexport default EditComment;\r\n","import styled from \"styled-components\";\r\n\r\nexport const CommentContent = styled.div`\r\n  margin: 1rem 2rem 0 ${(props) => (props.post ? \"2rem\" : \"2.5rem\")};\r\n  overflow: hidden;\r\n  font-size: 1.05rem;\r\n  margin: 1rem;\r\n  line-height: 1.2rem;\r\n  word-spacing: 1px;\r\n  padding: 0.5rem;\r\n  white-space: pre-line;\r\n`;\r\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport axiosInstance from \"@axios\";\r\nimport moment from \"moment\";\r\nimport { toast } from \"react-toastify\";\r\nimport ThemeContext from \"@context/theme\";\r\n\r\nimport getImageSrc from \"@helpers/imageSrc\";\r\n\r\nimport EditComment from \"./edit\";\r\n\r\nimport { CommentContent } from \"./styles\";\r\nimport { Avatar } from \"../../ui/routes/Home/NewPost/styles\";\r\nimport {\r\n  Container,\r\n  Background,\r\n  AvatarContainer,\r\n  Author,\r\n  Head,\r\n  Info,\r\n  Time,\r\n  VoteContainer,\r\n  ItemContainer,\r\n  VoteButton,\r\n  RemoveButton,\r\n  Message,\r\n  ButtonContainer,\r\n  RemoveModal,\r\n  Count,\r\n  Settings,\r\n  Setting,\r\n} from \"../common/styles\";\r\n\r\nconst Comment = ({ comment, history, comments, setComments }) => {\r\n  const {\r\n    themeInfo: { mode },\r\n  } = useContext(ThemeContext);\r\n  const user = useSelector((state) => state.user);\r\n  const authorSelf = comment.author?.username === user?.username;\r\n  const convertedDate = moment(comment.createdAt, \"MM/DD/YYYY, h:mm:ss A\");\r\n\r\n  const [editModal, setEditModal] = useState(false);\r\n  const [deleteModal, setDeleteModal] = useState(false);\r\n\r\n  const commentRef = useRef();\r\n  const [commentHeight, setCommentHeight] = useState();\r\n\r\n  const [votes, setVotes] = useState({\r\n    likes: comment.votes.likes.length,\r\n    dislikes: comment.votes.dislikes.length,\r\n    liked: comment.votes.likes.includes(user?.id),\r\n    disliked: comment.votes.dislikes.includes(user?.id),\r\n  });\r\n  const background = `http://localhost:4000/uploads/${\r\n    comment.author.background?.split(\"\\\\\")[1]\r\n  }`;\r\n\r\n  useEffect(() => {\r\n    setCommentHeight(commentRef.current.offsetHeight);\r\n  }, []);\r\n\r\n  const like = async () => {\r\n    if (user) {\r\n      try {\r\n        const response = await axiosInstance.post(\r\n          `comments/${comment._id}/like`,\r\n          { userId: user.id }\r\n        );\r\n\r\n        let updatedVotes = {\r\n          ...votes,\r\n          ...response.data,\r\n        };\r\n\r\n        if (votes.liked) {\r\n          updatedVotes.likes--;\r\n        } else {\r\n          if (votes.disliked) {\r\n            updatedVotes.dislikes--;\r\n            updatedVotes.likes++;\r\n          } else {\r\n            updatedVotes.likes++;\r\n          }\r\n        }\r\n\r\n        setVotes(updatedVotes);\r\n      } catch (error) {\r\n        console.log(error);\r\n        toast.error(\"Something went wrong...\");\r\n      }\r\n    } else {\r\n      toast.error(\"You have to login to vote.\");\r\n    }\r\n  };\r\n\r\n  const dislike = async () => {\r\n    if (user) {\r\n      try {\r\n        const response = await axiosInstance.post(\r\n          `comments/${comment._id}/dislike`,\r\n          { userId: user.id }\r\n        );\r\n\r\n        let updatedVotes = {\r\n          ...votes,\r\n          ...response.data,\r\n        };\r\n\r\n        if (votes.disliked) {\r\n          updatedVotes.dislikes--;\r\n        } else {\r\n          if (votes.liked) {\r\n            updatedVotes.likes--;\r\n            updatedVotes.dislikes++;\r\n          } else {\r\n            updatedVotes.dislikes++;\r\n          }\r\n        }\r\n\r\n        setVotes(updatedVotes);\r\n      } catch (error) {\r\n        toast.error(\"Something went wrong...\");\r\n      }\r\n    } else {\r\n      toast.error(\"You have to login to vote.\");\r\n    }\r\n  };\r\n\r\n  const toggleEditModal = (event) => {\r\n    event.stopPropagation();\r\n    setEditModal(!editModal);\r\n  };\r\n\r\n  const toggleRemoveModal = (event) => {\r\n    event.stopPropagation();\r\n    setDeleteModal(!deleteModal);\r\n  };\r\n\r\n  const handleEdit = async (newContent) => {\r\n    if (newContent.length > 0) {\r\n      const { data } = await axiosInstance.patch(\r\n        `/comments/${comment._id}/edit`,\r\n        {\r\n          newContent,\r\n        }\r\n      );\r\n      comment.content = data.newContent;\r\n      setEditModal(false);\r\n      toast(\"Comment has been updated.\");\r\n    }\r\n  };\r\n\r\n  const handleClickRemove = async () => {\r\n    try {\r\n      await axiosInstance.delete(`/comments/${comment._id}/remove`);\r\n      setComments(comments.filter((c) => c._id !== comment._id));\r\n      toast.error(\"The comment is removed\");\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const redirectToProfile = (event) => {\r\n    event.stopPropagation();\r\n    history.push(`/user/${comment.author.username}`);\r\n  };\r\n\r\n  return (\r\n    <Container background={background}>\r\n      <Background mode={mode}>\r\n        <AvatarContainer>\r\n          <Avatar\r\n            src={getImageSrc(comment.author.avatar, \"avatar\")}\r\n            onClick={redirectToProfile}\r\n          />\r\n        </AvatarContainer>\r\n        <Head>\r\n          <Info>\r\n            <Author\r\n              onClick={(event) => {\r\n                event.stopPropagation();\r\n                history.push(`/user/${comment.author.username}`);\r\n              }}\r\n            >\r\n              {comment.author.username}\r\n            </Author>\r\n            <Time>{convertedDate.fromNow()}</Time>\r\n          </Info>\r\n          {editModal ? (\r\n            <EditComment\r\n              commentHeight={commentHeight}\r\n              content={comment.content}\r\n              id={comment._id}\r\n              handleEdit={handleEdit}\r\n            />\r\n          ) : (\r\n            <CommentContent>\r\n              <p ref={commentRef}>{comment.content}</p>\r\n            </CommentContent>\r\n          )}\r\n          <VoteContainer>\r\n            <ItemContainer>\r\n              <VoteButton\r\n                name=\"like\"\r\n                onClick={like}\r\n                className={`fa${votes.liked ? \"s\" : \"r\"} fa-thumbs-up`}\r\n              />\r\n              <Count>{votes.likes}</Count>\r\n            </ItemContainer>\r\n            <ItemContainer>\r\n              <VoteButton\r\n                name=\"dislike\"\r\n                onClick={dislike}\r\n                className={`fa${votes.disliked ? \"s\" : \"r\"} fa-thumbs-down`}\r\n              />\r\n              <Count>{votes.dislikes}</Count>\r\n            </ItemContainer>\r\n          </VoteContainer>\r\n        </Head>\r\n      </Background>\r\n      {authorSelf && (\r\n        <Settings>\r\n          <Setting onClick={toggleEditModal} className=\"fas fa-edit\" />\r\n          <Setting onClick={toggleRemoveModal} className=\"fas fa-trash-alt\" />\r\n        </Settings>\r\n      )}{\" \"}\r\n      {deleteModal && (\r\n        <RemoveModal>\r\n          <Message>Are you sure you want to delete this comment ?</Message>\r\n          <ButtonContainer>\r\n            <RemoveButton onClick={toggleRemoveModal}>No</RemoveButton>\r\n            <RemoveButton onClick={handleClickRemove}>Yes</RemoveButton>\r\n          </ButtonContainer>\r\n        </RemoveModal>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Comment;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nexport const PostSection = styled.div``;\r\n\r\nexport const CommentSection = styled.div`\r\n  width: 100%;\r\n`;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  background-image: linear-gradient(\r\n      to right,\r\n      rgba(\r\n        ${(props) => props.theme.background},\r\n        ${(props) => (props.mode === \"light\" ? \"0.2\" : \"0.8\")}\r\n      ),\r\n      rgba(\r\n        ${(props) => props.theme.background},\r\n        ${(props) => (props.mode === \"light\" ? \"0.2\" : \"0.8\")}\r\n      )\r\n    ),\r\n    url(${(props) => props.background});\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  display: flex;\r\n  max-width: 100%;\r\n  min-height: 7rem;\r\n  border-bottom: 1px solid rgb(${(props) => props.theme.primary});\r\n  cursor: pointer;\r\n  position: relative;\r\n`;\r\n\r\nexport const TextArea = styled.textarea`\r\n  width: 90%;\r\n  padding: 0.5rem;\r\n  margin-left: 1.5rem;\r\n  margin-top: 0.5rem;\r\n  margin-bottom: 2rem;\r\n  resize: none;\r\n  font-size: 1.05rem;\r\n  line-height: 1.2rem;\r\n  word-spacing: 1px;\r\n  letter-spacing: 0.5px;\r\n  border: none;\r\n  transition: box-shadow 0.2s ease-in-out;\r\n  background: rgba(0, 0, 0, 0.1);\r\n  border-radius: 8px;\r\n`;\r\n\r\nexport const Avatar = styled.img`\r\n  height: 3rem;\r\n  width: 3rem;\r\n  border-radius: 50%;\r\n`;\r\n\r\nexport const NewCommentHead = styled.div`\r\n  width: 100%;\r\n  letter-spacing: 0.5px;\r\n  font-size: 1.05rem;\r\n  margin-bottom: 0.26rem;\r\n`;\r\n\r\nexport const Counter = styled.div`\r\n  position: absolute;\r\n  bottom: 2rem;\r\n  right: 2rem;\r\n  color: rgb(\r\n    ${(props) => (props.filled ? props.theme.primary : props.theme.text)}\r\n  );\r\n\r\n  transition: color 0.5s ease-in-out;\r\n`;\r\n","import React, { useContext } from \"react\";\r\nimport axiosInstance from \"@axios\";\r\nimport useFormHook from \"@hooks/useFormHook\";\r\nimport { getImageSrc } from \"@helpers/imageSrc\";\r\nimport ThemeContext from \"@context/theme\";\r\n\r\nimport { Background, AvatarContainer, Author, Info } from \"../common/styles\";\r\nimport { Counter, Container, TextArea, NewCommentHead } from \"./styles\";\r\nimport { Button } from \"@styles/common\";\r\nimport { Avatar } from \"../../ui/routes/Home/NewPost/styles\";\r\n\r\nconst maxLength = 400;\r\n\r\nconst NewComment = ({\r\n  user,\r\n  postId,\r\n  setComments,\r\n  comments,\r\n  toggleNewCommentModal,\r\n  history,\r\n}) => {\r\n  const {\r\n    themeInfo: { mode },\r\n  } = useContext(ThemeContext);\r\n\r\n  const { inputs, onChange } = useFormHook({ comment: \"\" });\r\n\r\n  const handleClick = async () => {\r\n    const reqBody = {\r\n      content: inputs.comment,\r\n      postId,\r\n      userId: user.id,\r\n    };\r\n    const response = await axiosInstance.post(\r\n      `/posts/${postId}/comment`,\r\n      reqBody\r\n    );\r\n\r\n    setComments([response.data, ...comments]);\r\n    toggleNewCommentModal();\r\n  };\r\n  const redirectToProfile = (event) => {\r\n    event.stopPropagation();\r\n    history.push(`/user/${user.username}`);\r\n  };\r\n  return (\r\n    <Container\r\n      mode={mode}\r\n      background={getImageSrc(user.background, \"background\")}\r\n    >\r\n      <Background noHover paddingBottom>\r\n        <AvatarContainer>\r\n          <Avatar\r\n            src={getImageSrc(user.avatar, \"avatar\")}\r\n            onClick={redirectToProfile}\r\n          />\r\n        </AvatarContainer>\r\n        <NewCommentHead>\r\n          <Info>\r\n            <Author\r\n              onClick={(event) => {\r\n                event.stopPropagation();\r\n                history.push(`/user/${user.username}`);\r\n              }}\r\n            >\r\n              {user.username}\r\n            </Author>\r\n          </Info>\r\n          <TextArea\r\n            name=\"comment\"\r\n            spellCheck=\"false\"\r\n            placeholder=\"Comment something...\"\r\n            maxLength={maxLength}\r\n            rows=\"2\"\r\n            value={inputs.comment}\r\n            onChange={onChange}\r\n          />\r\n          <Counter>{inputs.comment.length + \"/\" + maxLength}</Counter>\r\n          <Button\r\n            className=\"force-center\"\r\n            disabled={!/[A-Za-z0-9]/g.test(inputs.comment)}\r\n            onClick={handleClick}\r\n          >\r\n            Comment\r\n          </Button>\r\n        </NewCommentHead>\r\n      </Background>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default NewComment;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  text-align: center;\r\n`;\r\n\r\nexport const Image = styled.div`\r\n  font-size: 2.5rem;\r\n  margin: 6rem 0 3rem 0;\r\n  color: rgb(${(props) => props.theme.lightText});\r\n`;\r\n\r\nexport const Message = styled.div`\r\n  font-size: 1.5rem;\r\n  color: rgb(${(props) => props.theme.lightText});\r\n`;\r\n","import React from \"react\";\r\n\r\nimport { Container, Image, Message } from \"./styles\";\r\n\r\nfunction NotFound() {\r\n  return (\r\n    <Container>\r\n      <Image>\\_()_/</Image>\r\n      <Message>Sorry, nothing to see here...</Message>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default NotFound;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport axiosInstance from \"@axios\";\r\n\r\nimport PostComponent from \"@components/elements/Post\";\r\nimport CommentComponent from \"@components/elements/Comment\";\r\n\r\nimport { Container, CommentSection } from \"./styles\";\r\nimport { NoContentMessage, Loader } from \"@styles/common\";\r\nimport NewComment from \"../../../elements/NewComment\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport NotFound from \"@routes/NotFound\";\r\n\r\nconst Post = (props) => {\r\n  const user = useSelector((state) => state.user);\r\n  const { postId } = props.match.params;\r\n  const [post, setPost] = useState(props.location.post);\r\n  const [comments, setComments] = useState(null);\r\n  const [newCommentModal, setNewCommentModal] = useState(\r\n    user && props.location.isCommentActive\r\n  );\r\n\r\n  useEffect(() => {\r\n    const fetchPost = async () => {\r\n      try {\r\n        const response = await axiosInstance.get(`/posts/${postId}`);\r\n        setPost(response.data);\r\n      } catch (error) {\r\n        if (error.response.status === 404) {\r\n          setPost(null);\r\n        }\r\n      }\r\n    };\r\n    const fetchComments = async () => {\r\n      const response = await axiosInstance.get(`/posts/${postId}/comments`);\r\n      setComments(response.data.reverse());\r\n    };\r\n    !post && fetchPost();\r\n    post && fetchComments();\r\n  }, [post, postId]);\r\n\r\n  const toggleNewCommentModal = () => {\r\n    user\r\n      ? setNewCommentModal(!newCommentModal)\r\n      : toast.error(\"You have to log in to comment\");\r\n  };\r\n\r\n  const renderComments = () => {\r\n    return (\r\n      comments &&\r\n      comments.map((comment) => {\r\n        return (\r\n          <CommentComponent\r\n            key={comment._id}\r\n            comment={comment}\r\n            comments={comments}\r\n            setComments={setComments}\r\n          />\r\n        );\r\n      })\r\n    );\r\n  };\r\n  if (post === null) {\r\n    return <NotFound />;\r\n  }\r\n  if (post) {\r\n    return (\r\n      <Container>\r\n        <PostComponent\r\n          post={post}\r\n          comments={comments}\r\n          toggleNewCommentModal={toggleNewCommentModal}\r\n          newCommentModal={newCommentModal}\r\n        />\r\n        {newCommentModal && (\r\n          <NewComment\r\n            user={user}\r\n            postId={post._id}\r\n            comments={comments}\r\n            setComments={setComments}\r\n            toggleNewCommentModal={toggleNewCommentModal}\r\n          />\r\n        )}\r\n        <CommentSection>\r\n          {comments === null ? (\r\n            <Loader />\r\n          ) : comments.length > 0 ? (\r\n            renderComments()\r\n          ) : (\r\n            <NoContentMessage>No one made any comments yet :(</NoContentMessage>\r\n          )}\r\n        </CommentSection>\r\n      </Container>\r\n    );\r\n  }\r\n  return <Loader />;\r\n};\r\n\r\nexport default Post;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport useAmount from \"@hooks/useAmount\";\r\nimport useLoader from \"@hooks/useLoader\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport axiosInstance from \"@axios\";\r\n\r\nimport Post from \"@components/elements/Post\";\r\n\r\nimport { NoContentMessage, Loader } from \"@styles/common\";\r\n\r\nconst Posts = (props) => {\r\n  const user = useSelector((state) => state.user);\r\n  const { username } = props.match.params;\r\n  const [userPosts, setUserPosts] = useState(null);\r\n  const { loaderActive, setLoaderActive } = useLoader();\r\n  const { amountOfPosts, setAmountOfPosts, postsPerFetch } = useAmount();\r\n\r\n  const fetchUserPosts = async () => {\r\n    setAmountOfPosts(amountOfPosts + postsPerFetch);\r\n    const response = await axiosInstance.get(`/users/${username}/posts`, {\r\n      params: { amount: amountOfPosts, postsPerFetch },\r\n    });\r\n\r\n    if (response.data.length === 0) {\r\n      setLoaderActive(false);\r\n    }\r\n    response &&\r\n      setUserPosts([...(userPosts || []), ...response.data.reverse()]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUserPosts();\r\n  }, []);\r\n\r\n  const renderPosts = () => {\r\n    return userPosts.length > 0 ? (\r\n      userPosts.map((post) => {\r\n        return (\r\n          <Post\r\n            key={post._id}\r\n            post={post}\r\n            user={user}\r\n            posts={userPosts}\r\n            setPosts={setUserPosts}\r\n          />\r\n        );\r\n      })\r\n    ) : (\r\n      <NoContentMessage>User didn't made any posts yet :(</NoContentMessage>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <InfiniteScroll\r\n      style={{ overflow: \"hidden\", minHeight: \"100vh\" }}\r\n      dataLength={userPosts?.length || 0}\r\n      next={fetchUserPosts}\r\n      hasMore={loaderActive}\r\n      loader={<Loader />}\r\n    >\r\n      {userPosts && renderPosts()}\r\n    </InfiniteScroll>\r\n  );\r\n};\r\n\r\nexport default Posts;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport axiosInstance from \"@axios\";\r\nimport useAmount from \"@hooks/useAmount\";\r\nimport useLoader from \"@hooks/useLoader\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\n\r\nimport Post from \"@components/elements/Post\";\r\nimport { NoContentMessage, Loader } from \"@styles/common\";\r\n\r\nconst VotedPosts = props => {\r\n  const user = useSelector(state => state.user);\r\n  const { username } = props.match.params;\r\n  const [votedPosts, setVotedPosts] = useState(null);\r\n  const { loaderActive, setLoaderActive } = useLoader();\r\n  const { amountOfPosts, setAmountOfPosts, postsPerFetch } = useAmount();\r\n\r\n  const fetchVotedPostsByUser = async shouldRefetch => {\r\n    shouldRefetch\r\n      ? setAmountOfPosts(amountOfPosts)\r\n      : setAmountOfPosts(amountOfPosts + postsPerFetch);\r\n\r\n    const response = await axiosInstance.get(\r\n      `/users/${username}/posts/${props.type}`,\r\n      {\r\n        params: { amount: amountOfPosts, postsPerFetch },\r\n      }\r\n    );\r\n    if (response.data.length === 0) {\r\n      setLoaderActive(false);\r\n    }\r\n    if (!votedPosts) {\r\n      response && setVotedPosts([...response.data.reverse()]);\r\n    } else {\r\n      shouldRefetch\r\n        ? response && setVotedPosts([...response.data.reverse()])\r\n        : response &&\r\n          setVotedPosts([...votedPosts, ...response.data.reverse()]);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchVotedPostsByUser(true);\r\n  }, [props.type]);\r\n\r\n  const renderPosts = () => {\r\n    return votedPosts.length > 0 ? (\r\n      votedPosts.map(post => {\r\n        return (\r\n          <Post\r\n            key={post._id}\r\n            post={post}\r\n            user={user}\r\n            posts={votedPosts}\r\n            setPosts={setVotedPosts}\r\n          />\r\n        );\r\n      })\r\n    ) : (\r\n      <NoContentMessage>\r\n        User didn't {props.type.slice(0, -1)} any posts yet.\r\n      </NoContentMessage>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <InfiniteScroll\r\n      style={{ overflow: \"hidden\", minHeight: \"100vh\" }}\r\n      dataLength={votedPosts?.length || 0}\r\n      next={fetchVotedPostsByUser}\r\n      hasMore={loaderActive}\r\n      loader={<Loader />}\r\n    >\r\n      {votedPosts && renderPosts()}\r\n    </InfiniteScroll>\r\n  );\r\n};\r\n\r\nexport default VotedPosts;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  padding-top: 3rem;\r\n  justify-content: space-around;\r\n\r\n  @media (max-width: 1000px) {\r\n  }\r\n\r\n  @media (max-width: 600px) {\r\n    flex-direction: column;\r\n  }\r\n`;\r\n\r\nexport const Avatars = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nexport const Avatar = styled.img`\r\n  width: 5rem;\r\n  height: 5rem;\r\n  margin: 1rem;\r\n  border: 4px solid rgb(${(props) => props.theme.background});\r\n  box-shadow: 0 3px 10px rgb(0, 0, 0, 0.3);\r\n  border-radius: 50%;\r\n  transition: box-shadow 0.2s ease-in-out, border 0.4s ease-in-out;\r\n\r\n  &:hover {\r\n    box-shadow: 0 3px 10px rgb(0, 0, 0, 0.4);\r\n  }\r\n\r\n  &:focus {\r\n    box-shadow: 0 3px 10px rgb(0, 0, 0, 0.4);\r\n  }\r\n`;\r\n\r\nexport const Backgrounds = styled.div`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n\r\nexport const Background = styled.img`\r\n  width: 12rem;\r\n  height: 4rem;\r\n  margin: 1rem;\r\n  border: 10px solid transparent;\r\n  box-shadow: 0 3px 10px rgb(0, 0, 0, 0.3);\r\n  transition: box-shadow 0.2s ease-in-out;\r\n\r\n  &:hover {\r\n    box-shadow: 0 3px 10px rgb(0, 0, 0, 0.4);\r\n  }\r\n\r\n  &:focus {\r\n    box-shadow: 0 3px 10px rgb(0, 0, 0, 0.4);\r\n  }\r\n`;\r\n\r\nexport const Header = styled.div`\r\n  width: 100%;\r\n  text-align: center;\r\n  color: grey;\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport axiosInstance from \"@axios\";\r\nimport getImageSrc from \"@helpers/imageSrc\";\r\nimport { v4 as id } from \"uuid\";\r\n\r\nimport {\r\n  Container,\r\n  Avatars,\r\n  Avatar,\r\n  Backgrounds,\r\n  Background,\r\n  Header,\r\n} from \"./styles\";\r\nimport { Loader } from \"@styles/common\";\r\n\r\nconst Images = (props) => {\r\n  const { username } = props.match.params;\r\n  const [images, setImages] = useState({\r\n    avatars: null,\r\n    backgrounds: null,\r\n  });\r\n  useEffect(() => {\r\n    const fetchUserImages = async () => {\r\n      const response = await axiosInstance.get(`users/${username}/images`);\r\n      setImages({\r\n        avatars: response.data.avatars.reverse(),\r\n        backgrounds: response.data.backgrounds.reverse(),\r\n      });\r\n    };\r\n    fetchUserImages();\r\n  }, [username]);\r\n\r\n  const renderAvatars = () => {\r\n    return images.avatars?.length > 0 ? (\r\n      <>\r\n        <Header>Avatars</Header>\r\n        {images.avatars &&\r\n          images.avatars.map((avatar) => (\r\n            <Avatar key={avatar} src={getImageSrc(avatar)} />\r\n          ))}\r\n      </>\r\n    ) : (\r\n      <Header>User didnt upload any Avatars...</Header>\r\n    );\r\n  };\r\n  const renderBackgrounds = () => {\r\n    return images.backgrounds?.length > 0 ? (\r\n      <>\r\n        <Header>Backgrounds</Header>\r\n        {images.backgrounds &&\r\n          images.backgrounds.map((background) => (\r\n            <Background key={id()} src={getImageSrc(background)} />\r\n          ))}\r\n      </>\r\n    ) : (\r\n      <Header>User didnt upload any Backgrounds...</Header>\r\n    );\r\n  };\r\n  return (\r\n    <Container>\r\n      <Avatars>{images.avatars ? renderAvatars() : <Loader />}</Avatars>\r\n      <Backgrounds>\r\n        {images.backgrounds ? renderBackgrounds() : <Loader />}\r\n      </Backgrounds>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Images;\r\n","import styled from \"styled-components\";\r\n\r\nexport const Container = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nexport const PositionContainer = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const ReactCropContainer = styled.div`\r\n  margin: 0 auto;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  padding: 1rem;\r\n  height: 10rem;\r\n  width: ${(props) => (props.type === \"background\" ? \"80%\" : \"40%\")};\r\n  border: 2px solid rgb(${(props) => props.theme.primary});\r\n  box-shadow: inset 5px 5px 10px rgba(0, 0, 0, 0.1);\r\n`;\r\n\r\nexport const Header = styled.div`\r\n  margin: 2rem 0;\r\n  font-size: 1.2rem;\r\n  text-align: center;\r\n`;\r\n\r\nexport const Label = styled.label`\r\n  text-align: center;\r\n  margin: 1rem auto;\r\n  width: 9.5rem;\r\n  font-size: 1rem;\r\n  background: transparent;\r\n  display: block;\r\n  padding: 0 1rem;\r\n  color: rgb(${(props) => props.theme.text});\r\n  border: none;\r\n  border: 1px solid\r\n    ${(props) =>\r\n      props.disabled\r\n        ? `rgba(${props.theme.primary}, 0.5)`\r\n        : `rgb(${props.theme.primary})`};\r\n  box-shadow: inset 0 2rem 2rem\r\n    ${(props) =>\r\n      props.disabled\r\n        ? `rgba(${props.theme.primary}, 0.5)`\r\n        : `rgb(${props.theme.primary})`};\r\n  cursor: pointer;\r\n\r\n  transition: box-shadow 0.3s ease-in-out, border 0.5s ease-in-out;\r\n\r\n  &:hover {\r\n    box-shadow: inset 0 -2rem 10rem ${(props) => (props.disabled ? `rgba(${props.theme.primary}, 0.7)` : `rgb(${props.theme.primary})`)};\r\n  }\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  width: 6rem;\r\n  margin: 1rem auto 1rem auto;\r\n  display: block;\r\n  padding: 0.5rem 1rem;\r\n  box-shadow: inset 0 0 0 transparent;\r\n  cursor: pointer;\r\n  border: 1px solid rgba(0, 0, 0, 0.2);\r\n  transition: box-shadow 0.2s ease-in-out, color 0.2s ease-in-out,\r\n    border 0.2s ease-in-out;\r\n\r\n  &:hover {\r\n    border: 1px solid rgb(${(props) => props.theme.primary});\r\n    color: white;\r\n    box-shadow: inset -8rem 0 0 rgb(${(props) => props.theme.primary});\r\n  }\r\n`;\r\n","import React, { useState, useRef, useEffect } from \"react\";\r\nimport ReactCrop from \"react-image-crop\";\r\nimport axiosInstance from \"@axios\";\r\nimport store from \"@store\";\r\nimport { changeImage, setPreviewCanvas } from \"@actions/userActions\";\r\nimport {\r\n  Container,\r\n  PositionContainer,\r\n  ReactCropContainer,\r\n  Header,\r\n  Label,\r\n} from \"./styles\";\r\nimport { Button } from \"@styles/common\";\r\nimport \"react-image-crop/dist/ReactCrop.css\";\r\n\r\nconst pixelRatio = 4;\r\n\r\nfunction getResizedCanvas(canvas, newWidth, newHeight) {\r\n  const tmpCanvas = document.createElement(\"canvas\");\r\n  tmpCanvas.width = newWidth;\r\n  tmpCanvas.height = newHeight;\r\n\r\n  const ctx = tmpCanvas.getContext(\"2d\");\r\n  ctx.drawImage(\r\n    canvas,\r\n    0,\r\n    0,\r\n    canvas.width,\r\n    canvas.height,\r\n    0,\r\n    0,\r\n    newWidth,\r\n    newHeight\r\n  );\r\n\r\n  return tmpCanvas;\r\n}\r\n\r\nconst uploadAvatar = async (previewCanvas, crop, filename, history, type) => {\r\n  if (!crop || !previewCanvas) {\r\n    return history.push(\"/\");\r\n  }\r\n\r\n  const canvas = getResizedCanvas(previewCanvas, crop.width, crop.height);\r\n  const dataUrl = canvas.toDataURL();\r\n\r\n  const arr = dataUrl.split(\",\");\r\n  const mime = arr[0].match(/:(.*?);/)[1];\r\n  const bstr = atob(arr[1]);\r\n  let n = bstr.length;\r\n  const u8arr = new Uint8Array(n);\r\n\r\n  while (n--) {\r\n    u8arr[n] = bstr.charCodeAt(n);\r\n  }\r\n  const imageFile = new File([u8arr], filename, { type: mime });\r\n  const bodyFormData = new FormData();\r\n  bodyFormData.append(\"image\", imageFile);\r\n  bodyFormData.append(\"type\", type);\r\n\r\n  try {\r\n    const response = await axiosInstance.post(\"/upload\", bodyFormData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    });\r\n    const { path } = response.data;\r\n    const userData = JSON.parse(window.localStorage.getItem(\"user\"));\r\n    userData[type] = path;\r\n    window.localStorage.setItem(\"user\", JSON.stringify(userData));\r\n    store.dispatch(changeImage(path, type));\r\n    history.push(\"/\");\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nconst EditImage = ({ history, type }) => {\r\n  const [filename, setFilename] = useState(null);\r\n  const [src, setSrc] = useState(null);\r\n  const imgRef = useRef(null);\r\n  const previewCanvasRef = useRef(null);\r\n  const [crop, setCrop] = useState({\r\n    unit: \"%\",\r\n    width: 50,\r\n    height: type === \"background\" ? null : 50,\r\n    x: 25,\r\n    y: 25,\r\n    aspect: type === \"background\" ? 15 / 5 : null,\r\n  });\r\n  const [completedCrop, setCompletedCrop] = useState(null);\r\n  useEffect(() => {\r\n    if (!completedCrop || !previewCanvasRef.current || !imgRef.current) {\r\n      return;\r\n    }\r\n    store.dispatch(setPreviewCanvas({ ref: previewCanvasRef, type }));\r\n\r\n    const image = imgRef.current;\r\n    const canvas = previewCanvasRef.current;\r\n    const crop = completedCrop;\r\n    const scaleX = image.naturalWidth / image.width;\r\n    const scaleY = image.naturalHeight / image.height;\r\n    const ctx = canvas.getContext(\"2d\");\r\n    canvas.width = crop.width * pixelRatio;\r\n    canvas.height = crop.height * pixelRatio;\r\n    ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\r\n    ctx.imageSmoothingEnabled = false;\r\n    ctx.drawImage(\r\n      image,\r\n      crop.x * scaleX,\r\n      crop.y * scaleY,\r\n      crop.width * scaleX,\r\n      crop.height * scaleY,\r\n      0,\r\n      0,\r\n      crop.width,\r\n      crop.height\r\n    );\r\n\r\n    return () => {\r\n      store.dispatch(setPreviewCanvas(null));\r\n    };\r\n  }, [completedCrop, type]);\r\n  const onFileChange = (event) => {\r\n    event.persist();\r\n    setSrc();\r\n    if (event.target.files[0]) {\r\n      setFilename(event.target.files[0].name);\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(event.target.files[0]);\r\n      reader.addEventListener(\"load\", () => {\r\n        setSrc(reader.result);\r\n      });\r\n    }\r\n  };\r\n  const onImageLoaded = (img) => {\r\n    imgRef.current = img;\r\n  };\r\n  return (\r\n    <>\r\n      <Container>\r\n        <PositionContainer>\r\n          <Header>{`Change your profile ${type}`}</Header>\r\n          <ReactCropContainer type={type}>\r\n            {src && (\r\n              <>\r\n                <ReactCrop\r\n                  src={src}\r\n                  crop={crop}\r\n                  onImageLoaded={onImageLoaded}\r\n                  onChange={(c) => {\r\n                    setCrop(c);\r\n                    store.dispatch(\r\n                      setPreviewCanvas({ ref: previewCanvasRef, type })\r\n                    );\r\n                  }}\r\n                  onComplete={(c) => setCompletedCrop(c)}\r\n                />\r\n              </>\r\n            )}\r\n          </ReactCropContainer>\r\n          <Label>\r\n            Upload Image\r\n            <input\r\n              name=\"profile\"\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              onChange={onFileChange}\r\n            />\r\n          </Label>\r\n          <Button\r\n            type=\"submit\"\r\n            onClick={(event) => {\r\n              event.preventDefault();\r\n              uploadAvatar(\r\n                previewCanvasRef.current,\r\n                completedCrop,\r\n                filename,\r\n                history,\r\n                type\r\n              );\r\n            }}\r\n          >\r\n            Done\r\n          </Button>\r\n        </PositionContainer>\r\n      </Container>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditImage;\r\n","import React from \"react\";\r\nimport axiosInstance from \"@axios\";\r\nimport { useSelector } from \"react-redux\";\r\nimport useFormHook from \"@hooks/useFormHook\";\r\nimport validateInputs from \"@helpers/validations\";\r\n\r\nimport store from \"@store\";\r\nimport { changeUsername } from \"@actions/userActions\";\r\n\r\nimport {\r\n  FormContainer,\r\n  Form,\r\n  Header,\r\n  Input,\r\n  Button,\r\n  Error,\r\n} from \"@styles/common\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst ChangeUsername = ({ history }) => {\r\n  const username = useSelector((state) => state.user?.username);\r\n\r\n  const { inputs, onChange, errors, setErrors, fields } = useFormHook({\r\n    username: \"\",\r\n  });\r\n\r\n  const handleChange = (event) => {\r\n    event.persist();\r\n    onChange(event);\r\n    setErrors(fields);\r\n    setErrors((prevErrors) => {\r\n      const { name, value } = event.target;\r\n      return { ...prevErrors, [name]: validateInputs[name](value) };\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    if (inputs.username.length === 0) {\r\n      setErrors({ ...errors, username: \"Please enter your new username.\" });\r\n    } else if (inputs.username === username) {\r\n      setErrors({ ...errors, username: \"That is your current username.\" });\r\n    } else {\r\n      const { data } = await axiosInstance.patch(\r\n        `/users/${username}/settings/username`,\r\n        {\r\n          username,\r\n          newUsername: inputs.username,\r\n        }\r\n      );\r\n      const userData = JSON.parse(window.localStorage.getItem(\"user\"));\r\n      userData.username = data.username;\r\n      window.localStorage.setItem(\"user\", JSON.stringify(userData));\r\n      store.dispatch(changeUsername(data.username));\r\n      history.push(`/user/${data.username}`);\r\n      toast(\"Your username has been changed.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <FormContainer smaller>\r\n      <Form autoComplete=\"off\" onSubmit={handleSubmit}>\r\n        <Header>Change your username</Header>\r\n        <Input\r\n          error={errors.username.length > 0}\r\n          type=\"text\"\r\n          placeholder=\"New Username\"\r\n          name=\"username\"\r\n          value={inputs.username}\r\n          onChange={handleChange}\r\n        />\r\n        <Error>{errors.username}</Error>\r\n        <Button className=\"align-center\">Confirm</Button>\r\n      </Form>\r\n    </FormContainer>\r\n  );\r\n};\r\n\r\nexport default ChangeUsername;\r\n","import React from \"react\";\r\nimport axiosInstance from \"@axios\";\r\nimport { useSelector } from \"react-redux\";\r\nimport useFormHook from \"@hooks/useFormHook\";\r\nimport validateInputs from \"@helpers/validations\";\r\n\r\nimport store from \"@store\";\r\nimport { logout } from \"@actions/userActions\";\r\n\r\nimport {\r\n  FormContainer,\r\n  Form,\r\n  Header,\r\n  Input,\r\n  Button,\r\n  Error,\r\n} from \"@styles/common\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst ChangeEmail = ({ history }) => {\r\n  const username = useSelector((state) => state.user?.username);\r\n  const email = useSelector((state) => state.user?.email);\r\n\r\n  const { inputs, onChange, errors, setErrors, fields } = useFormHook({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const handleChange = (event) => {\r\n    event.persist();\r\n    onChange(event);\r\n    setErrors(fields);\r\n    if (event.target.name === \"email\") {\r\n      setErrors((prevErrors) => {\r\n        const { name, value } = event.target;\r\n        return { ...prevErrors, [name]: validateInputs[name](value) };\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    if (inputs.email.length === 0) {\r\n      setErrors({ ...errors, email: \"Please enter your new username.\" });\r\n    } else if (inputs.email === email) {\r\n      setErrors({ ...errors, email: \"That is your current email.\" });\r\n    } else if (inputs.password.length === 0) {\r\n      setErrors({ ...errors, password: \"Please enter your password.\" });\r\n    } else {\r\n      try {\r\n        await axiosInstance.patch(`/users/${username}/settings/email`, {\r\n          username,\r\n          newEmail: inputs.email,\r\n          password: inputs.password,\r\n        });\r\n        store.dispatch(logout());\r\n        window.localStorage.removeItem(\"user\");\r\n        window.localStorage.removeItem(\"accessToken\");\r\n        toast(\"Your email has been changed. Please login with your new email.\");\r\n        history.push(`/login`);\r\n      } catch (error) {\r\n        if (error.response) {\r\n          const { field, message } = error.response.data;\r\n          setErrors({\r\n            ...errors,\r\n            [field]: message,\r\n          });\r\n        } else {\r\n          console.log(error);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <FormContainer smaller>\r\n      <Form autoComplete=\"off\" onSubmit={handleSubmit}>\r\n        <Header>Change your email</Header>\r\n        <Input\r\n          error={errors.email.length > 0}\r\n          type=\"text\"\r\n          placeholder=\"New Email\"\r\n          name=\"email\"\r\n          value={inputs.email}\r\n          onChange={handleChange}\r\n        />\r\n        <Error>{errors.email}</Error>\r\n        <Input\r\n          error={errors.password.length > 0}\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          name=\"password\"\r\n          value={inputs.password}\r\n          onChange={handleChange}\r\n        />\r\n        <Error>{errors.password}</Error>\r\n        <Button className=\"align-center\">Confirm</Button>\r\n      </Form>\r\n    </FormContainer>\r\n  );\r\n};\r\n\r\nexport default ChangeEmail;\r\n","import React from \"react\";\r\nimport axiosInstance from \"@axios\";\r\nimport { useSelector } from \"react-redux\";\r\nimport useFormHook from \"@hooks/useFormHook\";\r\nimport validateInputs from \"@helpers/validations\";\r\n\r\nimport store from \"@store\";\r\nimport { logout } from \"@actions/userActions\";\r\n\r\nimport {\r\n  FormContainer,\r\n  Form,\r\n  Header,\r\n  Input,\r\n  Button,\r\n  Error,\r\n} from \"@styles/common\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst ChangePassword = ({ history }) => {\r\n  const username = useSelector((state) => state.user?.username);\r\n\r\n  const { inputs, onChange, errors, setErrors, fields } = useFormHook({\r\n    currentPassword: \"\",\r\n    newPassword: \"\",\r\n  });\r\n\r\n  const handleChange = (event) => {\r\n    event.persist();\r\n    onChange(event);\r\n    setErrors(fields);\r\n    if (event.target.name === \"newPassword\") {\r\n      setErrors((prevErrors) => {\r\n        const { value } = event.target;\r\n        return { ...prevErrors, newPassword: validateInputs.password(value) };\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    if (inputs.currentPassword.length === 0) {\r\n      setErrors({\r\n        ...errors,\r\n        currentPassword: \"Please enter your current password.\",\r\n      });\r\n    } else if (inputs.newPassword.length === 0) {\r\n      setErrors({ ...errors, newPassword: \"Please enter your new password.\" });\r\n    } else if (errors.currentPassword || errors.newPassword) {\r\n    } else {\r\n      try {\r\n        await axiosInstance.patch(`/users/${username}/settings/password`, {\r\n          username,\r\n          password: inputs.currentPassword,\r\n          newPassword: inputs.newPassword,\r\n        });\r\n        store.dispatch(logout());\r\n        window.localStorage.removeItem(\"user\");\r\n        window.localStorage.removeItem(\"accessToken\");\r\n        toast(\r\n          \"Your password has been changed. Please login with your new password.\"\r\n        );\r\n        history.push(`/login`);\r\n      } catch (error) {\r\n        if (error.response) {\r\n          const { field, message } = error.response.data;\r\n          setErrors({\r\n            ...errors,\r\n            [field]: message,\r\n          });\r\n        } else {\r\n          console.log(error);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <FormContainer smaller>\r\n      <Form autoComplete=\"off\" onSubmit={handleSubmit}>\r\n        <Header>Change your password</Header>\r\n        <Input\r\n          error={errors.currentPassword.length > 0}\r\n          type=\"password\"\r\n          placeholder=\"Current Password\"\r\n          name=\"currentPassword\"\r\n          value={inputs.currentPassword}\r\n          onChange={handleChange}\r\n        />\r\n        <Error>{errors.currentPassword}</Error>\r\n        <Input\r\n          error={errors.newPassword.length > 0}\r\n          type=\"password\"\r\n          placeholder=\"New Password\"\r\n          name=\"newPassword\"\r\n          value={inputs.newPassword}\r\n          onChange={handleChange}\r\n        />\r\n        <Error>{errors.newPassword}</Error>\r\n        <Button className=\"align-center\">Confirm</Button>\r\n      </Form>\r\n    </FormContainer>\r\n  );\r\n};\r\n\r\nexport default ChangePassword;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...rest }) => {\r\n  const user = window.localStorage.getItem(\"user\"); // needs a fix\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        rest.userPrivilege ? (\r\n          user ? (\r\n            <Component {...props} type={rest.type} />\r\n          ) : (\r\n            toast.error(rest.redirectMsg) && <Redirect to={rest.redirectTo} />\r\n          )\r\n        ) : user ? (\r\n          toast.error(rest.redirectMsg) && <Redirect to={rest.redirectTo} />\r\n        ) : (\r\n          <Component {...props} type={rest.type} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import styled from \"styled-components\";\r\n\r\nexport const NavContainer = styled.div`\r\n  width: 100%;\r\n  height: 15rem;\r\n  background-image: url(${(props) => props.image});\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  position: relative;\r\n`;\r\n\r\nexport const NavContainerPreview = styled.canvas`\r\n  width: 100%;\r\n  height: 15rem;\r\n  position: relative;\r\n  margin-bottom: -9px;\r\n`;\r\n\r\nexport const ContentContainer = styled.div``;\r\n\r\nexport const AvatarContainer = styled.img`\r\n  border: 5px solid rgb(${(props) => props.theme.background});\r\n  height: 7rem;\r\n  width: 7rem;\r\n  border-radius: 50%;\r\n  position: absolute;\r\n  left: 50%;\r\n  bottom: 75%;\r\n  transform: translateX(-50%);\r\n  transition: border 0.4s ease-in-out;\r\n`;\r\n\r\nexport const AvatarPreview = styled.canvas`\r\n  border: 5px solid rgb(${(props) => props.theme.background});\r\n  height: 7rem;\r\n  width: 7rem;\r\n  border-radius: 50%;\r\n  position: absolute;\r\n  left: 50%;\r\n  bottom: 75%;\r\n  transform: translateX(-50%);\r\n  transition: border 0.4s ease-in-out;\r\n`;\r\n\r\nexport const Username = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  width: 20%;\r\n  font-weight: bold;\r\n`;\r\n\r\nexport const NavbarContainer = styled.div`\r\n  width: 100%;\r\n  height: 2.7rem;\r\n  display: flex;\r\n  position: relative;\r\n  justify-content: space-between;\r\n  border-bottom: 1px solid rgb(${(props) => props.theme.primary});\r\n`;\r\n\r\nexport const NavbarItem = styled.div`\r\n  height: 2.7rem;\r\n  width: 21%;\r\n  box-shadow: inset 0 -2px 1px rgb(${(props) => props.theme.primary});\r\n  transition: box-shadow 0.2s ease-in-out, color 0.3s ease-in-out;\r\n\r\n  &:hover {\r\n    box-shadow: inset 0 -5.4rem 0 rgb(${(props) => props.theme.primary});\r\n    color: rgb(${(props) => props.theme.background});\r\n  }\r\n`;\r\n\r\nexport const PermissionDenied = styled.div`\r\n  text-align: center;\r\n  margin-top: 5rem;\r\n  font-size: 1.3rem;\r\n  color: rgb(${(props) => props.theme.primary});\r\n`;\r\n\r\nexport const Header = styled.div`\r\n  font-size: 2rem;\r\n  color: inherit;\r\n`;\r\n\r\nexport const Message = styled.div`\r\n  color: inherit;\r\n`;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport axiosInstance from \"@axios\";\r\nimport getImageSrc from \"@helpers/imageSrc\";\r\nimport { Route, NavLink, Redirect, Switch } from \"react-router-dom\";\r\nimport Posts from \"./Posts\";\r\nimport VotedPosts from \"./VotedPosts\";\r\nimport Images from \"./Images\";\r\nimport EditImage from \"@routes/Profile/EditImage\";\r\nimport ChangeUsername from \"@routes/Profile/EditInfo/ChangeUsername\";\r\nimport ChangeEmail from \"@routes/Profile/EditInfo/ChangeEmail\";\r\nimport ChangePassword from \"@routes/Profile/EditInfo/ChangePassword\";\r\nimport ProtectedRoute from \"@routes/ProtectedRoute\";\r\n\r\nimport {\r\n  NavContainer,\r\n  NavContainerPreview,\r\n  ContentContainer,\r\n  AvatarContainer,\r\n  AvatarPreview,\r\n  Username,\r\n  NavbarContainer,\r\n  NavbarItem,\r\n  PermissionDenied,\r\n  Header,\r\n  Message,\r\n} from \"./styles\";\r\n\r\nconst Profile = (props) => {\r\n  const user = useSelector((state) => state.user);\r\n  useSelector((state) => state.user?.previewCanvas);\r\n  const { username } = props.match.params;\r\n  const [userInfo, setUserInfo] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      const response = await axiosInstance.get(`/users/${username}`);\r\n      setUserInfo(response.data);\r\n    };\r\n    fetchUser();\r\n  }, [username]);\r\n\r\n  if (!userInfo) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {user?.previewCanvas && user?.previewCanvas.type === \"background\" ? (\r\n        <NavContainerPreview\r\n          type=\"background\"\r\n          ref={user.previewCanvas.ref}\r\n        ></NavContainerPreview>\r\n      ) : (\r\n        <NavContainer\r\n          image={getImageSrc(userInfo.background, \"background\")}\r\n        ></NavContainer>\r\n      )}\r\n      <NavbarContainer>\r\n        <NavbarItem>\r\n          <NavLink\r\n            to={`/user/${username}/posts`}\r\n            className=\"text-align__center\"\r\n            activeClassName=\"NavLink-active\"\r\n          >\r\n            Posts\r\n          </NavLink>\r\n        </NavbarItem>\r\n        <NavbarItem>\r\n          <NavLink\r\n            to={`/user/${username}/images`}\r\n            className=\"text-align__center\"\r\n            activeClassName=\"NavLink-active\"\r\n          >\r\n            Images\r\n          </NavLink>\r\n        </NavbarItem>\r\n        {user?.previewCanvas && user?.previewCanvas.type === \"avatar\" ? (\r\n          <AvatarPreview type=\"avatar\" ref={user.previewCanvas.ref} />\r\n        ) : (\r\n          <AvatarContainer src={getImageSrc(userInfo.avatar, \"avatar\")} />\r\n        )}\r\n        <Username>\r\n          <NavLink className=\"text-align__center\" to={`/user/${username}`}>\r\n            {userInfo.username}\r\n          </NavLink>\r\n        </Username>\r\n        <NavbarItem>\r\n          <NavLink\r\n            to={`/user/${username}/liked`}\r\n            className=\"text-align__center\"\r\n            activeClassName=\"NavLink-active\"\r\n          >\r\n            Liked\r\n          </NavLink>\r\n        </NavbarItem>\r\n        <NavbarItem>\r\n          <NavLink\r\n            to={`/user/${username}/disliked`}\r\n            className=\"text-align__center\"\r\n            activeClassName=\"NavLink-active\"\r\n          >\r\n            Disliked\r\n          </NavLink>\r\n        </NavbarItem>\r\n      </NavbarContainer>\r\n      <ContentContainer>\r\n        <Switch>\r\n          <Route\r\n            exact\r\n            path=\"/user/:username\"\r\n            render={() => <Redirect to={`/user/${username}/posts`} />}\r\n          />\r\n          <Route exact path={\"/user/:username/posts\"} component={Posts} />\r\n          <Route path={\"/user/:username/images\"} component={Images} />\r\n          <Route\r\n            path={\"/user/:username/liked\"}\r\n            render={() => {\r\n              return <VotedPosts type=\"liked\" match={props.match} />;\r\n            }}\r\n          />\r\n          <Route\r\n            path={\"/user/:username/disliked\"}\r\n            render={() => {\r\n              return <VotedPosts type=\"disliked\" match={props.match} />;\r\n            }}\r\n          />\r\n          {user && username === user.username ? (\r\n            <>\r\n              <ProtectedRoute\r\n                path={`/user/:username/settings/avatar`}\r\n                component={EditImage}\r\n                type=\"avatar\"\r\n                redirectTo=\"/home\"\r\n                redirectMsg=\"You have to log in to see that page\"\r\n                userPrivilege\r\n              />\r\n              <ProtectedRoute\r\n                path={`/user/:username/settings/background`}\r\n                component={EditImage}\r\n                type=\"background\"\r\n                redirectTo=\"/home\"\r\n                redirectMsg=\"You have to log in to see that page\"\r\n                userPrivilege\r\n              />\r\n              <ProtectedRoute\r\n                path={`/user/:username/settings/username`}\r\n                component={ChangeUsername}\r\n                type=\"username\"\r\n                redirectTo=\"/home\"\r\n                redirectMsg=\"You have to log in to see that page\"\r\n                userPrivilege\r\n              />\r\n              <ProtectedRoute\r\n                path={`/user/:username/settings/email`}\r\n                component={ChangeEmail}\r\n                type=\"email\"\r\n                redirectTo=\"/home\"\r\n                redirectMsg=\"You have to log in to see that page\"\r\n                userPrivilege\r\n              />\r\n              <ProtectedRoute\r\n                path={`/user/:username/settings/password`}\r\n                component={ChangePassword}\r\n                type=\"password\"\r\n                redirectTo=\"/home\"\r\n                redirectMsg=\"You have to log in to see that page\"\r\n                userPrivilege\r\n              />\r\n            </>\r\n          ) : (\r\n            <PermissionDenied>\r\n              <Header>\\_()_/</Header>\r\n              <Message>You dont have permission to access this page.</Message>\r\n            </PermissionDenied>\r\n          )}\r\n        </Switch>\r\n      </ContentContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import styled from \"styled-components\";\r\n\r\nexport const MainContainer = styled.div`\r\n  display: flex;\r\n  background: rgb(${(props) => props.theme.background});\r\n  width: 100%;\r\n  transition: background 0.4s ease-in-out;\r\n`;\r\n\r\nexport const RoutesContainer = styled.div`\r\n  margin: auto;\r\n  margin-top: 3rem;\r\n  min-height: calc(100vh - 3rem);\r\n  box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);\r\n  width: 40rem;\r\n  align-items: center;\r\n  overflow: hidden;\r\n\r\n  @media (max-width: 1500px) {\r\n    width: 35rem;\r\n  }\r\n\r\n  @media (max-width: 1300px) {\r\n    width: 30rem;\r\n  }\r\n\r\n  @media (max-width: 1200px) {\r\n    width: 25rem;\r\n  }\r\n\r\n  @media (max-width: 1000px) {\r\n    width: 100%;\r\n    margin-top: 7rem;\r\n  }\r\n\r\n  @media (max-width: 600px) {\r\n    margin-bottom: 4rem;\r\n  }\r\n`;\r\n\r\nexport const BackToHome = styled.div`\r\n  font-size: 1.2rem;\r\n  border-bottom: 1px solid rgb(${(props) => props.theme.primary});\r\n  background: rgb(${(props) => props.theme.background});\r\n  height: 3rem;\r\n  font-weight: bold;\r\n  letter-spacing: 1px;\r\n  color: rgb(${(props) => props.theme.lightText});\r\n  transition: color 0.2s ease-in-out, border 0.3s ease-in-out,\r\n    background 0.4s ease-in-out;\r\n  position: fixed;\r\n  width: 40rem;\r\n  top: 0;\r\n  box-shadow: 0 0.5rem 10px -3px rgba(0, 0, 0, 0.2);\r\n\r\n  &:hover {\r\n    color: rgb(${(props) => props.theme.primary});\r\n  }\r\n\r\n  @media (max-width: 1500px) {\r\n    width: 35rem;\r\n  }\r\n\r\n  @media (max-width: 1300px) {\r\n    width: 30rem;\r\n  }\r\n\r\n  @media (max-width: 1200px) {\r\n    width: 25rem;\r\n  }\r\n\r\n  @media (max-width: 1000px) {\r\n    margin-top: 4rem;\r\n    width: 100vw;\r\n  }\r\n`;\r\n","import { css, createGlobalStyle } from \"styled-components\";\r\n\r\nexport const globalStyles = css`\r\n  html {\r\n    font-family: \"Baloo Da 2\", cursive;\r\n    color: rgb(${(props) => props.theme.text});\r\n    overflow-y: scroll;\r\n  }\r\n\r\n  * {\r\n    color: rgb(${(props) => props.theme.text});\r\n    outline: none;\r\n    font-family: \"Baloo Da 2\", cursive;\r\n  }\r\n\r\n  ::-webkit-scrollbar {\r\n    width: 8px;\r\n  }\r\n\r\n  ::-webkit-scrollbar-track {\r\n    background: rgba(0, 0, 0, 0.2);\r\n    border-radius: 8px;\r\n  }\r\n\r\n  ::-webkit-scrollbar-thumb {\r\n    background: grey;\r\n    border-radius: 8px;\r\n    transition: background 0.2s ease-in-out;\r\n\r\n    &:hover {\r\n      background: rgb(${(props) => props.theme.primary});\r\n    }\r\n  }\r\n\r\n  a:-webkit-any-link {\r\n    text-decoration: none;\r\n    height: 100%;\r\n    padding-left: 1rem;\r\n    width: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    color: inherit;\r\n\r\n    &.text-align__center {\r\n      justify-content: space-around;\r\n      padding-left: 0;\r\n    }\r\n  }\r\n\r\n  .Toastify__toast--error {\r\n    background: rgb(${(props) => props.theme.background});\r\n  }\r\n  .Toastify__toast-body {\r\n    color: rgb(${(props) => props.theme.primary});\r\n    text-align: center;\r\n  }\r\n\r\n  .Toastify__close-button > svg {\r\n    fill: rgb(${(props) => props.theme.primary});\r\n  }\r\n  .Toastify__close-button:hover > svg,\r\n  .Toastify__close-button:focus > svg {\r\n    fill: rgb(${(props) => props.theme.text});\r\n  }\r\n  .Toastify__progress-bar {\r\n    background: rgb(${(props) => props.theme.primary});\r\n  }\r\n  .fa-thumbs-down {\r\n    transform: translateY(0.13rem);\r\n  }\r\n  .fa-thumbs-up {\r\n    transform: translateY(-0.13rem);\r\n  }\r\n  .ReactCrop > div:first-child {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n  .ReactCrop__image {\r\n    max-width: 100%;\r\n    max-height: 100%;\r\n  }\r\n\r\n  .ReactCrop__crop-selection {\r\n    border: 2px dotted rgb(${(props) => props.theme.primary});\r\n  }\r\n  input {\r\n    letter-spacing: 0.5px;\r\n  }\r\n  input[type=\"file\"] {\r\n    display: none;\r\n  }\r\n  .NavLink-active {\r\n    transition: box-shadow 0.2s ease-in-out;\r\n    box-shadow: inset 0 -5.4rem 0 rgb(${(props) => props.theme.primary});\r\n  }\r\n`;\r\n\r\nexport const GlobalStyle = createGlobalStyle`${globalStyles}`;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Redirect, Route, Switch, Link } from \"react-router-dom\";\r\nimport axiosInstance from \"@axios\";\r\n\r\nimport Searchbar from \"@components/ui/Searchbar\";\r\nimport Authbar from \"@components/ui/Authbar\";\r\n\r\nimport Register from \"@routes/Register\";\r\nimport Login from \"@routes/Login\";\r\nimport Home from \"@routes/Home\";\r\nimport Post from \"@routes/Post\";\r\nimport Profile from \"@routes/Profile\";\r\nimport NotFound from \"@routes/NotFound\";\r\n\r\nimport ProtectedRoute from \"@routes/ProtectedRoute\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { login } from \"@actions/userActions\";\r\n\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { MainContainer, RoutesContainer, BackToHome } from \"./styles\";\r\n\r\nimport { GlobalStyle } from \"@styles/globalStyle\";\r\n\r\nimport ThemeContext from \"@context/theme\";\r\n\r\nimport { ThemeProvider } from \"styled-components\";\r\nimport { modes, accents } from \"./styles/themes\";\r\n\r\nfunction App({ login }) {\r\n  const user = JSON.parse(window.localStorage.getItem(\"user\"));\r\n  const accessToken = JSON.parse(window.localStorage.getItem(\"accessToken\"));\r\n  let currentTheme = JSON.parse(window.localStorage.getItem(\"theme\"));\r\n  axiosInstance.defaults.headers.authorization = \"Bearer \" + accessToken;\r\n\r\n  if (!currentTheme) {\r\n    currentTheme = { mode: \"light\", accent: \"red\" };\r\n    window.localStorage.setItem(\"theme\", JSON.stringify(currentTheme));\r\n  }\r\n\r\n  const [mode, setMode] = useState(modes[currentTheme.mode]);\r\n  const [accent, setAccent] = useState(accents[currentTheme.accent]);\r\n\r\n  const theme = { primary: accent, ...mode };\r\n\r\n  const fetchUser = async () => {\r\n    try {\r\n      await axiosInstance.get(`/users/${user.username}`);\r\n      login(user);\r\n    } catch (error) {\r\n      window.localStorage.removeItem(\"user\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    user && fetchUser();\r\n  });\r\n\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <ThemeContext.Provider\r\n        value={{\r\n          themeInfo: currentTheme,\r\n          themeValues: theme,\r\n          setMode,\r\n          setAccent,\r\n        }}\r\n      >\r\n        <GlobalStyle />\r\n        <MainContainer>\r\n          <RoutesContainer>\r\n            <Switch>\r\n              <Route exact path=\"/\">\r\n                <Redirect to=\"/home\" />\r\n              </Route>\r\n              <Route exact path=\"/home\" component={Home} />\r\n              <ProtectedRoute\r\n                exact\r\n                path=\"/register\"\r\n                component={Register}\r\n                redirectTo=\"/home\"\r\n                redirectMsg=\"You already have an account\"\r\n              />\r\n              <ProtectedRoute\r\n                exact\r\n                path=\"/login\"\r\n                component={Login}\r\n                redirectTo=\"/home\"\r\n                redirectMsg=\"You are already logged in\"\r\n              />\r\n              <Route exact path=\"/posts/:postId\" component={Post} />\r\n              <ProtectedRoute\r\n                path=\"/user/:username\"\r\n                component={Profile}\r\n                redirectTo=\"/home\"\r\n                redirectMsg=\"You have to log in to see that page\"\r\n                userPrivilege\r\n              />\r\n\r\n              <Route default component={NotFound} />\r\n            </Switch>\r\n            <BackToHome>\r\n              <Link className=\"text-align__center\" to=\"/home\">\r\n                Home\r\n              </Link>\r\n            </BackToHome>\r\n          </RoutesContainer>\r\n          <Authbar />\r\n          <Searchbar />\r\n          <ToastContainer position=\"bottom-right\" />\r\n        </MainContainer>\r\n      </ThemeContext.Provider>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default connect(null, { login })(App);\r\n","import { css, createGlobalStyle } from \"styled-components\";\r\n\r\n// prettier-ignore\r\nexport const reset = css`\r\n/* http://meyerweb.com/eric/tools/css/reset/\r\n   v4.0 | 20180602\r\n   License: none (public domain)\r\n*/\r\nhtml, body, div, span, applet, object, iframe,\r\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\r\na, abbr, acronym, address, big, cite, code,\r\ndel, dfn, em, img, ins, kbd, q, s, samp,\r\nsmall, strike, strong, sub, sup, tt, var,\r\nb, u, i, center,\r\ndl, dt, dd, ol, ul, li,\r\nfieldset, form, label, legend,\r\ntable, caption, tbody, tfoot, thead, tr, th, td,\r\narticle, aside, canvas, details, embed,\r\nfigure, figcaption, footer, header, hgroup,\r\nmain, menu, nav, output, ruby, section, summary,\r\ntime, mark, audio, video {\r\n  margin: 0;\r\n  padding: 0;\r\n  border: 0;\r\n  font-size: 100%;\r\n  vertical-align: baseline;\r\n}\r\n/* HTML5 display-role reset for older browsers */\r\narticle, aside, details, figcaption, figure,\r\nfooter, header, hgroup, main, menu, nav, section {\r\n  display: block;\r\n}\r\n/* HTML5 hidden-attribute fix for newer browsers */\r\n*[hidden] {\r\n    display: none;\r\n}\r\nol, ul {\r\n  list-style: none;\r\n}\r\nblockquote, q {\r\n  quotes: none;\r\n}\r\nblockquote:before, blockquote:after,\r\nq:before, q:after {\r\n  content: '';\r\n  content: none;\r\n}\r\ntable {\r\n  border-collapse: collapse;\r\n  border-spacing: 0;\r\n}\r\n`\r\n\r\nexport const Reset = createGlobalStyle`${reset}`;\r\n\r\nexport default reset;\r\n","const userReducer = (state = null, action) => {\r\n  const newState = { ...state };\r\n  switch (action.type) {\r\n    case \"LOGIN\":\r\n      return action.payload;\r\n    case \"LOGOUT\":\r\n      return null;\r\n    case \"CHANGE_IMAGE\":\r\n      newState[action.imgType] = action.payload;\r\n      return newState;\r\n    case \"SET_PREVIEW_CANVAS\":\r\n      newState.previewCanvas = action.payload;\r\n      return newState;\r\n    case \"CHANGE_USERNAME\":\r\n      newState.username = action.payload;\r\n      return newState;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default userReducer;\r\n","import { combineReducers } from \"redux\";\r\n\r\nimport userReducer from \"./userReducer\";\r\n\r\nexport default combineReducers({\r\n  user: userReducer,\r\n});\r\n","import React, { StrictMode } from \"react\";\r\nimport { render } from \"react-dom\";\r\n\r\nimport App from \"./App\";\r\n\r\nimport { Reset } from \"@styles/cssReset\";\r\n\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore } from \"redux\";\r\n\r\nimport reducers from \"./store/reducers\";\r\n\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\n\r\nconst store = createStore(reducers, composeWithDevTools());\r\n\r\nrender(\r\n  <StrictMode>\r\n    <Reset />\r\n    <Router>\r\n      <Provider store={store}>\r\n        <App />\r\n      </Provider>\r\n    </Router>\r\n  </StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nexport default store;\r\n"],"sourceRoot":""}